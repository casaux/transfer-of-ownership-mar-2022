/*! ATO_THV_Client 2020-08-11 (release) Copyright (c) 2020 Australian Taxation Office */
!function(){var requirejs,require,define;!function(ba){function G(a){return"[object Function]"===K.call(a)}function H(a){return"[object Array]"===K.call(a)}function v(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function T(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function t(a,b){return fa.call(a,b)}function m(a,b){return t(a,b)&&a[b]}function B(a,b){for(var c in a)if(t(a,c)&&b(a[c],c))break}function U(a,b,c,d){b&&B(b,function(b,e){(c||!t(a,e))&&(!d||"object"!=typeof b||!b||H(b)||G(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),U(a[e],b,c,d)))});return a}function u(a,b){return function(){return b.apply(a,arguments)}}function ca(a){throw a}function da(a){if(!a)return a;var b=ba;v(a.split("."),function(a){b=b[a]});return b}function C(a,b,c,d){b=Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function ga(a){function b(a,b,c){var d,e,f,g,h,i,j,k,b=b&&b.split("/"),l=D.map,n=l&&l["*"];if(a){a=a.split("/");e=a.length-1;D.nodeIdCompat&&Q.test(a[e])&&(a[e]=a[e].replace(Q,""));"."===a[0].charAt(0)&&b&&(e=b.slice(0,b.length-1),a=e.concat(a));e=a;for(f=0;f<e.length;f++)g=e[f],"."===g?(e.splice(f,1),f-=1):".."===g&&0!==f&&(1!==f||".."!==e[2])&&".."!==e[f-1]&&f>0&&(e.splice(f-1,2),f-=2);a=a.join("/")}if(c&&l&&(b||n)){e=a.split("/");f=e.length;a:for(;f>0;f-=1){h=e.slice(0,f).join("/");if(b)for(g=b.length;g>0;g-=1)if((c=m(l,b.slice(0,g).join("/")))&&(c=m(c,h))){d=c;i=f;break a}!j&&n&&m(n,h)&&(j=m(n,h),k=f)}!d&&j&&(d=j,i=k);d&&(e.splice(0,i,d),a=e.join("/"))}return(d=m(D.pkgs,a))?d:a}function c(a){z&&v(document.getElementsByTagName("script"),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===x.contextName?(b.parentNode.removeChild(b),!0):void 0})}function d(a){var b=m(D.paths,a);return b&&H(b)&&1<b.length?(b.shift(),x.require.undef(a),x.makeRequire(null,{skipMap:!0})([a]),!0):void 0}function e(a){var b,c=a?a.indexOf("!"):-1;c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length));return[b,a]}function f(a,c,d,f){var g,h,i=null,j=c?c.name:null,k=a,l=!0,n="";a||(l=!1,a="_@r"+(P+=1));a=e(a);i=a[0];a=a[1];i&&(i=b(i,j,f),h=m(K,i));a&&(i?n=h&&h.normalize?h.normalize(a,function(a){return b(a,j,f)}):-1===a.indexOf("!")?b(a,j,f):a:(n=b(a,j,f),a=e(n),i=a[0],n=a[1],d=!0,g=x.nameToUrl(n)));d=!i||h||d?"":"_unnormalized"+(S+=1);return{prefix:i,name:n,parentMap:c,unnormalized:!!d,url:g,originalName:k,isDefine:l,id:(i?i+"!"+n:n)+d}}function h(a){var b=a.id,c=m(E,b);c||(c=E[b]=new x.Module(a));return c}function i(a,b,c){var d=a.id,e=m(E,d);!t(K,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(K[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(v(c,function(b){(b=m(E,b))&&(b.error=a,b.events.error&&(d=!0,b.emit("error",a)))}),d)||g.onError(a)}function k(){R.length&&(ha.apply(J,[J.length,0].concat(R)),R=[])}function l(a){delete E[a];delete F[a]}function n(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,v(a.depMaps,function(d,e){var f=d.id,g=m(E,f);g&&!a.depMatched[e]&&!c[f]&&(m(b,f)?(a.defineDep(e,K[f]),a.check()):n(g,b,c))}),c[d]=!0)}function o(){var a,b,e=(a=1e3*D.waitSeconds)&&x.startTime+a<(new Date).getTime(),f=[],g=[],h=!1,i=!0;if(!s){s=!0;B(F,function(a){var j=a.map,k=j.id;if(a.enabled&&(j.isDefine||g.push(a),!a.error))if(!a.inited&&e)d(k)?h=b=!0:(f.push(k),c(k));else if(!a.inited&&a.fetched&&j.isDefine&&(h=!0,!j.prefix))return i=!1});if(e&&f.length)return a=C("timeout","Load timeout for modules: "+f,null,f),a.contextName=x.contextName,j(a);i&&v(g,function(a){n(a,{},{})});e&&!b||!h||!z&&!ea||A||(A=setTimeout(function(){A=0;o()},50));s=!1}}function p(a){t(K,a[0])||h(f(a[0],null,!0)).init(a[1],a[2])}function q(a){var a=a.currentTarget||a.srcElement,b=x.onScriptLoad;a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=x.onScriptError;(!a.detachEvent||Y)&&a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function r(){var a;for(k();J.length;){a=J.shift();if(null===a[0])return j(C("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));p(a)}}var s,w,x,y,A,D={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},E={},F={},I={},J=[],K={},L={},O={},P=1,S=1;y={require:function(a){return a.require?a.require:a.require=x.makeRequire(a.map)},exports:function(a){a.usingExports=!0;return a.map.isDefine?a.exports?K[a.map.id]=a.exports:a.exports=K[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return m(D.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}};w=function(a){this.events=m(I,a.id)||{};this.map=a;this.shim=m(D.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};w.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;c?this.on("error",c):this.events.error&&(c=u(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;x.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();x.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],u(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;L[a]||(L[a]=!0,x.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id;b=this.depExports;var d=this.exports,e=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(G(e)){if(this.events.error&&this.map.isDefine||g.onError!==ca)try{d=x.execCb(c,e,b,d)}catch(f){a=f}else d=x.execCb(c,e,b,d);this.map.isDefine&&void 0===d&&((b=this.module)?d=b.exports:this.usingExports&&(d=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else d=e;this.exports=d;this.map.isDefine&&!this.ignore&&(K[c]=d,g.onResourceLoad)&&g.onResourceLoad(x,this.map,this.depMaps);l(c);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,c=a.id,d=f(a.prefix);this.depMaps.push(d);i(d,"defined",u(this,function(d){var e,k;k=m(O,this.map.id);var n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=x.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){if(d.normalize&&(n=d.normalize(n,function(a){return b(a,o,!0)})||""),d=f(a.prefix+"!"+n,this.map.parentMap),i(d,"defined",u(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=m(E,d.id)){this.depMaps.push(d);this.events.error&&k.on("error",u(this,function(a){this.emit("error",a)}));k.enable()}}else k?(this.map.url=x.nameToUrl(k),this.load()):(e=u(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=u(this,function(a){this.inited=!0;this.error=a;a.requireModules=[c];B(E,function(a){0===a.map.id.indexOf(c+"_unnormalized")&&l(a.map.id)});j(a)}),e.fromText=u(this,function(b,d){var i=a.name,k=f(i),l=M;d&&(b=d);l&&(M=!1);h(k);t(D.config,c)&&(D.config[i]=D.config[c]);try{g.exec(b)}catch(m){return j(C("fromtexteval","fromText eval for "+c+" failed: "+m,m,[c]))}l&&(M=!0);this.depMaps.push(k);x.completeLoad(i);p([i],e)}),d.load(a.name,p,e,D))}));x.enable(d,this);this.pluginMaps[d.id]=d},enable:function(){F[this.map.id]=this;this.enabling=this.enabled=!0;v(this.depMaps,u(this,function(a,b){var c,d;if("string"==typeof a){a=f(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=m(y,a.id)){this.depExports[b]=c(this);return}this.depCount+=1;i(a,"defined",u(this,function(a){this.defineDep(b,a);this.check()}));this.errback?i(a,"error",u(this,this.errback)):this.events.error&&i(a,"error",u(this,function(a){this.emit("error",a)}))}c=a.id;d=E[c];!t(y,c)&&d&&!d.enabled&&x.enable(a,this)}));B(this.pluginMaps,u(this,function(a){var b=m(E,a.id);b&&!b.enabled&&x.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){v(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}};x={config:D,contextName:a,registry:E,defined:K,urlFetched:L,defQueue:J,Module:w,makeModuleMap:f,nextTick:g.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=D.shim,c={paths:!0,bundles:!0,config:!0,map:!0};B(a,function(a,b){c[b]?(D[b]||(D[b]={}),U(D[b],a,!0,!0)):D[b]=a});a.bundles&&B(a.bundles,function(a,b){v(a,function(a){a!==b&&(O[a]=b)})});a.shim&&(B(a.shim,function(a,c){H(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=x.makeShimExports(a));b[c]=a}),D.shim=b);a.packages&&v(a.packages,function(a){var b,a="string"==typeof a?{name:a}:a;b=a.name;a.location&&(D.paths[b]=a.location);D.pkgs[b]=a.name+"/"+(a.main||"main").replace(ia,"").replace(Q,"")});B(E,function(a,b){!a.inited&&!a.map.unnormalized&&(a.map=f(b))});(a.deps||a.callback)&&x.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var b;a.init&&(b=a.init.apply(ba,arguments));return b||a.exports&&da(a.exports)}},makeRequire:function(d,e){function i(b,c,k){var l,m;e.enableBuildCallback&&c&&G(c)&&(c.__requireJsBuild=!0);if("string"==typeof b){if(G(c))return j(C("requireargs","Invalid require call"),k);if(d&&t(y,b))return y[b](E[d.id]);if(g.get)return g.get(x,b,d,i);l=f(b,d,!1,!0);l=l.id;return t(K,l)?K[l]:j(C("notloaded",'Module name "'+l+'" has not been loaded yet for context: '+a+(d?"":". Use require([])")))}r();x.nextTick(function(){r();m=h(f(null,d));m.skipMap=e.skipMap;m.init(b,c,k,{enabled:!0});o()});return i}e=e||{};U(i,{isBrowser:z,toUrl:function(a){var c,e=a.lastIndexOf("."),f=a.split("/")[0];-1!==e&&("."!==f&&".."!==f||e>1)&&(c=a.substring(e,a.length),a=a.substring(0,e));return x.nameToUrl(b(a,d&&d.id,!0),c,!0)},defined:function(a){return t(K,f(a,d,!1,!0).id)},specified:function(a){a=f(a,d,!1,!0).id;return t(K,a)||t(E,a)}});d||(i.undef=function(a){k();var b=f(a,d,!0),e=m(E,a);c(a);delete K[a];delete L[b.url];delete I[a];T(J,function(b,c){b[0]===a&&J.splice(c,1)});e&&(e.events.defined&&(I[a]=e.events),l(a))});return i},enable:function(a){m(E,a.id)&&h(a).enable()},completeLoad:function(a){var b,c,e=m(D.shim,a)||{},f=e.exports;for(k();J.length;){c=J.shift();if(null===c[0]){c[0]=a;if(b)break;b=!0}else c[0]===a&&(b=!0);p(c)}c=m(E,a);if(!b&&!t(K,a)&&c&&!c.inited){if(D.enforceDefine&&(!f||!da(f)))return d(a)?void 0:j(C("nodefine","No define call for "+a,null,[a]));p([a,e.deps||[],e.exportsFn])}o()},nameToUrl:function(a,b,c){var d,e,f;(d=m(D.pkgs,a))&&(a=d);if(d=m(O,a))return x.nameToUrl(d,b,c);if(g.jsExtRegExp.test(a))d=a+(b||"");else{d=D.paths;a=a.split("/");for(e=a.length;e>0;e-=1)if(f=a.slice(0,e).join("/"),f=m(d,f)){H(f)&&(f=f[0]);a.splice(0,e,f);break}d=a.join("/");d+=b||(/^data\:|\?/.test(d)||c?"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":D.baseUrl)+d}return D.urlArgs?d+((-1===d.indexOf("?")?"?":"&")+D.urlArgs):d},load:function(a,b){g.load(x,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){("load"===a.type||ja.test((a.currentTarget||a.srcElement).readyState))&&(N=null,a=q(a),x.completeLoad(a.id))},onScriptError:function(a){var b=q(a);return d(b.id)?void 0:j(C("scripterror","Script error for: "+b.id,a,[b.id]))}};x.require=x.makeRequire();return x}var g,x,y,D,I,E,N,J,s,O,ka=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,la=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,Q=/\.js$/,ia=/^\.\//;x=Object.prototype;var K=x.toString,fa=x.hasOwnProperty,ha=Array.prototype.splice,z=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),ea=!z&&"undefined"!=typeof importScripts,ja=z&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),F={},q={},R=[],M=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(G(requirejs))return;q=requirejs;requirejs=void 0}"undefined"!=typeof require&&!G(require)&&(q=require,require=void 0);g=requirejs=function(a,b,c,d){var e,f="_";!H(a)&&"string"!=typeof a&&(e=a,H(b)?(a=b,b=c,c=d):a=[]);e&&e.context&&(f=e.context);(d=m(F,f))||(d=F[f]=g.s.newContext(f));e&&d.configure(e);return d.require(a,b,c)};g.config=function(a){return g(a)};g.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()};require||(require=g);g.version="2.1.17";g.jsExtRegExp=/^\/|:|\?|\.js$/;g.isBrowser=z;x=g.s={contexts:F,newContext:ga};g({});v(["toUrl","undef","defined","specified"],function(a){g[a]=function(){var b=F._;return b.require[a].apply(b,arguments)}});z&&(y=x.head=document.getElementsByTagName("head")[0],D=document.getElementsByTagName("base")[0])&&(y=x.head=D.parentNode);g.onError=ca;g.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";b.charset="utf-8";b.async=!0;return b};g.load=function(a,b,c){var d=a&&a.config||{};if(z)return d=g.createNode(d,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&0>d.attachEvent.toString().indexOf("[native code")||Y?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(M=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,J=d,D?y.insertBefore(d,D):y.appendChild(d),J=null,d;if(ea)try{importScripts(c),a.completeLoad(b)}catch(e){a.onError(C("importscripts","importScripts failed for "+b+" at "+c,e,[b]))}};z&&!q.skipDataMain&&T(document.getElementsByTagName("script"),function(a){y||(y=a.parentNode);return(I=a.getAttribute("data-main"))?(s=I,q.baseUrl||(E=s.split("/"),s=E.pop(),O=E.length?E.join("/")+"/":"./",q.baseUrl=O),s=s.replace(Q,""),g.jsExtRegExp.test(s)&&(s=I),q.deps=q.deps?q.deps.concat(s):[s],!0):void 0});define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null);H(b)||(c=b,b=null);!b&&G(c)&&(b=[],c.length&&(c.toString().replace(ka,"").replace(la,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b)));if(M){(d=J)||(N&&"interactive"===N.readyState||T(document.getElementsByTagName("script"),function(a){return"interactive"===a.readyState?N=a:void 0}),d=N);d&&(a||(a=d.getAttribute("data-requiremodule")),e=F[d.getAttribute("data-requirecontext")])}(e?e.defQueue:R).push([a,b,c])};define.amd={jQuery:!0};g.exec=function(b){return eval(b)};g(q)}}(this);define("requireLib",function(){});!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=fa.type(a);return"function"===c||fa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(na.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return fa.inArray(a,b)>=0!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b=va[a]={};fa.each(a.match(ua)||[],function(a,c){b[c]=!0});return b}function g(){if(pa.addEventListener){pa.removeEventListener("DOMContentLoaded",h,!1);a.removeEventListener("load",h,!1)}else{pa.detachEvent("onreadystatechange",h);a.detachEvent("onload",h)}}function h(){if(pa.addEventListener||"load"===event.type||"complete"===pa.readyState){g();fa.ready()}}function i(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(Aa,"-$1").toLowerCase();c=a.getAttribute(d);if("string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:za.test(c)?fa.parseJSON(c):c}catch(e){}fa.data(a,b,c)}else c=void 0}return c}function j(a){var b;for(b in a)if(("data"!==b||!fa.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function k(a,b,c,d){if(fa.acceptData(a)){var e,f,g=fa.expando,h=a.nodeType,i=h?fa.cache:a,j=h?a[g]:a[g]&&g;if(j&&i[j]&&(d||i[j].data)||void 0!==c||"string"!=typeof b){j||(j=h?a[g]=W.pop()||fa.guid++:g);i[j]||(i[j]=h?{}:{toJSON:fa.noop});("object"==typeof b||"function"==typeof b)&&(d?i[j]=fa.extend(i[j],b):i[j].data=fa.extend(i[j].data,b));f=i[j];if(!d){f.data||(f.data={});f=f.data}void 0!==c&&(f[fa.camelCase(b)]=c);if("string"==typeof b){e=f[b];null==e&&(e=f[fa.camelCase(b)])}else e=f;return e}}}function l(a,b,c){if(fa.acceptData(a)){var d,e,f=a.nodeType,g=f?fa.cache:a,h=f?a[fa.expando]:fa.expando;if(g[h]){if(b){d=c?g[h]:g[h].data;if(d){if(fa.isArray(b))b=b.concat(fa.map(b,fa.camelCase));else if(b in d)b=[b];else{b=fa.camelCase(b);b=b in d?[b]:b.split(" ")}e=b.length;for(;e--;)delete d[b[e]];if(c?!j(d):!fa.isEmptyObject(d))return}}if(!c){delete g[h].data;if(!j(g[h]))return}f?fa.cleanData([a],!0):da.deleteExpando||g!=g.window?delete g[h]:g[h]=null}}}function m(){return!0}function n(){return!1}function o(){try{return pa.activeElement}catch(a){}}function p(a){var b=La.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function q(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==ya?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==ya?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||fa.nodeName(d,b)?f.push(d):fa.merge(f,q(d,b));return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],f):f}function r(a){Fa.test(a.type)&&(a.defaultChecked=a.checked)}function s(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function t(a){a.type=(null!==fa.find.attr(a,"type"))+"/"+a.type;return a}function u(a){var b=Wa.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function v(a,b){for(var c,d=0;null!=(c=a[d]);d++)fa._data(c,"globalEval",!b||fa._data(b[d],"globalEval"))}function w(a,b){if(1===b.nodeType&&fa.hasData(a)){var c,d,e,f=fa._data(a),g=fa._data(b,f),h=f.events;if(h){delete g.handle;g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)fa.event.add(b,c,h[c][d])}g.data&&(g.data=fa.extend({},g.data))}}function x(a,b){var c,d,e;if(1===b.nodeType){c=b.nodeName.toLowerCase();if(!da.noCloneEvent&&b[fa.expando]){e=fa._data(b);for(d in e.events)fa.removeEvent(b,d,e.handle);b.removeAttribute(fa.expando)}if("script"===c&&b.text!==a.text){t(b).text=a.text;u(b)}else if("object"===c){b.parentNode&&(b.outerHTML=a.outerHTML);da.html5Clone&&a.innerHTML&&!fa.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)}else if("input"===c&&Fa.test(a.type)){b.defaultChecked=b.checked=a.checked;b.value!==a.value&&(b.value=a.value)}else"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function y(b,c){var d=fa(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:fa.css(d[0],"display");d.detach();return e}function z(a){var b=pa,c=ab[a];if(!c){c=y(a,b);if("none"===c||!c){_a=(_a||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement);b=(_a[0].contentWindow||_a[0].contentDocument).document;b.write();b.close();c=y(a,b);_a.detach()}ab[a]=c}return c}function A(a,b){return{get:function(){var c=a();if(null!=c){if(!c)return(this.get=b).apply(this,arguments);delete this.get}}}}function B(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=nb.length;e--;){b=nb[e]+c;if(b in a)return b}return d}function C(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g];if(d.style){f[g]=fa._data(d,"olddisplay");c=d.style.display;if(b){f[g]||"none"!==c||(d.style.display="");""===d.style.display&&Da(d)&&(f[g]=fa._data(d,"olddisplay",z(d.nodeName)))}else if(!f[g]){e=Da(d);(c&&"none"!==c||!e)&&fa._data(d,"olddisplay",e?c:fa.css(d,"display"))}}}for(g=0;h>g;g++){d=a[g];d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function D(a,b,c){var d=jb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=fa.css(a,c+Ca[f],!0,e));if(d){"content"===c&&(g-=fa.css(a,"padding"+Ca[f],!0,e));"margin"!==c&&(g-=fa.css(a,"border"+Ca[f]+"Width",!0,e))}else{g+=fa.css(a,"padding"+Ca[f],!0,e);"padding"!==c&&(g+=fa.css(a,"border"+Ca[f]+"Width",!0,e))}}return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=bb(a),g=da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,f);if(0>=e||null==e){e=cb(a,b,f);(0>e||null==e)&&(e=a.style[b]);if(eb.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b,c,d,e){return new G.prototype.init(a,b,c,d,e)}function H(){setTimeout(function(){ob=void 0});return ob=fa.now()}function I(a,b){var c,d={height:a},e=0;b=b?1:0;for(;4>e;e+=2-b){c=Ca[e];d["margin"+c]=d["padding"+c]=a}b&&(d.opacity=d.width=a);return d}function J(a,b,c){for(var d,e=(ub[b]||[]).concat(ub["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function K(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Da(a),p=fa._data(a,"fxshow");if(!c.queue){h=fa._queueHooks(a,"fx");if(null==h.unqueued){h.unqueued=0;i=h.empty.fire;h.empty.fire=function(){h.unqueued||i()}}h.unqueued++;l.always(function(){l.always(function(){h.unqueued--;fa.queue(a,"fx").length||h.empty.fire()})})}if(1===a.nodeType&&("height"in b||"width"in b)){c.overflow=[n.overflow,n.overflowX,n.overflowY];j=fa.css(a,"display");k=z(a.nodeName);"none"===j&&(j=k);"inline"===j&&"none"===fa.css(a,"float")&&(da.inlineBlockNeedsLayout&&"inline"!==k?n.zoom=1:n.display="inline-block")}if(c.overflow){n.overflow="hidden";da.shrinkWrapBlocks()||l.always(function(){n.overflow=c.overflow[0];n.overflowX=c.overflow[1];n.overflowY=c.overflow[2]})}for(d in b){e=b[d];if(qb.exec(e)){delete b[d];f=f||"toggle"===e;if(e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}}if(!fa.isEmptyObject(m)){p?"hidden"in p&&(o=p.hidden):p=fa._data(a,"fxshow",{});f&&(p.hidden=!o);o?fa(a).show():l.done(function(){fa(a).hide()});l.done(function(){var b;fa._removeData(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m){g=J(o?p[d]:0,d,l);if(!(d in p)){p[d]=g.start;if(o){g.end=g.start;g.start="width"===d||"height"===d?1:0}}}}}function L(a,b){var c,d,e,f,g;for(c in a){d=fa.camelCase(c);e=b[d];f=a[c];if(fa.isArray(f)){e=f[1];f=a[c]=f[0]}if(c!==d){a[d]=f;delete a[c]}g=fa.cssHooks[d];if(g&&"expand"in g){f=g.expand(f);delete a[d];for(c in f)if(!(c in a)){a[c]=f[c];b[c]=e}}else b[d]=e}}function M(a,b,c){var d,e,f=0,g=tb.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ob||H(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);h.notifyWith(a,[j,f,c]);if(1>f&&i)return c;h.resolveWith(a,[j]);return!1},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:ob||H(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);j.tweens.push(d);return d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;e=!0;for(;d>c;c++)j.tweens[c].run(1);b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]);return this}}),k=j.props;L(k,j.opts.specialEasing);for(;g>f;f++){d=tb[f].call(j,a,k,j.opts);if(d)return d}fa.map(k,J,j);fa.isFunction(j.opts.start)&&j.opts.start.call(a,j);fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue}));return j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function N(a){return function(b,c){if("string"!=typeof b){c=b;b="*"}var d,e=0,f=b.toLowerCase().match(ua)||[];if(fa.isFunction(c))for(;d=f[e++];)if("+"===d.charAt(0)){d=d.slice(1)||"*";(a[d]=a[d]||[]).unshift(c)}else(a[d]=a[d]||[]).push(c)}}function O(a,b,c,d){function e(h){var i;f[h]=!0;fa.each(a[h]||[],function(a,h){var j=h(b,c,d);if("string"==typeof j&&!g&&!f[j]){b.dataTypes.unshift(j);e(j);return!1}return g?!(i=j):void 0});return i}var f={},g=a===Sb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function P(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);c&&fa.extend(!0,a,c);return a}function Q(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];){i.shift();void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}if(f){f!==i[0]&&i.unshift(f);return c[f]}}function R(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();for(;f;){a.responseFields[f]&&(c[a.responseFields[f]]=b);!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType));i=f;f=k.shift();if(f)if("*"===f)f=i;else if("*"!==i&&i!==f){g=j[i+" "+f]||j["* "+f];if(!g)for(e in j){h=e.split(" ");if(h[1]===f){g=j[i+" "+h[0]]||j["* "+h[0]];if(g){if(g===!0)g=j[e];else if(j[e]!==!0){f=h[0];k.unshift(h[1])}break}}}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}return{state:"success",data:b}}function S(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Wb.test(a)?d(a,e):S(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)S(a+"["+e+"]",b[e],c,d)}function T(){try{return new a.XMLHttpRequest}catch(b){}}function U(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function V(a){return fa.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var W=[],X=W.slice,Y=W.concat,Z=W.push,$=W.indexOf,_={},aa=_.toString,ba=_.hasOwnProperty,ca="".trim,da={},ea="1.11.0",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return X.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:X.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);b.prevObject=this;b.context=this.context;return b},each:function(a,b){return fa.each(this,a,b)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(X.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:W.sort,splice:W.splice};fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;if("boolean"==typeof g){j=g;g=arguments[h]||{};h++}"object"==typeof g||fa.isFunction(g)||(g={});if(h===i){g=this;h--}for(;i>h;h++)if(null!=(e=arguments[h]))for(d in e){a=g[d];c=e[d];if(g!==c)if(j&&c&&(fa.isPlainObject(c)||(b=fa.isArray(c)))){if(b){b=!1;f=a&&fa.isArray(a)?a:[]}else f=a&&fa.isPlainObject(a)?a:{};g[d]=fa.extend(j,f,c)}else void 0!==c&&(g[d]=c)}return g};fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray||function(a){return"array"===fa.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;try{if(a.constructor&&!ba.call(a,"constructor")&&!ba.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(da.ownLast)for(b in a)return ba.call(a,b);for(b in a);return void 0===b||ba.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?_[aa.call(a)]||"object":typeof a},globalEval:function(b){b&&fa.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d)if(h)for(;g>f;f++){e=b.apply(a[f],d);if(e===!1)break}else for(f in a){e=b.apply(a[f],d);if(e===!1)break}else if(h)for(;g>f;f++){e=b.call(a[f],f,a[f]);if(e===!1)break}else for(f in a){e=b.call(a[f],f,a[f]);if(e===!1)break}return a},trim:ca&&!ca.call("\ufeff ")?function(a){return null==a?"":ca.call(a)}:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):Z.call(d,a));return d},inArray:function(a,b,c){var d;if(b){if($)return $.call(b,a,c);d=b.length;c=c?0>c?Math.max(0,d+c):c:0;for(;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];a.length=e;return a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f);d!==h&&e.push(a[f])}return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++){e=b(a[f],f,d);null!=e&&i.push(e)}else for(f in a){e=b(a[f],f,d);null!=e&&i.push(e)}return Y.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b){e=a[b];b=a;a=e}if(!fa.isFunction(a))return void 0;c=X.call(arguments,2);d=function(){return a.apply(b||this,c.concat(X.call(arguments)))};d.guid=a.guid=a.guid||fa.guid++;return d},now:function(){return+new Date},support:da});fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){_["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,o,p,q;(b?b.ownerDocument||b:O)!==G&&F(b);b=b||G;c=c||[];if(!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sa.exec(a))if(g=e[1]){if(9===h){f=b.getElementById(g);if(!f||!f.parentNode)return c;if(f.id===g){c.push(f);return c}}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g){c.push(f);return c}}else{if(e[2]){_.apply(c,b.getElementsByTagName(a));return c}if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName){_.apply(c,b.getElementsByClassName(g));return c}}if(x.qsa&&(!J||!J.test(a))){o=l=N;p=b;q=9===h&&a;if(1===h&&"object"!==b.nodeName.toLowerCase()){j=m(a);(l=b.getAttribute("id"))?o=l.replace(ua,"\\$&"):b.setAttribute("id",o);o="[id='"+o+"'] ";i=j.length;for(;i--;)j[i]=o+n(j[i]);p=ta.test(a)&&k(b.parentNode)||b;q=j.join(",")}if(q)try{_.apply(c,p.querySelectorAll(q));return c}catch(r){}finally{l||b.removeAttribute("id")}}}return v(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){b.push(c+" ")>y.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[N]=!0;return a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b);b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)y.attrHandle[c[d]]=b;
}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){b=+b;return d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);h=a;i=[];j=y.preFilter;for(;h;){if(!d||(e=ja.exec(h))){e&&(h=h.slice(e[0].length)||h);i.push(f=[])}d=!1;if(e=ka.exec(h)){d=e.shift();f.push({value:d,type:e[0].replace(ia," ")});h=h.slice(d.length)}for(g in y.filter)if((e=oa[g].exec(h))&&(!j[g]||(e=j[g](e)))){d=e.shift();f.push({value:d,type:g,matches:e});h=h.slice(d.length)}if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){i=b[N]||(b[N]={});if((h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];i[d]=j;if(j[2]=a(b,c,g))return!0}}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)if((f=a[h])&&(!c||c(f,d,e))){g.push(f);j&&b.push(h)}return g}function r(a,b,c,e,f,g){e&&!e[N]&&(e=r(e));f&&!f[N]&&(f=r(f,g));return d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!d&&b?p:q(p,m,a,h,i),s=c?f||(d?a:o||e)?[]:g:r;c&&c(r,s,h,i);if(e){j=q(s,n);e(j,[],h,i);k=j.length;for(;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l))}if(d){if(f||a){if(f){j=[];k=s.length;for(;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}k=s.length;for(;k--;)(l=s[k])&&(j=f?ba.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else{s=q(s===g?s.splice(o,s.length):s);f?f(null,g,s,i):_.apply(g,s)}})}function s(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ba.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[o(p(k),c)];else{c=y.filter[a[h].type].apply(null,a[h].matches);if(c[N]){d=++h;for(;e>d&&!y.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&y.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;j&&(C=g!==G&&g);for(;o!==v&&null!=(k=t[o]);o++){if(f&&k){l=0;for(;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}if(e){(k=!m&&k)&&n--;d&&p.push(k)}}n+=o;if(e&&o!==n){l=0;for(;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r);j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}if(j){P=u;C=s}return p};return e?d(g):g}function u(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){f=j[0]=j[0].slice(0);if(f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&y.relative[f[1].type]){b=(y.find.ID(g.matches[0].replace(va,wa),b)||[])[0];if(!b)return c;a=a.slice(f.shift().value.length)}e=oa.needsContext.test(a)?0:f.length;for(;e--;){g=f[e];if(y.relative[h=g.type])break;if((i=y.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){f.splice(e,1);a=d.length&&n(f);if(!a){_.apply(c,d);return c}break}}}B(a,j)(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b);return c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){a===b&&(E=!0);return 0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,aa=Y.slice,ba=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fa=ea.replace("w","w#"),ga="\\["+da+"*("+ea+")"+da+"*(?:([*^$|!~]?=)"+da+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+fa+")|)|)"+da+"*\\]",ha=":("+ea+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ga.replace(3,8)+")*)|.*)\\)|)",ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp("="+da+"*([^\\]'\"]*?)"+da+"*\\]","g"),ma=new RegExp(ha),na=new RegExp("^"+fa+"$"),oa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea.replace("w","w*")+")"),ATTR:new RegExp("^"+ga),PSEUDO:new RegExp("^"+ha),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=aa.call(O.childNodes),O.childNodes);Y[O.childNodes.length].nodeType}catch(xa){_={apply:Y.length?function(a,b){$.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}x=b.support={};A=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1};F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;if(c===G||9!==c.nodeType||!c.documentElement)return G;G=c;H=c.documentElement;I=!A(c);d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()}));x.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});x.getElementsByTagName=e(function(a){a.appendChild(c.createComment(""));return!a.getElementsByTagName("*").length});x.getElementsByClassName=ra.test(c.getElementsByClassName)&&e(function(a){a.innerHTML="<div class='a'></div><div class='a i'></div>";a.firstChild.className="i";return 2===a.getElementsByClassName("i").length});x.getById=e(function(a){H.appendChild(a).id=N;return!c.getElementsByName||!c.getElementsByName(N).length});if(x.getById){y.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}};y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}}else{delete y.find.ID;y.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}}y.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f};y.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0};K=[];J=[];if(x.qsa=ra.test(c.querySelectorAll)){e(function(a){a.innerHTML="<select t=''><option selected=''></option></select>";a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+da+"*(?:''|\"\")");a.querySelectorAll("[selected]").length||J.push("\\["+da+"*(?:value|"+ca+")");a.querySelectorAll(":checked").length||J.push(":checked")});e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&J.push("name"+da+"*[*^$|!~]?=");a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled");a.querySelectorAll("*,:x");J.push(",.*:")})}(x.matchesSelector=ra.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){x.disconnectedMatch=L.call(a,"div");L.call(a,"[s!='']:x");K.push("!=",ha)});J=J.length&&new RegExp(J.join("|"));K=K.length&&new RegExp(K.join("|"));b=ra.test(H.compareDocumentPosition);M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};U=b?function(a,b){if(a===b){E=!0;return 0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;if(d)return d;d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return 1&d||!x.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?ba.call(D,a)-ba.call(D,b):0:4&d?-1:1}:function(a,b){if(a===b){E=!0;return 0}var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?ba.call(D,a)-ba.call(D,b):0;if(f===h)return g(a,b);d=a;for(;d=d.parentNode;)i.unshift(d);d=b;for(;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0};return c};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==G&&F(a);c=c.replace(la,"='$1']");if(x.matchesSelector&&I&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0};b.contains=function(a,b){(a.ownerDocument||a)!==G&&F(a);return M(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=y.attrHandle[b.toLowerCase()],d=c&&X.call(y.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:x.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};b.uniqueSort=function(a){var b,c=[],d=0,e=0;E=!x.detectDuplicates;D=!x.sortStable&&a.slice(0);a.sort(U);if(E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}D=null;return a};z=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=z(b);return c};y=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(va,wa);a[3]=(a[4]||a[5]||"").replace(va,wa);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();if("nth"===a[1].slice(0,3)){a[3]||b.error(a[0]);a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3]));a[5]=+(a[7]+a[8]||"odd"===a[3])}else a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[5]&&a[2];if(oa.CHILD.test(a[0]))return null;if(a[3]&&void 0!==a[4])a[2]=a[4];else if(c&&ma.test(c)&&(b=m(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)){a[0]=a[0].slice(0,b);a[2]=c.slice(0,b)}return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);if(null==f)return"!="===c;if(!c)return!0;f+="";return"="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){l=b;for(;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}o=[g?q.firstChild:q.lastChild];if(g&&s){k=q[N]||(q[N]={});j=k[a]||[];n=j[0]===P&&j[1];m=j[0]===P&&j[2];l=n&&q.childNodes[n];for(;l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;l=++n&&l&&l[p]||(m=n=0)||o.pop();)if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m){s&&((l[N]||(l[N]={}))[a]=[P,m]);if(l===b)break}m-=e;return m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=y.pseudos[a]||y.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(f[N])return f(c);if(f.length>1){e=[a,a,"",c];return y.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;){d=ba.call(a,e[g]);a[d]=!(b[d]=e[g])}}):function(a){return f(a,0,e)}}return f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){b[0]=a;e(b,null,f,c);return!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:d(function(a){na.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(va,wa).toLowerCase();return function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){c=c.toLowerCase();return c===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}};y.pseudos.nth=y.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=h(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=i(w);l.prototype=y.filters=y.pseudos;y.setFilters=new l;B=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){b||(b=m(a));c=b.length;for(;c--;){f=s(b[c]);f[N]?d.push(f):e.push(f)}f=T(a,t(e,d))}return f};x.sortStable=N.split("").sort(U).join("")===N;x.detectDuplicates=!!E;F();x.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)});x.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||f(ca,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(a);fa.find=ka;fa.expr=ka.selectors;fa.expr[":"]=fa.expr.pseudos;fa.unique=ka.uniqueSort;fa.text=ka.getText;fa.isXMLDoc=ka.isXML;fa.contains=ka.contains;var la=fa.expr.match.needsContext,ma=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,na=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))};fa.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;e>b;b++)if(fa.contains(d[b],this))return!0}));for(b=0;e>b;b++)fa.find(a,d[b],c);c=this.pushStack(e>1?fa.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&la.test(a)?fa(a):a||[],!1).length}});var oa,pa=a.document,qa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ra=fa.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:qa.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||oa).find(a):this.constructor(b).find(a);if(c[1]){b=b instanceof fa?b[0]:b;fa.merge(this,fa.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:pa,!0));if(ma.test(c[1])&&fa.isPlainObject(b))for(c in b)fa.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}d=pa.getElementById(c[2]);if(d&&d.parentNode){if(d.id!==c[2])return oa.find(a);this.length=1;this[0]=d}this.context=pa;this.selector=a;return this}if(a.nodeType){this.context=this[0]=a;this.length=1;return this}if(fa.isFunction(a))return"undefined"!=typeof oa.ready?oa.ready(a):a(fa);if(void 0!==a.selector){this.selector=a.selector;this.context=a.context}return fa.makeArray(a,this)};ra.prototype=fa.fn;oa=fa(pa);var sa=/^(?:parents|prev(?:Until|All))/,ta={children:!0,contents:!0,next:!0,prev:!0};fa.extend({dir:function(a,b,c){for(var d=[],e=a[b];e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!fa(e).is(c));){1===e.nodeType&&d.push(e);e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});fa.fn.extend({has:function(a){var b,c=fa(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(fa.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=la.test(a)||"string"!=typeof a?fa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.unique(f):f)},index:function(a){return a?"string"==typeof a?fa.inArray(this[0],fa(a)):fa.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.unique(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return fa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return fa.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return fa.dir(a,"nextSibling")},prevAll:function(a){return fa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return fa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return fa.dir(a,"previousSibling",c)},siblings:function(a){return fa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return fa.sibling(a.firstChild)},contents:function(a){return fa.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"==typeof d&&(e=fa.filter(d,e));if(this.length>1){ta[a]||(e=fa.unique(e));sa.test(a)&&(e=e.reverse())}return this.pushStack(e)}});var ua=/\S+/g,va={};fa.Callbacks=function(a){a="string"==typeof a?va[a]||f(a):fa.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){c=a.memory&&f;d=!0;g=h||0;h=0;e=i.length;b=!0;for(;i&&e>g;g++)if(i[g].apply(f[0],f[1])===!1&&a.stopOnFalse){c=!1;break}b=!1;i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var d=i.length;!function f(b){fa.each(b,function(b,c){var d=fa.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments);if(b)e=i.length;else if(c){h=d;k(c)}}return this},remove:function(){i&&fa.each(arguments,function(a,c){for(var d;(d=fa.inArray(c,i,d))>-1;){i.splice(d,1);if(b){e>=d&&e--;g>=d&&g--}}});return this},has:function(a){return a?fa.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){i=[];e=0;return this},disable:function(){i=j=c=void 0;return this},disabled:function(){return!i},lock:function(){j=void 0;c||l.disable();return this},locked:function(){return!j},fireWith:function(a,c){if(i&&(!d||j)){c=c||[];c=[a,c.slice?c.slice():c];b?j.push(c):k(c)}return this},fire:function(){l.fireWith(this,arguments);return this},fired:function(){return!!d}};return l};fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};d.pipe=d.then;fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add;h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock);e[f[0]]=function(){e[f[0]+"With"](this===e?d:this,arguments);return this};e[f[0]+"With"]=g.fireWith});d.promise(e);a&&a.call(e,e);return e},when:function(a){var b,c,d,e=0,f=X.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this;d[a]=arguments.length>1?X.call(arguments):e;d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1){b=new Array(g);c=new Array(g);d=new Array(g);for(;g>e;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h}h||i.resolveWith(d,f);return i.promise()}});var wa;fa.fn.ready=function(a){fa.ready.promise().done(a);return this};fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){if(a===!0?!--fa.readyWait:!fa.isReady){if(!pa.body)return setTimeout(fa.ready);fa.isReady=!0;if(!(a!==!0&&--fa.readyWait>0)){wa.resolveWith(pa,[fa]);fa.fn.trigger&&fa(pa).trigger("ready").off("ready")}}}});fa.ready.promise=function(b){if(!wa){wa=fa.Deferred();if("complete"===pa.readyState)setTimeout(fa.ready);else if(pa.addEventListener){pa.addEventListener("DOMContentLoaded",h,!1);a.addEventListener("load",h,!1)}else{pa.attachEvent("onreadystatechange",h);a.attachEvent("onload",h);var c=!1;try{c=null==a.frameElement&&pa.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!fa.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}g();fa.ready()}}()}}return wa.promise(b)};var xa,ya="undefined";for(xa in fa(da))break;da.ownLast="0"!==xa;da.inlineBlockNeedsLayout=!1;fa(function(){var a,b,c=pa.getElementsByTagName("body")[0];if(c){a=pa.createElement("div");a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";b=pa.createElement("div");c.appendChild(a).appendChild(b);if(typeof b.style.zoom!==ya){b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1";(da.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)}c.removeChild(a);a=b=null}});!function(){var a=pa.createElement("div");if(null==da.deleteExpando){da.deleteExpando=!0;try{delete a.test}catch(b){da.deleteExpando=!1}}a=null}();fa.acceptData=function(a){var b=fa.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var za=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Aa=/([A-Z])/g;fa.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?fa.cache[a[fa.expando]]:a[fa.expando];return!!a&&!j(a)},data:function(a,b,c){return k(a,b,c)},removeData:function(a,b){return l(a,b)},_data:function(a,b,c){return k(a,b,c,!0)},_removeData:function(a,b){return l(a,b,!0)}});fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length){e=fa.data(f);if(1===f.nodeType&&!fa._data(f,"parsedAttrs")){c=g.length;for(;c--;){d=g[c].name;if(0===d.indexOf("data-")){d=fa.camelCase(d.slice(5));i(f,d,e[d])}}fa._data(f,"parsedAttrs",!0)}}return e}return"object"==typeof a?this.each(function(){fa.data(this,a)}):arguments.length>1?this.each(function(){fa.data(this,a,b)}):f?i(f,a,fa.data(f,a)):void 0},removeData:function(a){return this.each(function(){fa.removeData(this,a)})}});fa.extend({queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue";d=fa._data(a,b);c&&(!d||fa.isArray(c)?d=fa._data(a,b,fa.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};if("inprogress"===e){e=c.shift();d--}if(e){"fx"===b&&c.unshift("inprogress");delete f.stop;e.call(a,g,f)}!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return fa._data(a,c)||fa._data(a,c,{empty:fa.Callbacks("once memory").add(function(){fa._removeData(a,b+"queue");fa._removeData(a,c)})})}});fa.fn.extend({queue:function(a,b){var c=2;if("string"!=typeof a){b=a;a="fx";c--}return arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};if("string"!=typeof a){b=a;a=void 0}a=a||"fx";for(;g--;){c=fa._data(f[g],a+"queueHooks");if(c&&c.empty){d++;c.empty.add(h)}}h();return e.promise(b)}});var Ba=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ca=["Top","Right","Bottom","Left"],Da=function(a,b){a=b||a;return"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ea=fa.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)fa.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d){e=!0;fa.isFunction(d)||(g=!0);if(j)if(g){b.call(a,d);b=null}else{j=b;b=function(a,b,c){return j.call(fa(a),c)}}if(b)for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}return e?a:j?b.call(a):i?b(a[0],c):f},Fa=/^(?:checkbox|radio)$/i;!function(){var a=pa.createDocumentFragment(),b=pa.createElement("div"),c=pa.createElement("input");b.setAttribute("className","t");b.innerHTML="  <link/><table></table><a href='/a'>a</a>";da.leadingWhitespace=3===b.firstChild.nodeType;da.tbody=!b.getElementsByTagName("tbody").length;da.htmlSerialize=!!b.getElementsByTagName("link").length;da.html5Clone="<:nav></:nav>"!==pa.createElement("nav").cloneNode(!0).outerHTML;c.type="checkbox";c.checked=!0;a.appendChild(c);da.appendChecked=c.checked;b.innerHTML="<textarea>x</textarea>";da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue;a.appendChild(b);b.innerHTML="<input type='radio' checked='checked' name='t'/>";da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;da.noCloneEvent=!0;if(b.attachEvent){b.attachEvent("onclick",function(){da.noCloneEvent=!1});b.cloneNode(!0).click()}if(null==da.deleteExpando){da.deleteExpando=!0;try{delete b.test}catch(d){da.deleteExpando=!1}}a=b=c=null}();!function(){var b,c,d=pa.createElement("div");for(b in{submit:!0,change:!0,focusin:!0}){c="on"+b;if(!(da[b+"Bubbles"]=c in a)){d.setAttribute(c,"t");da[b+"Bubbles"]=d.attributes[c].expando===!1}}d=null}();var Ga=/^(?:input|select|textarea)$/i,Ha=/^key/,Ia=/^(?:mouse|contextmenu)|click/,Ja=/^(?:focusinfocus|focusoutblur)$/,Ka=/^([^.]*)(?:\.(.+)|)$/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa._data(a);if(q){if(c.handler){i=c;c=i.handler;e=i.selector}c.guid||(c.guid=fa.guid++);(g=q.events)||(g=q.events={});if(!(k=q.handle)){k=q.handle=function(a){return typeof fa===ya||a&&fa.event.triggered===a.type?void 0:fa.event.dispatch.apply(k.elem,arguments)};k.elem=a}b=(b||"").match(ua)||[""];h=b.length;for(;h--;){f=Ka.exec(b[h])||[];n=p=f[1];o=(f[2]||"").split(".").sort();if(n){j=fa.event.special[n]||{};n=(e?j.delegateType:j.bindType)||n;j=fa.event.special[n]||{};l=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},i);if(!(m=g[n])){m=g[n]=[];m.delegateCount=0;j.setup&&j.setup.call(a,d,o,k)!==!1||(a.addEventListener?a.addEventListener(n,k,!1):a.attachEvent&&a.attachEvent("on"+n,k))}if(j.add){j.add.call(a,l);l.handler.guid||(l.handler.guid=c.guid)}e?m.splice(m.delegateCount++,0,l):m.push(l);fa.event.global[n]=!0}}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=fa.hasData(a)&&fa._data(a);if(q&&(k=q.events)){b=(b||"").match(ua)||[""];j=b.length;for(;j--;){h=Ka.exec(b[j])||[];n=p=h[1];o=(h[2]||"").split(".").sort();if(n){l=fa.event.special[n]||{};n=(d?l.delegateType:l.bindType)||n;m=k[n]||[];h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)");i=f=m.length;for(;f--;){g=m[f];if((e||p===g.origType)&&(!c||c.guid===g.guid)&&(!h||h.test(g.namespace))&&(!d||d===g.selector||"**"===d&&g.selector)){m.splice(f,1);g.selector&&m.delegateCount--;l.remove&&l.remove.call(a,g)}}if(i&&!m.length){l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle);delete k[n]}}else for(n in k)fa.event.remove(a,n+b[j],c,d,!0)}if(fa.isEmptyObject(k)){delete q.handle;fa._removeData(a,"events")}}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||pa],n=ba.call(b,"type")?b.type:b,o=ba.call(b,"namespace")?b.namespace.split("."):[];h=k=d=d||pa;if(3!==d.nodeType&&8!==d.nodeType&&!Ja.test(n+fa.event.triggered)){if(n.indexOf(".")>=0){o=n.split(".");n=o.shift();o.sort()}g=n.indexOf(":")<0&&"on"+n;b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b);b.isTrigger=e?2:3;b.namespace=o.join(".");b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b.result=void 0;b.target||(b.target=d);c=null==c?[b]:fa.makeArray(c,[b]);j=fa.event.special[n]||{};if(e||!j.trigger||j.trigger.apply(d,c)!==!1){if(!e&&!j.noBubble&&!fa.isWindow(d)){i=j.delegateType||n;Ja.test(i+n)||(h=h.parentNode);for(;h;h=h.parentNode){m.push(h);k=h}k===(d.ownerDocument||pa)&&m.push(k.defaultView||k.parentWindow||a)}l=0;for(;(h=m[l++])&&!b.isPropagationStopped();){b.type=l>1?i:j.bindType||n;f=(fa._data(h,"events")||{})[b.type]&&fa._data(h,"handle");
f&&f.apply(h,c);f=g&&h[g];if(f&&f.apply&&fa.acceptData(h)){b.result=f.apply(h,c);b.result===!1&&b.preventDefault()}}b.type=n;if(!e&&!b.isDefaultPrevented()&&(!j._default||j._default.apply(m.pop(),c)===!1)&&fa.acceptData(d)&&g&&d[n]&&!fa.isWindow(d)){k=d[g];k&&(d[g]=null);fa.event.triggered=n;try{d[n]()}catch(p){}fa.event.triggered=void 0;k&&(d[g]=k)}return b.result}}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=X.call(arguments),i=(fa._data(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!j.preDispatch||j.preDispatch.call(this,a)!==!1){g=fa.event.handlers.call(this,a,i);b=0;for(;(e=g[b++])&&!a.isPropagationStopped();){a.currentTarget=e.elem;f=0;for(;(d=e.handlers[f++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace)){a.handleObj=d;a.data=d.data;c=((fa.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h);if(void 0!==c&&(a.result=c)===!1){a.preventDefault();a.stopPropagation()}}}j.postDispatch&&j.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){e=[];for(f=0;h>f;f++){d=b[f];c=d.selector+" ";void 0===e[c]&&(e[c]=d.needsContext?fa(c,this).index(i)>=0:fa.find(c,this,null,[i]).length);e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}h<b.length&&g.push({elem:this,handlers:b.slice(h)});return g},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Ia.test(e)?this.mouseHooks:Ha.test(e)?this.keyHooks:{});d=g.props?this.props.concat(g.props):this.props;a=new fa.Event(f);b=d.length;for(;b--;){c=d[b];a[c]=f[c]}a.target||(a.target=f.srcElement||pa);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;if(null==a.pageX&&null!=b.clientX){d=a.target.ownerDocument||pa;e=d.documentElement;c=d.body;a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0);a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)}!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g);a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==o()&&this.focus)try{this.focus();return!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){if(this===o()&&this.blur){this.blur();return!1}},delegateType:"focusout"},click:{trigger:function(){if(fa.nodeName(this,"input")&&"checkbox"===this.type&&this.click){this.click();return!1}},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=fa.extend(new fa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?fa.event.trigger(e,null,b):fa.event.dispatch.call(b,e);e.isDefaultPrevented()&&c.preventDefault()}};fa.removeEvent=pa.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;if(a.detachEvent){typeof a[d]===ya&&(a[d]=null);a.detachEvent(d,c)}};fa.Event=function(a,b){if(!(this instanceof fa.Event))return new fa.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?m:n}else this.type=a;b&&fa.extend(this,b);this.timeStamp=a&&a.timeStamp||fa.now();this[fa.expando]=!0};fa.Event.prototype={isDefaultPrevented:n,isPropagationStopped:n,isImmediatePropagationStopped:n,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=m;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=m;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=m;this.stopPropagation()}};fa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;if(!e||e!==d&&!fa.contains(d,e)){a.type=f.origType;c=f.handler.apply(this,arguments);a.type=b}return c}}});da.submitBubbles||(fa.event.special.submit={setup:function(){if(fa.nodeName(this,"form"))return!1;fa.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=fa.nodeName(b,"input")||fa.nodeName(b,"button")?b.form:void 0;if(c&&!fa._data(c,"submitBubbles")){fa.event.add(c,"submit._submit",function(a){a._submit_bubble=!0});fa._data(c,"submitBubbles",!0)}});return void 0},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;this.parentNode&&!a.isTrigger&&fa.event.simulate("submit",this.parentNode,a,!0)}},teardown:function(){if(fa.nodeName(this,"form"))return!1;fa.event.remove(this,"._submit");return void 0}});da.changeBubbles||(fa.event.special.change={setup:function(){if(Ga.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type){fa.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)});fa.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);fa.event.simulate("change",this,a,!0)})}return!1}fa.event.add(this,"beforeactivate._change",function(a){var b=a.target;if(Ga.test(b.nodeName)&&!fa._data(b,"changeBubbles")){fa.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||fa.event.simulate("change",this.parentNode,a,!0)});fa._data(b,"changeBubbles",!0)}})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){fa.event.remove(this,"._change");return!Ga.test(this.nodeName)}});da.focusinBubbles||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a),!0)};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=fa._data(d,b);e||d.addEventListener(a,c,!0);fa._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=fa._data(d,b)-1;if(e)fa._data(d,b,e);else{d.removeEventListener(a,c,!0);fa._removeData(d,b)}}}});fa.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){if("string"!=typeof b){c=c||b;b=void 0}for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d){d=b;c=b=void 0}else if(null==d)if("string"==typeof b){d=c;c=void 0}else{d=c;c=b;b=void 0}if(d===!1)d=n;else if(!d)return this;if(1===e){g=d;d=function(a){fa().off(a);return g.apply(this,arguments)};d.guid=g.guid||(g.guid=fa.guid++)}return this.each(function(){fa.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){d=a.handleObj;fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}if(b===!1||"function"==typeof b){c=b;b=void 0}c===!1&&(c=n);return this.each(function(){fa.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?fa.event.trigger(a,b,c,!0):void 0}});var La="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ma=/ jQuery\d+="(?:null|\d+)"/g,Na=new RegExp("<(?:"+La+")[\\s/>]","i"),Oa=/^\s+/,Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qa=/<([\w:]+)/,Ra=/<tbody/i,Sa=/<|&#?\w+;/,Ta=/<(?:script|style|link)/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,Va=/^$|\/(?:java|ecma)script/i,Wa=/^true\/(.*)/,Xa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ya={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:da.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Za=p(pa),$a=Za.appendChild(pa.createElement("div"));Ya.optgroup=Ya.option;Ya.tbody=Ya.tfoot=Ya.colgroup=Ya.caption=Ya.thead;Ya.th=Ya.td;fa.extend({clone:function(a,b,c){var d,e,f,g,h,i=fa.contains(a.ownerDocument,a);if(da.html5Clone||fa.isXMLDoc(a)||!Na.test("<"+a.nodeName+">"))f=a.cloneNode(!0);else{$a.innerHTML=a.outerHTML;$a.removeChild(f=$a.firstChild)}if(!(da.noCloneEvent&&da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a))){d=q(f);h=q(a);for(g=0;null!=(e=h[g]);++g)d[g]&&x(e,d[g])}if(b)if(c){h=h||q(a);d=d||q(f);for(g=0;null!=(e=h[g]);g++)w(e,d[g])}else w(a,f);d=q(f,"script");d.length>0&&v(d,!i&&q(a,"script"));d=h=e=null;return f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=p(b),n=[],o=0;l>o;o++){f=a[o];if(f||0===f)if("object"===fa.type(f))fa.merge(n,f.nodeType?[f]:f);else if(Sa.test(f)){h=h||m.appendChild(b.createElement("div"));i=(Qa.exec(f)||["",""])[1].toLowerCase();k=Ya[i]||Ya._default;h.innerHTML=k[1]+f.replace(Pa,"<$1></$2>")+k[2];e=k[0];for(;e--;)h=h.lastChild;!da.leadingWhitespace&&Oa.test(f)&&n.push(b.createTextNode(Oa.exec(f)[0]));if(!da.tbody){f="table"!==i||Ra.test(f)?"<table>"!==k[1]||Ra.test(f)?0:h:h.firstChild;e=f&&f.childNodes.length;for(;e--;)fa.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}fa.merge(n,h.childNodes);h.textContent="";for(;h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else n.push(b.createTextNode(f))}h&&m.removeChild(h);da.appendChecked||fa.grep(q(n,"input"),r);o=0;for(;f=n[o++];)if(!d||-1===fa.inArray(f,d)){g=fa.contains(f.ownerDocument,f);h=q(m.appendChild(f),"script");g&&v(h);if(c){e=0;for(;f=h[e++];)Va.test(f.type||"")&&c.push(f)}}h=null;return m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=fa.expando,i=fa.cache,j=da.deleteExpando,k=fa.event.special;null!=(c=a[g]);g++)if(b||fa.acceptData(c)){e=c[h];f=e&&i[e];if(f){if(f.events)for(d in f.events)k[d]?fa.event.remove(c,d):fa.removeEvent(c,d,f.handle);if(i[e]){delete i[e];j?delete c[h]:typeof c.removeAttribute!==ya?c.removeAttribute(h):c[h]=null;W.push(e)}}}}});fa.fn.extend({text:function(a){return Ea(this,function(a){return void 0===a?fa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pa).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=s(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?fa.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||fa.cleanData(q(c));if(c.parentNode){b&&fa.contains(c.ownerDocument,c)&&v(q(c,"script"));c.parentNode.removeChild(c)}}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&fa.cleanData(q(a,!1));for(;a.firstChild;)a.removeChild(a.firstChild);a.options&&fa.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return fa.clone(this,a,b)})},html:function(a){return Ea(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ma,""):void 0;if("string"==typeof a&&!Ta.test(a)&&(da.htmlSerialize||!Na.test(a))&&(da.leadingWhitespace||!Oa.test(a))&&!Ya[(Qa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Pa,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{};if(1===b.nodeType){fa.cleanData(q(b,!1));b.innerHTML=a}}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;fa.cleanData(q(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Y.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],n=fa.isFunction(m);if(n||j>1&&"string"==typeof m&&!da.checkClone&&Ua.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html()));d.domManip(a,b)});if(j){h=fa.buildFragment(a,this[0].ownerDocument,!1,this);c=h.firstChild;1===h.childNodes.length&&(h=c);if(c){f=fa.map(q(h,"script"),t);e=f.length;for(;j>i;i++){d=h;if(i!==l){d=fa.clone(d,!0,!0);e&&fa.merge(f,q(d,"script"))}b.call(this[i],d,i)}if(e){g=f[f.length-1].ownerDocument;fa.map(f,u);for(i=0;e>i;i++){d=f[i];Va.test(d.type||"")&&!fa._data(d,"globalEval")&&fa.contains(g,d)&&(d.src?fa._evalUrl&&fa._evalUrl(d.src):fa.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Xa,"")))}}h=c=null}}return this}});fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=0,e=[],f=fa(a),g=f.length-1;g>=d;d++){c=d===g?this:this.clone(!0);fa(f[d])[b](c);Z.apply(e,c.get())}return this.pushStack(e)}});var _a,ab={};!function(){var a,b,c=pa.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=c.getElementsByTagName("a")[0];a.style.cssText="float:left;opacity:.5";da.opacity=/^0.5/.test(a.style.opacity);da.cssFloat=!!a.style.cssFloat;c.style.backgroundClip="content-box";c.cloneNode(!0).style.backgroundClip="";da.clearCloneStyle="content-box"===c.style.backgroundClip;a=c=null;da.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){a=pa.getElementsByTagName("body")[0];if(!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";c=pa.createElement("div");e=pa.createElement("div");a.appendChild(c).appendChild(e);b=!1;if(typeof e.style.zoom!==ya){e.style.cssText=d+";width:1px;padding:1px;zoom:1";e.innerHTML="<div></div>";e.firstChild.style.width="5px";b=3!==e.offsetWidth}a.removeChild(c);a=c=e=null}return b}}();var bb,cb,db=/^margin/,eb=new RegExp("^("+Ba+")(?!px)[a-z%]+$","i"),fb=/^(top|right|bottom|left)$/;if(a.getComputedStyle){bb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};cb=function(a,b,c){var d,e,f,g,h=a.style;c=c||bb(a);g=c?c.getPropertyValue(b)||c[b]:void 0;if(c){""!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b));if(eb.test(g)&&db.test(b)){d=h.width;e=h.minWidth;f=h.maxWidth;h.minWidth=h.maxWidth=h.width=g;g=c.width;h.width=d;h.minWidth=e;h.maxWidth=f}}return void 0===g?g:g+""}}else if(pa.documentElement.currentStyle){bb=function(a){return a.currentStyle};cb=function(a,b,c){var d,e,f,g,h=a.style;c=c||bb(a);g=c?c[b]:void 0;null==g&&h&&h[b]&&(g=h[b]);if(eb.test(g)&&!fb.test(b)){d=h.left;e=a.runtimeStyle;f=e&&e.left;f&&(e.left=a.currentStyle.left);h.left="fontSize"===b?"1em":g;g=h.pixelLeft+"px";h.left=d;f&&(e.left=f)}return void 0===g?g:g+""||"auto"}}!function(){function b(){var b,c,d=pa.getElementsByTagName("body")[0];if(d){b=pa.createElement("div");c=pa.createElement("div");b.style.cssText=j;d.appendChild(b).appendChild(c);c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%";fa.swap(d,null!=d.style.zoom?{zoom:1}:{},function(){e=4===c.offsetWidth});f=!0;g=!1;h=!0;if(a.getComputedStyle){g="1%"!==(a.getComputedStyle(c,null)||{}).top;f="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width}d.removeChild(b);c=d=null}}var c,d,e,f,g,h,i=pa.createElement("div"),j="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",k="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";c=i.getElementsByTagName("a")[0];c.style.cssText="float:left;opacity:.5";da.opacity=/^0.5/.test(c.style.opacity);da.cssFloat=!!c.style.cssFloat;i.style.backgroundClip="content-box";i.cloneNode(!0).style.backgroundClip="";da.clearCloneStyle="content-box"===i.style.backgroundClip;c=i=null;fa.extend(da,{reliableHiddenOffsets:function(){if(null!=d)return d;var a,b,c,e=pa.createElement("div"),f=pa.getElementsByTagName("body")[0];if(f){e.setAttribute("className","t");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=pa.createElement("div");a.style.cssText=j;f.appendChild(a).appendChild(e);e.innerHTML="<table><tr><td></td><td>t</td></tr></table>";b=e.getElementsByTagName("td");b[0].style.cssText="padding:0;margin:0;border:0;display:none";c=0===b[0].offsetHeight;b[0].style.display="";b[1].style.display="none";d=c&&0===b[0].offsetHeight;f.removeChild(a);e=f=null;return d}},boxSizing:function(){null==e&&b();return e},boxSizingReliable:function(){null==f&&b();return f},pixelPosition:function(){null==g&&b();return g},reliableMarginRight:function(){var b,c,d,e;if(null==h&&a.getComputedStyle){b=pa.getElementsByTagName("body")[0];if(!b)return;c=pa.createElement("div");d=pa.createElement("div");c.style.cssText=j;b.appendChild(c).appendChild(d);e=d.appendChild(pa.createElement("div"));e.style.cssText=d.style.cssText=k;e.style.marginRight=e.style.width="0";d.style.width="1px";h=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight);b.removeChild(c)}return h}})}();fa.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f];a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var gb=/alpha\([^)]*\)/i,hb=/opacity\s*=\s*([^)]*)/,ib=/^(none|table(?!-c[ea]).+)/,jb=new RegExp("^("+Ba+")(.*)$","i"),kb=new RegExp("^([+-])=("+Ba+")","i"),lb={position:"absolute",visibility:"hidden",display:"block"},mb={letterSpacing:0,fontWeight:400},nb=["Webkit","O","Moz","ms"];fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=cb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":da.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;b=fa.cssProps[h]||(fa.cssProps[h]=B(i,h));g=fa.cssHooks[b]||fa.cssHooks[h];if(void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];f=typeof c;if("string"===f&&(e=kb.exec(c))){c=(e[1]+1)*e[2]+parseFloat(fa.css(a,b));f="number"}if(null!=c&&c===c){"number"!==f||fa.cssNumber[h]||(c+="px");da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit");if(!(g&&"set"in g&&void 0===(c=g.set(a,c,d))))try{i[b]="";i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);b=fa.cssProps[h]||(fa.cssProps[h]=B(a.style,h));g=fa.cssHooks[b]||fa.cssHooks[h];g&&"get"in g&&(f=g.get(a,!0,c));void 0===f&&(f=cb(a,b,d));"normal"===f&&b in mb&&(f=mb[b]);if(""===c||c){e=parseFloat(f);return c===!0||fa.isNumeric(e)?e||0:f}return f}});fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&ib.test(fa.css(a,"display"))?fa.swap(a,lb,function(){return F(a,b,d)}):F(a,b,d):void 0},set:function(a,c,d){var e=d&&bb(a);return D(a,c,d?E(a,b,d,da.boxSizing()&&"border-box"===fa.css(a,"boxSizing",!1,e),e):0)}}});da.opacity||(fa.cssHooks.opacity={get:function(a,b){return hb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=fa.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if((b>=1||""===b)&&""===fa.trim(f.replace(gb,""))&&c.removeAttribute){c.removeAttribute("filter");if(""===b||d&&!d.filter)return}c.filter=gb.test(f)?f.replace(gb,e):f+" "+e}});fa.cssHooks.marginRight=A(da.reliableMarginRight,function(a,b){return b?fa.swap(a,{display:"inline-block"},cb,[a,"marginRight"]):void 0});fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Ca[d]+b]=f[d]||f[d-2]||f[0];return e}};db.test(a)||(fa.cssHooks[a+b].set=D)});fa.fn.extend({css:function(a,b){return Ea(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){d=bb(a);e=b.length;for(;e>g;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Da(this)?fa(this).show():fa(this).hide()})}});fa.Tween=G;G.prototype={constructor:G,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=G.propHooks[this.prop];return a&&a.get?a.get(this):G.propHooks._default.get(this)},run:function(a){var b,c=G.propHooks[this.prop];this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):G.propHooks._default.set(this);return this}};G.prototype.init.prototype=G.prototype;G.propHooks={_default:{get:function(a){var b;if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop]))return a.elem[a.prop];b=fa.css(a.elem,a.prop,"");return b&&"auto"!==b?b:0},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[fa.cssProps[a.prop]]||fa.cssHooks[a.prop])?fa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};G.propHooks.scrollTop=G.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};fa.fx=G.prototype.init;fa.fx.step={};var ob,pb,qb=/^(?:toggle|show|hide)$/,rb=new RegExp("^(?:([+-])=|)("+Ba+")([a-z%]*)$","i"),sb=/queueHooks$/,tb=[K],ub={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=rb.exec(b),f=e&&e[3]||(fa.cssNumber[a]?"":"px"),g=(fa.cssNumber[a]||"px"!==f&&+d)&&rb.exec(fa.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3];e=e||[];g=+d||1;do{h=h||".5";g/=h;fa.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}if(e){g=c.start=+g||+d||0;c.unit=f;c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]}return c}]};fa.Animation=fa.extend(M,{tweener:function(a,b){if(fa.isFunction(a)){b=a;a=["*"]}else a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d];ub[c]=ub[c]||[];ub[c].unshift(b)}},prefilter:function(a,b){b?tb.unshift(a):tb.push(a)}});fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default;(null==d.queue||d.queue===!0)&&(d.queue="fx");d.old=d.complete;d.complete=function(){fa.isFunction(d.old)&&d.old.call(this);d.queue&&fa.dequeue(this,d.queue)};return d};fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Da).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=M(this,fa.extend({},a),f);(e||fa._data(this,"finish"))&&b.stop(!0)};g.finish=g;return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};if("string"!=typeof a){c=b;b=a;a=void 0}b&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=fa._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&sb.test(e)&&d(g[e]);for(e=f.length;e--;)if(f[e].elem===this&&(null==a||f[e].queue===a)){f[e].anim.stop(c);b=!1;f.splice(e,1)}(b||!c)&&fa.dequeue(this,a)})},finish:function(a){a!==!1&&(a=a||"fx");return this.each(function(){var b,c=fa._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;c.finish=!0;fa.queue(this,a,[]);e&&e.stop&&e.stop.call(this,!0);for(b=f.length;b--;)if(f[b].elem===this&&f[b].queue===a){f[b].anim.stop(!0);f.splice(b,1)}for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(I(b,!0),a,d,e)}});fa.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});fa.timers=[];fa.fx.tick=function(){var a,b=fa.timers,c=0;ob=fa.now();for(;c<b.length;c++){a=b[c];a()||b[c]!==a||b.splice(c--,1)}b.length||fa.fx.stop();ob=void 0};fa.fx.timer=function(a){fa.timers.push(a);a()?fa.fx.start():fa.timers.pop()};fa.fx.interval=13;fa.fx.start=function(){pb||(pb=setInterval(fa.fx.tick,fa.fx.interval))};fa.fx.stop=function(){clearInterval(pb);pb=null};fa.fx.speeds={slow:600,fast:200,_default:400};fa.fn.delay=function(a,b){a=fa.fx?fa.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};!function(){var a,b,c,d,e=pa.createElement("div");e.setAttribute("className","t");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";a=e.getElementsByTagName("a")[0];c=pa.createElement("select");d=c.appendChild(pa.createElement("option"));b=e.getElementsByTagName("input")[0];a.style.cssText="top:1px";da.getSetAttribute="t"!==e.className;da.style=/top/.test(a.getAttribute("style"));da.hrefNormalized="/a"===a.getAttribute("href");da.checkOn=!!b.value;da.optSelected=d.selected;da.enctype=!!pa.createElement("form").enctype;c.disabled=!0;da.optDisabled=!d.disabled;b=pa.createElement("input");b.setAttribute("value","");da.input=""===b.getAttribute("value");b.value="t";b.setAttribute("type","radio");da.radioValue="t"===b.value;a=b=c=d=e=null}();var vb=/\r/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){d=fa.isFunction(a);return this.each(function(c){var e;if(1===this.nodeType){e=d?a.call(this,c,fa(this).val()):a;null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""}));b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()];b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e)}})}if(e){b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()];if(b&&"get"in b&&void 0!==(c=b.get(e,"value")))return c;c=e.value;return"string"==typeof c?c.replace(vb,""):null==c?"":c}}});fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){c=d[i];if((c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){b=fa(c).val();if(f)return b;g.push(b)}}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;){d=e[g];if(fa.inArray(fa.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1}c||(a.selectedIndex=-1);return e}}}});fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){return fa.isArray(b)?a.checked=fa.inArray(fa(a).val(),b)>=0:void 0}};da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var wb,xb,yb=fa.expr.attrHandle,zb=/^(?:checked|selected)$/i,Ab=da.getSetAttribute,Bb=da.input;fa.fn.extend({attr:function(a,b){return Ea(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}});fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){if(typeof a.getAttribute===ya)return fa.prop(a,b,c);if(1!==f||!fa.isXMLDoc(a)){b=b.toLowerCase();d=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?xb:wb)}if(void 0===c){if(d&&"get"in d&&null!==(e=d.get(a,b)))return e;e=fa.find.attr(a,b);return null==e?void 0:e}if(null!==c){if(d&&"set"in d&&void 0!==(e=d.set(a,c,b)))return e;a.setAttribute(b,c+"");return c}fa.removeAttr(a,b)}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ua);if(f&&1===a.nodeType)for(;c=f[e++];){d=fa.propFix[c]||c;fa.expr.match.bool.test(c)?Bb&&Ab||!zb.test(c)?a[d]=!1:a[fa.camelCase("default-"+c)]=a[d]=!1:fa.attr(a,c,"");a.removeAttribute(Ab?c:d)}},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});xb={set:function(a,b,c){b===!1?fa.removeAttr(a,c):Bb&&Ab||!zb.test(c)?a.setAttribute(!Ab&&fa.propFix[c]||c,c):a[fa.camelCase("default-"+c)]=a[c]=!0;return c}};fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=yb[b]||fa.find.attr;yb[b]=Bb&&Ab||!zb.test(b)?function(a,b,d){var e,f;if(!d){f=yb[b];yb[b]=e;e=null!=c(a,b,d)?b.toLowerCase():null;yb[b]=f}return e}:function(a,b,c){return c?void 0:a[fa.camelCase("default-"+b)]?b.toLowerCase():null}});Bb&&Ab||(fa.attrHooks.value={set:function(a,b,c){if(!fa.nodeName(a,"input"))return wb&&wb.set(a,b,c);a.defaultValue=b;return void 0}});if(!Ab){wb={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c));d.value=b+="";return"value"===c||b===a.getAttribute(c)?b:void 0}};yb.id=yb.name=yb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null};fa.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:wb.set};fa.attrHooks.contenteditable={set:function(a,b,c){wb.set(a,""===b?!1:b,c)}};fa.each(["width","height"],function(a,b){fa.attrHooks[b]={set:function(a,c){if(""===c){a.setAttribute(b,"auto");return c}}}})}da.style||(fa.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Cb=/^(?:input|select|textarea|button|object)$/i,Db=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return Ea(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){a=fa.propFix[a]||a;return this.each(function(){try{this[a]=void 0;delete this[a]}catch(b){}})}});fa.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){f=1!==g||!fa.isXMLDoc(a);if(f){b=fa.propFix[b]||b;e=fa.propHooks[b]}return void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:-1}}}});da.hrefNormalized||fa.each(["href","src"],function(a,b){fa.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});da.optSelected||(fa.propHooks.selected={
get:function(a){var b=a.parentNode;if(b){b.selectedIndex;b.parentNode&&b.parentNode.selectedIndex}return null}});fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});da.enctype||(fa.propFix.enctype="encoding");var Eb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,this.className))});if(j){b=(a||"").match(ua)||[];for(;i>h;h++){c=this[h];d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ");if(d){f=0;for(;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=fa.trim(d);c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,this.className))});if(j){b=(a||"").match(ua)||[];for(;i>h;h++){c=this[h];d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"");if(d){f=0;for(;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?fa.trim(d):"";c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=fa(this),f=a.match(ua)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else if(c===ya||"boolean"===c){this.className&&fa._data(this,"__className__",this.className);this.className=this.className||a===!1?"":fa._data(this,"__className__")||""}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1}});fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}});fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Fb=fa.now(),Gb=/\?/,Hb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;fa.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=fa.trim(b+"");return e&&!fa.trim(e.replace(Hb,function(a,b,e,f){c&&b&&(d=0);if(0===d)return a;c=e||b;d+=!f-!e;return""}))?Function("return "+e)():fa.error("Invalid JSON: "+b)};fa.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{if(a.DOMParser){d=new DOMParser;c=d.parseFromString(b,"text/xml")}else{c=new ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(b)}}catch(e){c=void 0}c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+b);return c};var Ib,Jb,Kb=/#.*$/,Lb=/([?&])_=[^&]*/,Mb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ob=/^(?:GET|HEAD)$/,Pb=/^\/\//,Qb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Rb={},Sb={},Tb="*/".concat("*");try{Jb=location.href}catch(Ub){Jb=pa.createElement("a");Jb.href="";Jb=Jb.href}Ib=Qb.exec(Jb.toLowerCase())||[];fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb,type:"GET",isLocal:Nb.test(Ib[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Tb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?P(P(a,fa.ajaxSettings),b):P(fa.ajaxSettings,a)},ajaxPrefilter:N(Rb),ajaxTransport:N(Sb),ajax:function(a,b){function c(a,b,c,d){var e,k,r,s,u,w=b;if(2!==t){t=2;h&&clearTimeout(h);j=void 0;g=d||"";v.readyState=a>0?4:0;e=a>=200&&300>a||304===a;c&&(s=Q(l,v,c));s=R(l,s,v,e);if(e){if(l.ifModified){u=v.getResponseHeader("Last-Modified");u&&(fa.lastModified[f]=u);u=v.getResponseHeader("etag");u&&(fa.etag[f]=u)}if(204===a||"HEAD"===l.type)w="nocontent";else if(304===a)w="notmodified";else{w=s.state;k=s.data;r=s.error;e=!r}}else{r=w;if(a||!w){w="error";0>a&&(a=0)}}v.status=a;v.statusText=(b||w)+"";e?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]);v.statusCode(q);q=void 0;i&&n.trigger(e?"ajaxSuccess":"ajaxError",[v,l,e?k:r]);p.fireWith(m,[v,w]);if(i){n.trigger("ajaxComplete",[v,l]);--fa.active||fa.event.trigger("ajaxStop")}}}if("object"==typeof a){b=a;a=void 0}b=b||{};var d,e,f,g,h,i,j,k,l=fa.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?fa(m):fa.event,o=fa.Deferred(),p=fa.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!k){k={};for(;b=Mb.exec(g);)k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();if(!t){a=s[c]=s[c]||a;r[a]=b}return this},overrideMimeType:function(a){t||(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;j&&j.abort(b);c(0,b);return this}};o.promise(v).complete=p.add;v.success=v.done;v.error=v.fail;l.url=((a||l.url||Jb)+"").replace(Kb,"").replace(Pb,Ib[1]+"//");l.type=b.method||b.type||l.method||l.type;l.dataTypes=fa.trim(l.dataType||"*").toLowerCase().match(ua)||[""];if(null==l.crossDomain){d=Qb.exec(l.url.toLowerCase());l.crossDomain=!(!d||d[1]===Ib[1]&&d[2]===Ib[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Ib[3]||("http:"===Ib[1]?"80":"443")))}l.data&&l.processData&&"string"!=typeof l.data&&(l.data=fa.param(l.data,l.traditional));O(Rb,l,b,v);if(2===t)return v;i=l.global;i&&0===fa.active++&&fa.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!Ob.test(l.type);f=l.url;if(!l.hasContent){if(l.data){f=l.url+=(Gb.test(f)?"&":"?")+l.data;delete l.data}l.cache===!1&&(l.url=Lb.test(f)?f.replace(Lb,"$1_="+Fb++):f+(Gb.test(f)?"&":"?")+"_="+Fb++)}if(l.ifModified){fa.lastModified[f]&&v.setRequestHeader("If-Modified-Since",fa.lastModified[f]);fa.etag[f]&&v.setRequestHeader("If-None-Match",fa.etag[f])}(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType);v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Tb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)v.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(e in{success:1,error:1,complete:1})v[e](l[e]);j=O(Sb,l,b,v);if(j){v.readyState=1;i&&n.trigger("ajaxSend",[v,l]);l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1;j.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}});fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){if(fa.isFunction(c)){e=e||d;d=c;c=void 0}return fa.ajax({url:a,type:b,dataType:e,data:c,success:d})}});fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}});fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};fa.fn.extend({wrapAll:function(a){if(fa.isFunction(a))return this.each(function(b){fa(this).wrapAll(a.call(this,b))});if(this[0]){var b=fa(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}});fa.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!da.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||fa.css(a,"display"))};fa.expr.filters.visible=function(a){return!fa.expr.filters.hidden(a)};var Vb=/%20/g,Wb=/\[\]$/,Xb=/\r?\n/g,Yb=/^(?:submit|button|image|reset|file)$/i,Zb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional);if(fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)S(c,a[c],b,e);return d.join("&").replace(Vb,"+")};fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Zb.test(this.nodeName)&&!Yb.test(a)&&(this.checked||!Fa.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Xb,"\r\n")}}):{name:b.name,value:c.replace(Xb,"\r\n")}}).get()}});fa.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&T()||U()}:T;var $b=0,_b={},ac=fa.ajaxSettings.xhr();a.ActiveXObject&&fa(a).on("unload",function(){for(var a in _b)_b[a](void 0,!0)});da.cors=!!ac&&"withCredentials"in ac;ac=da.ajax=!!ac;ac&&fa.ajaxTransport(function(a){if(!a.crossDomain||da.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++$b;f.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null);b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){delete _b[g];b=void 0;f.onreadystatechange=fa.noop;if(e)4!==f.readyState&&f.abort();else{j={};h=f.status;"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())};a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=_b[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){fa.globalEval(a);return a}}});fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);if(a.crossDomain){a.type="GET";a.global=!1}});fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=pa.head||fa("head")[0]||pa.documentElement;return{send:function(d,e){b=pa.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;b.parentNode&&b.parentNode.removeChild(b);b=null;c||e(200,"success")}};c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var bc=[],cc=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=bc.pop()||fa.expando+"_"+Fb++;this[a]=!0;return a}});fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(cc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&cc.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0]){e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback;h?b[h]=b[h].replace(cc,"$1"+e):b.jsonp!==!1&&(b.url+=(Gb.test(b.url)?"&":"?")+b.jsonp+"="+e);b.converters["script json"]=function(){g||fa.error(e+" was not called");return g[0]};b.dataTypes[0]="json";f=a[e];a[e]=function(){g=arguments};d.always(function(){a[e]=f;if(b[e]){b.jsonpCallback=c.jsonpCallback;bc.push(e)}g&&fa.isFunction(f)&&f(g[0]);g=f=void 0});return"script"}});fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;if("boolean"==typeof b){c=b;b=!1}b=b||pa;var d=ma.exec(a),e=!c&&[];if(d)return[b.createElement(d[1])];d=fa.buildFragment([a],b,e);e&&e.length&&fa(e).remove();return fa.merge([],d.childNodes)};var dc=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&dc)return dc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");if(h>=0){d=a.slice(h,a.length);a=a.slice(0,h)}if(fa.isFunction(b)){c=b;b=void 0}else b&&"object"==typeof b&&(f="POST");g.length>0&&fa.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments;g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])});return this};fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length};var ec=a.document.documentElement;fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative");h=l.offset();f=fa.css(a,"top");i=fa.css(a,"left");j=("absolute"===k||"fixed"===k)&&fa.inArray("auto",[f,i])>-1;if(j){d=l.position();g=d.top;e=d.left}else{g=parseFloat(f)||0;e=parseFloat(i)||0}fa.isFunction(b)&&(b=b.call(a,c,h));null!=b.top&&(m.top=b.top-h.top+g);null!=b.left&&(m.left=b.left-h.left+e);"using"in b?b.using.call(a,m):l.css(m)}};fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){b=f.documentElement;if(!fa.contains(b,e))return d;typeof e.getBoundingClientRect!==ya&&(d=e.getBoundingClientRect());c=V(f);return{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];if("fixed"===fa.css(d,"position"))b=d.getBoundingClientRect();else{a=this.offsetParent();b=this.offset();fa.nodeName(a[0],"html")||(c=a.offset());c.top+=fa.css(a[0],"borderTopWidth",!0);c.left+=fa.css(a[0],"borderLeftWidth",!0)}return{top:b.top-c.top-fa.css(d,"marginTop",!0),left:b.left-c.left-fa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ec;a&&!fa.nodeName(a,"html")&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||ec})}});fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);fa.fn[a]=function(d){return Ea(this,function(a,d,e){var f=V(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:a[d];f?f.scrollTo(c?fa(f).scrollLeft():e,c?e:fa(f).scrollTop()):a[d]=e;return void 0},a,d,arguments.length,null)}});fa.each(["top","left"],function(a,b){fa.cssHooks[b]=A(da.pixelPosition,function(a,c){if(c){c=cb(a,b);return eb.test(c)?fa(a).position()[b]+"px":c}})});fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Ea(this,function(b,c,d){var e;if(fa.isWindow(b))return b.document.documentElement["client"+a];if(9===b.nodeType){e=b.documentElement;return Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])}return void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})});fa.fn.size=function(){return this.length};fa.fn.andSelf=fa.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var fc=a.jQuery,gc=a.$;fa.noConflict=function(b){a.$===fa&&(a.$=gc);b&&a.jQuery===fa&&(a.jQuery=fc);return fa};typeof b===ya&&(a.jQuery=a.$=fa);return fa});define("durandal/system",["require","jquery"],function(a,b){function c(a){var b="[object "+a+"]";d["is"+a]=function(a){return h.call(a)==b}}var d,e=!1,f=Object.keys,g=Object.prototype.hasOwnProperty,h=Object.prototype.toString,i=!1,j=Array.isArray,k=Array.prototype.slice;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});if(Function.prototype.bind&&("object"==typeof console||"function"==typeof console)&&"object"==typeof console.log)try{["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(a){console[a]=this.call(console[a],console)},Function.prototype.bind)}catch(l){i=!0}a.on&&a.on("moduleLoaded",function(a,b){d.setModuleId(a,b)});"undefined"!=typeof requirejs&&(requirejs.onResourceLoad=function(a,b,c){d.setModuleId(a.defined[b.id],b.id)});var m=function(){},n=function(){try{if("undefined"!=typeof console&&"function"==typeof console.log)if(window.opera)for(var a=0;a<arguments.length;){console.log("Item "+(a+1)+": "+arguments[a]);a++}else 1==k.call(arguments).length&&"string"==typeof k.call(arguments)[0]?console.log(k.call(arguments).toString()):console.log.apply(console,k.call(arguments));else Function.prototype.bind&&!i||"undefined"==typeof console||"object"!=typeof console.log||Function.prototype.call.call(console.log,console,k.call(arguments))}catch(b){}},o=function(a,b){var c;c=a instanceof Error?a:new Error(a);c.innerError=b;try{"undefined"!=typeof console&&"function"==typeof console.error?console.error(c):Function.prototype.bind&&!i||"undefined"==typeof console||"object"!=typeof console.error||Function.prototype.call.call(console.error,console,c)}catch(d){}throw c};d={version:"2.1.0",noop:m,getModuleId:function(a){return a?"function"==typeof a&&a.prototype?a.prototype.__moduleId__:"string"==typeof a?null:a.__moduleId__:null},setModuleId:function(a,b){a&&("function"==typeof a&&a.prototype?a.prototype.__moduleId__=b:"string"!=typeof a&&(a.__moduleId__=b))},resolveObject:function(a){return d.isFunction(a)?new a:a},debug:function(a){if(1==arguments.length){e=a;if(e){this.log=n;this.error=o;this.log("Debug:Enabled")}else{this.log("Debug:Disabled");this.log=m;this.error=m}}return e},log:m,error:m,assert:function(a,b){a||d.error(new Error(b||"Assert:Failed"))},defer:function(a){return b.Deferred(a)},guid:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:7&c|8).toString(16)})},acquire:function(){var b,c=arguments[0],e=!1;if(d.isArray(c)){b=c;e=!0}else b=k.call(arguments,0);return this.defer(function(c){a(b,function(){var a=arguments;setTimeout(function(){a.length>1||e?c.resolve(k.call(a,0)):c.resolve(a[0])},1)},function(a){c.reject(a)})}).promise()},extend:function(a){for(var b=k.call(arguments,1),c=0;c<b.length;c++){var d=b[c];if(d)for(var e in d)a[e]=d[e]}return a},wait:function(a){return d.defer(function(b){setTimeout(b.resolve,a)}).promise()}};d.keys=f||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)g.call(a,c)&&(b[b.length]=c);return b};d.isElement=function(a){return!(!a||1!==a.nodeType)};d.isArray=j||function(a){return"[object Array]"==h.call(a)};d.isObject=function(a){return a===Object(a)};d.isBoolean=function(a){return"boolean"==typeof a};d.isPromise=function(a){return a&&d.isFunction(a.then)};for(var p=["Arguments","Function","String","Number","Date","RegExp"],q=0;q<p.length;q++)c(p[q]);return d});define("durandal/viewEngine",["durandal/system","jquery"],function(a,b){var c;c=b.parseHTML?function(a){return b.parseHTML(a)}:function(a){return b(a).get()};return{cache:{},viewExtension:".html",viewPlugin:"text",viewPluginParameters:"",isViewUrl:function(a){return-1!==a.indexOf(this.viewExtension,a.length-this.viewExtension.length)},convertViewUrlToViewId:function(a){return a.substring(0,a.length-this.viewExtension.length)},convertViewIdToRequirePath:function(a){var b=this.viewPlugin?this.viewPlugin+"!":"";return b+a+this.viewExtension+this.viewPluginParameters},parseMarkup:c,processMarkup:function(a){var b=this.parseMarkup(a);return this.ensureSingleElement(b)},ensureSingleElement:function(a){if(1==a.length)return a[0];for(var c=[],d=0;d<a.length;d++){var e=a[d];if(8!=e.nodeType){if(3==e.nodeType){var f=/\S/.test(e.nodeValue);if(!f)continue}c.push(e)}}return c.length>1?b(c).wrapAll('<div class="durandal-wrapper"></div>').parent().get(0):c[0]},tryGetViewFromCache:function(a){return this.cache[a]},putViewInCache:function(a,b){this.cache[a]=b},createView:function(b){var c=this,d=this.convertViewIdToRequirePath(b),e=this.tryGetViewFromCache(d);return e?a.defer(function(a){a.resolve(e.cloneNode(!0))}).promise():a.defer(function(e){a.acquire(d).then(function(a){var f=c.processMarkup(a);f.setAttribute("data-view",b);c.putViewInCache(d,f);e.resolve(f.cloneNode(!0))}).fail(function(a){c.createFallbackView(b,d,a).then(function(a){a.setAttribute("data-view",b);c.cache[d]=a;e.resolve(a.cloneNode(!0))})})}).promise()},createFallbackView:function(b,c,d){var e=this,f='View Not Found. Searched for "'+b+'" via path "'+c+'".';return a.defer(function(a){a.resolve(e.processMarkup('<div class="durandal-view-404">'+f+"</div>"))}).promise()}}});define("durandal/viewLocator",["durandal/system","durandal/viewEngine"],function(a,b){function c(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("data-view");if(e==b)return d}}function d(a){return(a+"").replace(/([\\\.\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:])/g,"\\$1")}return{useConvention:function(a,b,c){a=a||"viewmodels";b=b||"views";c=c||b;var e=new RegExp(d(a),"gi");this.convertModuleIdToViewId=function(a){return a.replace(e,b)};this.translateViewIdToArea=function(a,b){return b&&"partial"!=b?c+"/"+b+"/"+a:c+"/"+a}},locateViewForObject:function(b,c,d){var e;if(b.getView){e=b.getView();if(e)return this.locateView(e,c,d)}if(b.viewUrl)return this.locateView(b.viewUrl,c,d);var f=a.getModuleId(b);return f?this.locateView(this.convertModuleIdToViewId(f),c,d):this.locateView(this.determineFallbackViewId(b),c,d)},convertModuleIdToViewId:function(a){return a},determineFallbackViewId:function(a){var b=/function (.{1,})\(/,c=b.exec(a.constructor.toString()),d=c&&c.length>1?c[1]:"";d=d.trim();return"views/"+d},translateViewIdToArea:function(a,b){return a},locateView:function(d,e,f){if("string"==typeof d){var g;g=b.isViewUrl(d)?b.convertViewUrlToViewId(d):d;e&&(g=this.translateViewIdToArea(g,e));if(f){var h=c(f,g);if(h)return a.defer(function(a){a.resolve(h)}).promise()}return b.createView(g)}return a.defer(function(a){a.resolve(d)}).promise()}}});!function(){!function(a){var b=this||(0,eval)("this"),c=b.document,d=b.navigator,e=b.jQuery,f=b.JSON;!function(a){"function"==typeof define&&define.amd?define("knockout",["exports","require"],a):a("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:b.ko={})}(function(g,h){function i(a,b){return null===a||typeof a in n?a===b:!1}function j(b,c){var d;return function(){d||(d=setTimeout(function(){d=a;b()},c))}}function k(a,b){var c;return function(){clearTimeout(c);c=setTimeout(a,b)}}function l(a,b,c,d){m.d[a]={init:function(a,e,f,g,h){var i,j;m.w(function(){var f=m.a.c(e()),g=!c!=!f,k=!j;(k||b||g!==i)&&(k&&m.Z.oa()&&(j=m.a.la(m.e.childNodes(a),!0)),g?(k||m.e.T(a,m.a.la(j)),m.Ja(d?d(h,f):h,a)):m.e.ma(a),i=g)},null,{q:a});return{controlsDescendantBindings:!0}}};m.h.ka[a]=!1;m.e.R[a]=!0}var m="undefined"!=typeof g?g:{};m.b=function(a,b){for(var c=a.split("."),d=m,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b};m.D=function(a,b,c){a[b]=c};m.version="3.3.0";m.b("version",m.version);m.a=function(){function g(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function h(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a,b){a.__proto__=b;return a}function j(a,b,c,d){var e=a[b].match(q)||[];m.a.o(c.match(q),function(a){m.a.ga(e,a,d)});a[b]=e.join(" ")}var k={__proto__:[]}instanceof Array,l={},n={};l[d&&/Firefox\/2/i.test(d.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];l.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");g(l,function(a,b){if(b.length)for(var c=0,d=b.length;d>c;c++)n[b[c]]=a});var o={propertychange:!0},p=c&&function(){for(var b=3,d=c.createElement("div"),e=d.getElementsByTagName("i");d.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",e[0];);return b>4?b:a}(),q=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},vb:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d))return a[d];return null},ya:function(a,b){var c=m.a.m(a,b);c>0?a.splice(c,1):0===c&&a.shift()},wb:function(a){a=a||[];for(var b=[],c=0,d=a.length;d>c;c++)0>m.a.m(b,a[c])&&b.push(a[c]);return b},Ka:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(a[d],d));return c},xa:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;e>d;d++)b(a[d],d)&&c.push(a[d]);return c},ia:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;d>c;c++)a.push(b[c]);return a},ga:function(a,b,c){var d=m.a.m(m.a.cb(a),b);0>d?c&&a.push(b):c||a.splice(d,1)},za:k,extend:h,Fa:i,Ga:k?i:h,A:g,pa:function(a,b){if(!a)return a;var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=b(a[c],c,a));return d},Ra:function(a){for(;a.firstChild;)m.removeNode(a.firstChild)},Jb:function(a){a=m.a.O(a);for(var b=(a[0]&&a[0].ownerDocument||c).createElement("div"),d=0,e=a.length;e>d;d++)b.appendChild(m.S(a[d]));return b},la:function(a,b){for(var c=0,d=a.length,e=[];d>c;c++){var f=a[c].cloneNode(!0);e.push(b?m.S(f):f)}return e},T:function(a,b){m.a.Ra(a);if(b)for(var c=0,d=b.length;d>c;c++)a.appendChild(b[c])},Qb:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,f=0,g=b.length;g>f;f++)e.insertBefore(b[f],d);f=0;for(g=c.length;g>f;f++)m.removeNode(c[f])}},na:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Sb:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},ib:function(b){return null===b||b===a?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,b){a=a||"";return b.length>a.length?!1:a.substring(0,b.length)===b},jc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(16&b.compareDocumentPosition(a));for(;a&&a!=b;)a=a.parentNode;return!!a},Qa:function(a){return m.a.jc(a,a.ownerDocument.documentElement)},tb:function(a){return!!m.a.vb(a,m.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(a,b,c){var d=p&&o[b];if(!d&&e)e(a).bind(b,c);else if(d||"function"!=typeof a.addEventListener){if("undefined"==typeof a.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var f=function(b){c.call(a,b)},g="on"+b;a.attachEvent(g,f);m.a.C.fa(a,function(){a.detachEvent(g,f)})}else a.addEventListener(b,c,!1)},qa:function(a,d){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;"input"===m.a.v(a)&&a.type&&"click"==d.toLowerCase()?(f=a.type,f="checkbox"==f||"radio"==f):f=!1;if(e&&!f)e(a).trigger(d);else if("function"==typeof c.createEvent){if("function"!=typeof a.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");f=c.createEvent(n[d]||"HTMLEvents"),f.initEvent(d,!0,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f)}else if(f&&a.click)a.click();else{if("undefined"==typeof a.fireEvent)throw Error("Browser doesn't support triggering events");a.fireEvent("on"+d)}},c:function(a){return m.F(a)?a():a},cb:function(a){return m.F(a)?a.B():a},Ia:function(a,b,c){var d;b&&("object"==typeof a.classList?(d=a.classList[c?"add":"remove"],m.a.o(b.match(q),function(b){d.call(a.classList,b)})):"string"==typeof a.className.baseVal?j(a.className,"baseVal",b,c):j(a,"className",b,c))},Ha:function(b,c){var d=m.a.c(c);(null===d||d===a)&&(d="");var e=m.e.firstChild(b);!e||3!=e.nodeType||m.e.nextSibling(e)?m.e.T(b,[b.ownerDocument.createTextNode(d)]):e.data=d;m.a.mc(b)},Rb:function(a,b){a.name=b;if(7>=p)try{a.mergeAttributes(c.createElement("<input name='"+a.name+"'/>"),!1)}catch(d){}},mc:function(a){p>=9&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},kc:function(a){if(p){var b=a.style.width;a.style.width=0;a.style.width=b}},Bc:function(a,b){a=m.a.c(a);b=m.a.c(b);for(var c=[],d=a;b>=d;d++)c.push(d);return c},O:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b},Hc:6===p,Ic:7===p,M:p,Db:function(a,b){for(var c=m.a.O(a.getElementsByTagName("input")).concat(m.a.O(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;f>=0;f--)d(c[f])&&e.push(c[f]);return e},yc:function(a){return"string"==typeof a&&(a=m.a.ib(a))?f&&f.parse?f.parse(a):new Function("return "+a)():null},jb:function(a,b,c){if(!f||!f.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(m.a.c(a),b,c)},zc:function(a,b,d){d=d||{};var e=d.params||{},f=d.includeFields||this.Bb,h=a;if("object"==typeof a&&"form"===m.a.v(a))for(var h=a.action,i=f.length-1;i>=0;i--)for(var j=m.a.Db(a,f[i]),k=j.length-1;k>=0;k--)e[j[k].name]=j[k].value;b=m.a.c(b);var l=c.createElement("form");l.style.display="none";l.action=h;l.method="post";for(var n in b)a=c.createElement("input"),a.type="hidden",a.name=n,a.value=m.a.jb(m.a.c(b[n])),l.appendChild(a);g(e,function(a,b){var d=c.createElement("input");d.type="hidden";d.name=a;d.value=b;l.appendChild(d)});c.body.appendChild(l);d.submitter?d.submitter(l):l.submit();setTimeout(function(){l.parentNode.removeChild(l)},0)}}}();m.b("utils",m.a);m.b("utils.arrayForEach",m.a.o);m.b("utils.arrayFirst",m.a.vb);m.b("utils.arrayFilter",m.a.xa);m.b("utils.arrayGetDistinctValues",m.a.wb);m.b("utils.arrayIndexOf",m.a.m);m.b("utils.arrayMap",m.a.Ka);m.b("utils.arrayPushAll",m.a.ia);m.b("utils.arrayRemoveItem",m.a.ya);m.b("utils.extend",m.a.extend);m.b("utils.fieldsIncludedWithJsonPost",m.a.Bb);m.b("utils.getFormFields",m.a.Db);m.b("utils.peekObservable",m.a.cb);m.b("utils.postJson",m.a.zc);m.b("utils.parseJson",m.a.yc);m.b("utils.registerEventHandler",m.a.n);m.b("utils.stringifyJson",m.a.jb);m.b("utils.range",m.a.Bc);m.b("utils.toggleDomNodeCssClass",m.a.Ia);m.b("utils.triggerEvent",m.a.qa);m.b("utils.unwrapObservable",m.a.c);m.b("utils.objectForEach",m.a.A);m.b("utils.addOrRemoveItem",m.a.ga);m.b("utils.setTextContent",m.a.Ha);m.b("unwrap",m.a.c);
Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);d.push.apply(d,arguments);return b.apply(a,d)}});m.a.f=new function(){function b(b,f){var g=b[d];if(!g||"null"===g||!e[g]){if(!f)return a;g=b[d]="ko"+c++;e[g]={}}return e[g]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=b(c,!1);return e===a?a:e[d]},set:function(c,d,e){(e!==a||b(c,!1)!==a)&&(b(c,!0)[d]=e)},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},I:function(){return c++ +d}}};m.b("utils.domData",m.a.f);m.b("utils.domData.clear",m.a.f.clear);m.a.C=new function(){function b(b,c){var e=m.a.f.get(b,d);e===a&&c&&(e=[],m.a.f.set(b,d,e));return e}function c(a){var d=b(a,!1);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](a);m.a.f.clear(a);m.a.C.cleanExternalData(a);if(g[a.nodeType])for(d=a.firstChild;a=d;)d=a.nextSibling,8===a.nodeType&&c(a)}var d=m.a.f.I(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{fa:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},Pb:function(c,e){var f=b(c,!1);f&&(m.a.ya(f,e),0==f.length&&m.a.f.set(c,d,a))},S:function(a){if(f[a.nodeType]&&(c(a),g[a.nodeType])){var b=[];m.a.ia(b,a.getElementsByTagName("*"));for(var d=0,e=b.length;e>d;d++)c(b[d])}return a},removeNode:function(a){m.S(a);a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){e&&"function"==typeof e.cleanData&&e.cleanData([a])}}};m.S=m.a.C.S;m.removeNode=m.a.C.removeNode;m.b("cleanNode",m.S);m.b("removeNode",m.removeNode);m.b("utils.domNodeDisposal",m.a.C);m.b("utils.domNodeDisposal.addDisposeCallback",m.a.C.fa);m.b("utils.domNodeDisposal.removeDisposeCallback",m.a.C.Pb);!function(){m.a.ca=function(a,d){var f;if(e){if(e.parseHTML)f=e.parseHTML(a,d)||[];else if((f=e.clean([a],d))&&f[0]){for(var g=f[0];g.parentNode&&11!==g.parentNode.nodeType;)g=g.parentNode;g.parentNode&&g.parentNode.removeChild(g)}}else{(g=d)||(g=c);f=g.parentWindow||g.defaultView||b;var h=m.a.ib(a).toLowerCase(),g=g.createElement("div"),h=h.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!h.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!h.indexOf("<td")||!h.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],i="ignored<div>"+h[1]+a+h[2]+"</div>";for("function"==typeof f.innerShiv?g.appendChild(f.innerShiv(i)):g.innerHTML=i;h[0]--;)g=g.lastChild;f=m.a.O(g.lastChild.childNodes)}return f};m.a.gb=function(b,c){m.a.Ra(b);c=m.a.c(c);if(null!==c&&c!==a)if("string"!=typeof c&&(c=c.toString()),e)e(b).html(c);else for(var d=m.a.ca(c,b.ownerDocument),f=0;f<d.length;f++)b.appendChild(d[f])}}();m.b("utils.parseHtmlFragment",m.a.ca);m.b("utils.setHtml",m.a.gb);m.H=function(){function b(a,c){if(a)if(8==a.nodeType){var d=m.H.Lb(a.nodeValue);null!=d&&c.push({ic:a,wc:d})}else if(1==a.nodeType)for(var d=0,e=a.childNodes,f=e.length;f>d;d++)b(e[d],c)}var c={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);c[b]=a;return"<!--[ko_memo:"+b+"]-->"},Wb:function(b,d){var e=c[b];if(e===a)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return e.apply(null,d||[]),!0}finally{delete c[b]}},Xb:function(a,c){var d=[];b(a,d);for(var e=0,f=d.length;f>e;e++){var g=d[e].ic,h=[g];c&&m.a.ia(h,c);m.H.Wb(d[e].wc,h);g.nodeValue="";g.parentNode&&g.parentNode.removeChild(g)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}();m.b("memoization",m.H);m.b("memoization.memoize",m.H.$a);m.b("memoization.unmemoize",m.H.Wb);m.b("memoization.parseMemoText",m.H.Lb);m.b("memoization.unmemoizeDomNodeAndDescendants",m.H.Xb);m.Sa={throttle:function(a,b){a.throttleEvaluation=b;var c=null;return m.j({read:a,write:function(d){clearTimeout(c);c=setTimeout(function(){a(d)},b)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method);e="notifyWhenChangesStop"==d?k:j;a.Za(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:i}};var n={undefined:1,"boolean":1,number:1,string:1};m.b("extenders",m.Sa);m.Ub=function(a,b,c){this.da=a;this.La=b;this.hc=c;this.Gb=!1;m.D(this,"dispose",this.p)};m.Ub.prototype.p=function(){this.Gb=!0;this.hc()};m.Q=function(){m.a.Ga(this,m.Q.fn);this.G={};this.rb=1};var o={U:function(a,b,c){var d=this;c=c||"change";var e=new m.Ub(d,b?a.bind(b):a,function(){m.a.ya(d.G[c],e);d.ua&&d.ua(c)});d.ja&&d.ja(c);d.G[c]||(d.G[c]=[]);d.G[c].push(e);return e},notifySubscribers:function(a,b){b=b||"change";"change"===b&&this.Yb();if(this.Ba(b))try{m.k.xb();for(var c,d=this.G[b].slice(0),e=0;c=d[e];++e)c.Gb||c.La(a)}finally{m.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(a){var b,c,d,e=this,f=m.F(e);e.ta||(e.ta=e.notifySubscribers,e.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?e.pb(a):e.ta(a,b):e.qb(a)});var g=a(function(){f&&d===e&&(d=e());b=!1;e.Wa(c,d)&&e.ta(c=d)});e.qb=function(a){b=!0;d=a;g()};e.pb=function(a){b||(c=a,e.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(a){if(a)return this.G[a]&&this.G[a].length||0;var b=0;m.a.A(this.G,function(a,c){b+=c.length});return b},Wa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(a){var b=this;a&&m.a.A(a,function(a,c){var d=m.Sa[a];"function"==typeof d&&(b=d(b,c)||b)});return b}};m.D(o,"subscribe",o.U);m.D(o,"extend",o.extend);m.D(o,"getSubscriptionsCount",o.nc);m.a.za&&m.a.Fa(o,Function.prototype);m.Q.fn=o;m.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers};m.b("subscribable",m.Q);m.b("isSubscribable",m.Hb);m.Z=m.k=function(){function a(a){d.push(c);c=a}function b(){c=d.pop()}var c,d=[],e=0;return{xb:a,end:b,Ob:function(a){if(c){if(!m.Hb(a))throw Error("Only subscribable things can act as dependencies");c.La(a,a.ac||(a.ac=++e))}},u:function(c,d,e){try{return a(),c.apply(d,e||[])}finally{b()}},oa:function(){return c?c.w.oa():void 0},Ca:function(){return c?c.Ca:void 0}}}();m.b("computedContext",m.Z);m.b("computedContext.getDependenciesCount",m.Z.oa);m.b("computedContext.isInitial",m.Z.Ca);m.b("computedContext.isSleeping",m.Z.Jc);m.b("ignoreDependencies",m.Gc=m.k.u);m.r=function(a){function b(){if(0<arguments.length)return b.Wa(c,arguments[0])&&(b.X(),c=arguments[0],b.W()),this;m.k.Ob(b);return c}var c=a;m.Q.call(b);m.a.Ga(b,m.r.fn);b.B=function(){return c};b.W=function(){b.notifySubscribers(c)};b.X=function(){b.notifySubscribers(c,"beforeChange")};m.D(b,"peek",b.B);m.D(b,"valueHasMutated",b.W);m.D(b,"valueWillMutate",b.X);return b};m.r.fn={equalityComparer:i};var p=m.r.Ac="__ko_proto__";m.r.fn[p]=m.r;m.a.za&&m.a.Fa(m.r.fn,m.Q.fn);m.Ta=function(b,c){return null===b||b===a||b[p]===a?!1:b[p]===c?!0:m.Ta(b[p],c)};m.F=function(a){return m.Ta(a,m.r)};m.Da=function(a){return"function"==typeof a&&a[p]===m.r||"function"==typeof a&&a[p]===m.j&&a.qc?!0:!1};m.b("observable",m.r);m.b("isObservable",m.F);m.b("isWriteableObservable",m.Da);m.b("isWritableObservable",m.Da);m.ba=function(a){a=a||[];if("object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");a=m.r(a);m.a.Ga(a,m.ba.fn);return a.extend({trackArrayChanges:!0})};m.ba.fn={remove:function(a){for(var b=this.B(),c=[],d="function"!=typeof a||m.F(a)?function(b){return b===a}:a,e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.X(),c.push(f),b.splice(e,1),e--)}c.length&&this.W();return c},removeAll:function(b){if(b===a){var c=this.B(),d=c.slice(0);this.X();c.splice(0,c.length);this.W();return d}return b?this.remove(function(a){return 0<=m.a.m(b,a)}):[]},destroy:function(a){var b=this.B(),c="function"!=typeof a||m.F(a)?function(b){return b===a}:a;this.X();for(var d=b.length-1;d>=0;d--)c(b[d])&&(b[d]._destroy=!0);this.W()},destroyAll:function(b){return b===a?this.destroy(function(){return!0}):b?this.destroy(function(a){return 0<=m.a.m(b,a)}):[]},indexOf:function(a){var b=this();return m.a.m(b,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.X(),this.B()[c]=b,this.W())}};m.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){m.ba.fn[a]=function(){var b=this.B();this.X();this.yb(b,a,arguments);b=b[a].apply(b,arguments);this.W();return b}});m.a.o(["slice"],function(a){m.ba.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}});m.a.za&&m.a.Fa(m.ba.fn,m.r.fn);m.b("observableArray",m.ba);m.Sa.trackArrayChanges=function(a){function b(){if(!d){d=!0;var b=a.notifySubscribers;a.notifySubscribers=function(a,c){c&&"change"!==c||++f;return b.apply(this,arguments)};var g=[].concat(a.B()||[]);e=null;c=a.U(function(b){b=[].concat(b||[]);if(a.Ba("arrayChange")){var c;(!e||f>1)&&(e=m.a.Ma(g,b,{sparse:!0}));c=e}g=b;e=null;f=0;c&&c.length&&a.notifySubscribers(c,"arrayChange")})}}if(!a.yb){var c,d=!1,e=null,f=0,g=a.ja,h=a.ua;a.ja=function(c){g&&g.call(a,c);"arrayChange"===c&&b()};a.ua=function(b){h&&h.call(a,b);"arrayChange"!==b||a.Ba("arrayChange")||(c.p(),d=!1)};a.yb=function(a,b,c){function g(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(d&&!f){var h=[],i=a.length,j=c.length,k=0;switch(b){case"push":k=i;case"unshift":for(b=0;j>b;b++)g("added",c[b],k+b);break;case"pop":k=i-1;case"shift":i&&g("deleted",a[k],k);break;case"splice":b=Math.min(Math.max(0,0>c[0]?i+c[0]:c[0]),i);for(var i=1===j?i:Math.min(b+(c[1]||0),i),j=b+j-2,k=Math.max(i,j),l=[],n=[],o=2;k>b;++b,++o)i>b&&n.push(g("deleted",a[b],b)),j>b&&l.push(g("added",c[o],b));m.a.Cb(n,l);break;default:return}e=h}}}};m.w=m.j=function(b,c,d){function e(a,b,c){if(u&&b===j)throw Error("A 'pure' computed must not be called recursively");B[a]=c;c.sa=C++;c.ea=b.Aa()}function f(){var a,b;for(a in B)if(B.hasOwnProperty(a)&&(b=B[a],b.da.pc(b.ea)))return!0}function g(){!v&&B&&m.a.A(B,function(a,b){b.p&&b.p()});B=null;C=0;s=!0;v=p=!1}function h(){var a=j.throttleEvaluation;a&&a>=0?(clearTimeout(D),D=setTimeout(function(){i(!0)},a)):j.nb?j.nb():i(!0)}function i(b){if(!q&&!s){if(z&&z()){if(!r){A();return}}else r=!1;q=!0;try{var d=B,f=C,g=u?a:!C;m.k.xb({La:function(a,b){s||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):B[b]||e(b,a,v?{da:a}:a.U(h)))},w:j,Ca:g});B={};C=0;try{var i=c?t.call(c):t()}finally{m.k.end(),f&&!v&&m.a.A(d,function(a,b){b.p&&b.p()}),p=!1}j.Wa(o,i)&&(v||n(o,"beforeChange"),o=i,v?j.Yb():b&&n(o));g&&n(o,"awake")}finally{q=!1}C||A()}}function j(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");w.apply(c,arguments);return this}m.k.Ob(j);(p||v&&f())&&i();return o}function k(){(p&&!C||v&&f())&&i();return o}function l(){return p||C>0}function n(a,b){j.notifySubscribers(a,b)}var o,p=!0,q=!1,r=!1,s=!1,t=b,u=!1,v=!1;t&&"object"==typeof t?(d=t,t=d.read):(d=d||{},t||(t=d.read));if("function"!=typeof t)throw Error("Pass a function that returns the value of the ko.computed");var w=d.write,x=d.disposeWhenNodeIsRemoved||d.q||null,y=d.disposeWhen||d.Pa,z=y,A=g,B={},C=0,D=null;c||(c=d.owner);m.Q.call(j);m.a.Ga(j,m.j.fn);j.B=k;j.oa=function(){return C};j.qc="function"==typeof w;j.p=function(){A()};j.$=l;var E=j.Za;j.Za=function(a){E.call(j,a);j.nb=function(){j.pb(o);p=!0;j.qb(j)}};d.pure?(v=u=!0,j.ja=function(a){if(!s&&v&&"change"==a){v=!1;if(p||f())B=null,C=0,p=!0,i();else{var b=[];m.a.A(B,function(a,c){b[c.sa]=a});m.a.o(b,function(a,b){var c=B[a],d=c.da.U(h);d.sa=b;d.ea=c.ea;B[a]=d})}s||n(o,"awake")}},j.ua=function(b){s||"change"!=b||j.Ba("change")||(m.a.A(B,function(a,b){b.p&&(B[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),v=!0,n(a,"asleep"))},j.bc=j.Aa,j.Aa=function(){v&&(p||f())&&i();return j.bc()}):d.deferEvaluation&&(j.ja=function(a){"change"!=a&&"beforeChange"!=a||k()});m.D(j,"peek",j.B);m.D(j,"dispose",j.p);m.D(j,"isActive",j.$);m.D(j,"getDependenciesCount",j.oa);x&&(r=!0,x.nodeType&&(z=function(){return!m.a.Qa(x)||y&&y()}));v||d.deferEvaluation||i();x&&l()&&x.nodeType&&(A=function(){m.a.C.Pb(x,A);g()},m.a.C.fa(x,A));return j};m.sc=function(a){return m.Ta(a,m.j)};o=m.r.Ac;m.j[o]=m.r;m.j.fn={equalityComparer:i};m.j.fn[o]=m.j;m.a.za&&m.a.Fa(m.j.fn,m.Q.fn);m.b("dependentObservable",m.j);m.b("computed",m.j);m.b("isComputed",m.sc);m.Nb=function(a,b){if("function"==typeof a)return m.w(a,b,{pure:!0});a=m.a.extend({},a);a.pure=!0;return m.w(a,b)};m.b("pureComputed",m.Nb);!function(){function b(e,f,g){g=g||new d;e=f(e);if("object"!=typeof e||null===e||e===a||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean)return e;var h=e instanceof Array?[]:{};g.save(e,h);c(e,function(c){var d=f(e[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":h[c]=d;break;case"object":case"undefined":var i=g.get(d);h[c]=i!==a?i:b(d,f,g)}});return h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[];this.mb=[]}m.Vb=function(a){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(a,function(a){for(var b=0;m.F(a)&&10>b;b++)a=a();return a})};m.toJSON=function(a,b,c){a=m.Vb(a);return m.a.jb(a,b,c)};d.prototype={save:function(a,b){var c=m.a.m(this.keys,a);c>=0?this.mb[c]=b:(this.keys.push(a),this.mb.push(b))},get:function(b){b=m.a.m(this.keys,b);return b>=0?this.mb[b]:a}}}();m.b("toJS",m.Vb);m.b("toJSON",m.toJSON);!function(){m.i={s:function(b){switch(m.a.v(b)){case"option":return!0===b.__ko__hasDomDataOptionValue__?m.a.f.get(b,m.d.options.ab):7>=m.a.M?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?m.i.s(b.options[b.selectedIndex]):a;default:return b.value}},Y:function(b,c,d){switch(m.a.v(b)){case"option":switch(typeof c){case"string":m.a.f.set(b,m.d.options.ab,a);"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:m.a.f.set(b,m.d.options.ab,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"==typeof c?c:""}break;case"select":(""===c||null===c)&&(c=a);for(var e,f=-1,g=0,h=b.options.length;h>g;++g)if(e=m.i.s(b.options[g]),e==c||""==e&&c===a){f=g;break}(d||f>=0||c===a&&1<b.size)&&(b.selectedIndex=f);break;default:(null===c||c===a)&&(c="");b.value=c}}}}();m.b("selectExtensions",m.i);m.b("selectExtensions.readValue",m.i.s);m.b("selectExtensions.writeValue",m.i.Y);m.h=function(){function a(a){a=m.a.ib(a);123===a.charCodeAt(0)&&(a=a.slice(1,-1));var b,c=[],g=a.match(d),h=[],i=0;if(g){g.push(",");for(var j,k=0;j=g[k];++k){var l=j.charCodeAt(0);if(44===l){if(0>=i){c.push(b&&h.length?{key:b,value:h.join("")}:{unknown:b||h.join("")});b=i=0;h=[];continue}}else if(58===l){if(!i&&!b&&1===h.length){b=h.pop();continue}}else 47===l&&k&&1<j.length?(l=g[k-1].match(e))&&!f[l[0]]&&(a=a.substr(a.indexOf(j)+1),g=a.match(d),g.push(","),k=-1,j="/"):40===l||123===l||91===l?++i:41===l||125===l||93===l?--i:b||h.length||34!==l&&39!==l||(j=j.slice(1,-1));h.push(j)}}return c}var b=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,d=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),e=/[\])"'A-Za-z0-9_$]+$/,f={"in":1,"return":1,"typeof":1},g={};return{ka:[],V:g,bb:a,Ea:function(d,e){function f(a,d){var e;if(!k){var l=m.getBindingHandler(a);if(l&&l.preprocess&&!(d=l.preprocess(d,a,f)))return;(l=g[a])&&(e=d,0<=m.a.m(b,e)?e=!1:(l=e.match(c),e=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:e),l=e);l&&i.push("'"+a+"':function(_z){"+e+"=_z}")}j&&(d="function(){return "+d+" }");h.push("'"+a+"':"+d)}e=e||{};var h=[],i=[],j=e.valueAccessors,k=e.bindingParams,l="string"==typeof d?a(d):d;m.a.o(l,function(a){f(a.key||a.unknown,a.value)});i.length&&f("_ko_property_writers","{"+i.join(",")+" }");return h.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(a,b,c,d,e){a&&m.F(a)?!m.Da(a)||e&&a.B()===d||a(d):(a=b.get("_ko_property_writers"))&&a[c]&&a[c](d)}}}();m.b("expressionRewriting",m.h);m.b("expressionRewriting.bindingRewriteValidators",m.h.ka);m.b("expressionRewriting.parseObjectLiteral",m.h.bb);m.b("expressionRewriting.preProcessBindings",m.h.Ea);m.b("expressionRewriting._twoWayBindings",m.h.V);m.b("jsonExpressionRewriting",m.h);m.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.h.Ea);!function(){function a(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function b(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(c,d){for(var e=c,f=1,g=[];e=e.nextSibling;){if(b(e)&&(f--,0===f))return g;g.push(e);a(e)&&f++}if(!d)throw Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=c&&"<!--test-->"===c.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,i={ul:!0,ol:!0};m.e={R:{},childNodes:function(b){return a(b)?d(b):b.childNodes},ma:function(b){if(a(b)){b=m.e.childNodes(b);for(var c=0,d=b.length;d>c;c++)m.removeNode(b[c])}else m.a.Ra(b)},T:function(b,c){if(a(b)){m.e.ma(b);for(var d=b.nextSibling,e=0,f=c.length;f>e;e++)d.parentNode.insertBefore(c[e],d)}else m.a.T(b,c)},Mb:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},Fb:function(b,c,d){d?a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c):m.e.Mb(b,c)},firstChild:function(c){return a(c)?!c.nextSibling||b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){a(c)&&(c=e(c));return c.nextSibling&&b(c.nextSibling)?null:c.nextSibling},oc:a,Fc:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Kb:function(c){if(i[m.a.v(c)]){var d=c.firstChild;if(d)do if(1===d.nodeType){var f;f=d.firstChild;var g=null;if(f)do if(g)g.push(f);else if(a(f)){var h=e(f,!0);h?f=h:g=[f]}else b(f)&&(g=[f]);while(f=f.nextSibling);if(f=g)for(g=d.nextSibling,h=0;h<f.length;h++)g?c.insertBefore(f[h],g):c.appendChild(f[h])}while(d=d.nextSibling)}}}}();m.b("virtualElements",m.e);m.b("virtualElements.allowedBindings",m.e.R);m.b("virtualElements.emptyNode",m.e.ma);m.b("virtualElements.insertAfter",m.e.Fb);m.b("virtualElements.prepend",m.e.Mb);m.b("virtualElements.setDomNodeChildren",m.e.T);!function(){m.L=function(){this.ec={}};m.a.extend(m.L.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||m.g.getComponentNameForNode(a);case 8:return m.e.oc(a);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a):null;return m.g.sb(c,a,b,!1)},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null;return m.g.sb(c,a,b,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return m.e.Fc(a);default:return null}},parseBindingsString:function(a,b,c,d){try{var e,f=this.ec,g=a+(d&&d.valueAccessors||"");if(!(e=f[g])){var h,i="with($context){with($data||{}){return{"+m.h.Ea(a,d)+"}}}";h=new Function("$context","$element",i);e=f[g]=h}return e(b,c)}catch(j){throw j.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+j.message,j}}});m.L.instance=new m.L}();m.b("bindingProvider",m.L);!function(){function c(a){return function(){return a}}function d(a){return a()}function f(a){return m.a.pa(m.k.u(a),function(b,c){return function(){return a()[c]}})}function g(a,b,d){return"function"==typeof a?f(a.bind(null,b,d)):m.a.pa(a,c)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function i(a,b,c){var d,e=m.e.firstChild(b),f=m.L.instance,g=f.preprocessNode;if(g){for(;d=e;)e=m.e.nextSibling(d),g.call(f,d);e=m.e.firstChild(b)}for(;d=e;)e=m.e.nextSibling(d),j(a,d,c)}function j(a,b,c){var d=!0,e=1===b.nodeType;e&&m.e.Kb(b);(e&&c||m.L.instance.nodeHasBindings(b))&&(d=l(b,null,a,c).shouldBindDescendants);d&&!o[m.a.v(b)]&&i(a,b,!e)}function k(a){var b=[],c={},d=[];m.a.A(a,function e(f){if(!c[f]){var g=m.getBindingHandler(f);g&&(g.after&&(d.push(f),m.a.o(g.after,function(b){if(a[b]){if(-1!==m.a.m(d,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));e(b)}}),d.length--),b.push({key:f,Eb:g}));c[f]=!0}});return b}function l(b,c,e,f){var g=m.a.f.get(b,p);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");m.a.f.set(b,p,!0)}!g&&f&&m.Tb(b,e);var i;if(c&&"function"!=typeof c)i=c;else{var j=m.L.instance,l=j.getBindingAccessors||h,n=m.j(function(){(i=c?c(e,b):l.call(j,b,e))&&e.K&&e.K();return i},null,{q:b});i&&n.$()||(n=null)}var o;if(i){var q=n?function(a){return function(){return d(n()[a])}}:function(a){return i[a]},r=function(){return m.a.pa(n?n():i,d)};r.get=function(a){return i[a]&&d(q(a))};r.has=function(a){return a in i};f=k(i);m.a.o(f,function(c){var d=c.Eb.init,f=c.Eb.update,g=c.key;if(8===b.nodeType&&!m.e.R[g])throw Error("The binding '"+g+"' cannot be used with virtual elements");try{"function"==typeof d&&m.k.u(function(){var c=d(b,q(g),r,e.$data,e);if(c&&c.controlsDescendantBindings){if(o!==a)throw Error("Multiple bindings ("+o+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");o=g}}),"function"==typeof f&&m.j(function(){f(b,q(g),r,e.$data,e)},null,{q:b})}catch(h){throw h.message='Unable to process binding "'+g+": "+i[g]+'"\nMessage: '+h.message,h}})}return{shouldBindDescendants:o===a}}function n(a){return a&&a instanceof m.N?a:new m.N(a)}m.d={};var o={script:!0,textarea:!0};m.getBindingHandler=function(a){return m.d[a]};m.N=function(b,c,d,e){var f,g=this,h="function"==typeof b&&!m.F(b),i=m.j(function(){var a=h?b():b,f=m.a.c(a);c?(c.K&&c.K(),m.a.extend(g,c),i&&(g.K=i)):(g.$parents=[],g.$root=f,g.ko=m);g.$rawData=a;g.$data=f;d&&(g[d]=f);e&&e(g,c,f);return g.$data},null,{Pa:function(){return f&&!m.a.tb(f)},q:!0});i.$()&&(g.K=i,i.equalityComparer=null,f=[],i.Zb=function(b){f.push(b);m.a.C.fa(b,function(b){m.a.ya(f,b);f.length||(i.p(),g.K=i=a)})})};m.N.prototype.createChildContext=function(a,b,c){return new m.N(a,this,b,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);c&&c(a)})};m.N.prototype.extend=function(a){return new m.N(this.K||this.$data,this,null,function(b,c){b.$rawData=c.$rawData;m.a.extend(b,"function"==typeof a?a():a)})};var p=m.a.f.I(),q=m.a.f.I();m.Tb=function(a,b){if(2!=arguments.length)return m.a.f.get(a,q);m.a.f.set(a,q,b),b.K&&b.K.Zb(a);return void 0};m.va=function(a,b,c){1===a.nodeType&&m.e.Kb(a);return l(a,b,n(c),!0)};m.cc=function(a,b,c){c=n(c);return m.va(a,g(b,c,a),c)};m.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||i(n(a),b,!0)};m.ub=function(a,c){!e&&b.jQuery&&(e=b.jQuery);if(c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||b.document.body;j(n(a),c,!0)};m.Oa=function(b){switch(b.nodeType){case 1:case 8:var c=m.Tb(b);if(c)return c;if(b.parentNode)return m.Oa(b.parentNode)}return a};m.gc=function(b){return(b=m.Oa(b))?b.$data:a};m.b("bindingHandlers",m.d);m.b("applyBindings",m.ub);m.b("applyBindingsToDescendants",m.Ja);m.b("applyBindingAccessorsToNode",m.va);m.b("applyBindingsToNode",m.cc);m.b("contextFor",m.Oa);m.b("dataFor",m.gc)}();!function(a){function b(b,d){var g,h=e.hasOwnProperty(b)?e[b]:a;h?h.U(d):(h=e[b]=new m.Q,h.U(d),c(b,function(a,c){var d=!(!c||!c.synchronous);f[b]={definition:a,tc:d};delete e[b];g||d?h.notifySubscribers(a):setTimeout(function(){h.notifySubscribers(a)},0)}),g=!0)}function c(a,b){d("getConfig",[a],function(c){c?d("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function d(b,c,e,f){f||(f=m.g.loaders.slice(0));var g=f.shift();if(g){var h=g[b];if(h){var i=!1;if(h.apply(g,c.concat(function(a){i?e(null):null!==a?e(a):d(b,c,e,f)}))!==a&&(i=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else d(b,c,e,f)}else e(null)}var e={},f={};m.g={get:function(c,d){var e=f.hasOwnProperty(c)?f[c]:a;e?e.tc?m.k.u(function(){d(e.definition)}):setTimeout(function(){d(e.definition)},0):b(c,d)},zb:function(a){delete f[a]},ob:d};m.g.loaders=[];m.b("components",m.g);m.b("components.get",m.g.get);m.b("components.clearCachedDefinition",m.g.zb)}();!function(){function a(a,b,c,d){function e(){0===--h&&d(f)}var f={},h=2,i=c.template;c=c.viewModel;i?g(b,i,function(b){m.g.ob("loadTemplate",[a,b],function(a){f.template=a;e()})}):e();c?g(b,c,function(b){m.g.ob("loadViewModel",[a,b],function(a){f[k]=a;e()})}):e()}function d(a,b,c){if("function"==typeof b)c(function(a){return new b(a)});else if("function"==typeof b[k])c(b[k]);else if("instance"in b){var e=b.instance;c(function(){return e})}else"viewModel"in b?d(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function e(a){switch(m.a.v(a)){case"script":return m.a.ca(a.text);case"textarea":return m.a.ca(a.value);case"template":if(f(a.content))return m.a.la(a.content.childNodes)}return m.a.la(a.childNodes)}function f(a){return b.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function g(a,c,d){"string"==typeof c.require?h||b.require?(h||b.require)([c.require],d):a("Uses require, but no AMD loader is present"):d(c)}function i(a){return function(b){throw Error("Component '"+a+"': "+b)}}var j={};m.g.register=function(a,b){if(!b)throw Error("Invalid configuration for "+a);if(m.g.Xa(a))throw Error("Component "+a+" is already registered");j[a]=b};m.g.Xa=function(a){return a in j};m.g.Ec=function(a){delete j[a];m.g.zb(a)};m.g.Ab={getConfig:function(a,b){b(j.hasOwnProperty(a)?j[a]:null)},loadComponent:function(b,c,d){var e=i(b);g(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,d,g){a=i(a);if("string"==typeof d)g(m.a.ca(d));else if(d instanceof Array)g(d);else if(f(d))g(m.a.O(d.childNodes));else if(d.element)if(d=d.element,b.HTMLElement?d instanceof HTMLElement:d&&d.tagName&&1===d.nodeType)g(e(d));else if("string"==typeof d){var h=c.getElementById(d);h?g(e(h)):a("Cannot find element with ID "+d)}else a("Unknown element type: "+d);else a("Unknown template value: "+d)},loadViewModel:function(a,b,c){d(i(a),b,c)}};var k="createViewModel";m.b("components.register",m.g.register);m.b("components.isRegistered",m.g.Xa);m.b("components.unregister",m.g.Ec);m.b("components.defaultLoader",m.g.Ab);m.g.loaders.push(m.g.Ab);m.g.$b=j}();!function(){function a(a,c){var d=a.getAttribute("params");if(d){var d=b.parseBindingsString(d,c,a,{valueAccessors:!0,bindingParams:!0}),d=m.a.pa(d,function(b){return m.w(b,null,{q:a})}),e=m.a.pa(d,function(b){var c=b.B();return b.$()?m.w({read:function(){return m.a.c(b())},write:m.Da(c)&&function(a){b()(a)},q:a}):c});e.hasOwnProperty("$raw")||(e.$raw=d);return e}return{$raw:{}}}m.g.getComponentNameForNode=function(a){a=m.a.v(a);return m.g.Xa(a)&&a};m.g.sb=function(b,c,d,e){if(1===c.nodeType){var f=m.g.getComponentNameForNode(c);if(f){b=b||{};if(b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var g={name:f,params:a(c,d)};b.component=e?function(){return g}:g}}return b};var b=new m.L;9>m.a.M&&(m.g.register=function(a){return function(b){c.createElement(b);return a.apply(this,arguments)}}(m.g.register),c.createDocumentFragment=function(a){return function(){var b,c=a(),d=m.g.$b;for(b in d)d.hasOwnProperty(b)&&c.createElement(b);return c}}(c.createDocumentFragment))}();!function(a){function b(a,b,c){b=b.template;if(!b)throw Error("Component '"+a+"' has no template");a=m.a.la(b);m.e.T(c,a)}function c(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var d=0;m.d.component={init:function(e,f,g,h,i){function j(){var a=k&&k.dispose;"function"==typeof a&&a.call(k);l=null}var k,l,n=m.a.O(m.e.childNodes(e));m.a.C.fa(e,j);m.w(function(){var g,h,o=m.a.c(f());"string"==typeof o?g=o:(g=m.a.c(o.name),h=m.a.c(o.params));if(!g)throw Error("No component name specified");var p=l=++d;m.g.get(g,function(d){if(l===p){j();if(!d)throw Error("Unknown component '"+g+"'");b(g,d,e);var f=c(d,e,n,h);d=i.createChildContext(f,a,function(a){a.$component=f;a.$componentTemplateNodes=n});k=f;m.Ja(d,e)}})},null,{q:e});return{controlsDescendantBindings:!0}}};m.e.R.component=!0}();var q={"class":"className","for":"htmlFor"};m.d.attr={update:function(b,c){var d=m.a.c(c())||{};m.a.A(d,function(c,d){d=m.a.c(d);var e=!1===d||null===d||d===a;e&&b.removeAttribute(c);8>=m.a.M&&c in q?(c=q[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString());"name"===c&&m.a.Rb(b,e?"":d.toString())})}};!function(){m.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var a=b.checked,e=l?g():a;if(!m.Z.Ca()&&(!i||a)){var f=m.k.u(c);j?k!==e?(a&&(m.a.ga(f,e,!0),m.a.ga(f,k,!1)),k=e):m.a.ga(f,e,a):m.h.ra(f,d,"checked",e,!0)}}function f(){var a=m.a.c(c());b.checked=j?0<=m.a.m(a,g()):h?a:g()===a}var g=m.Nb(function(){return d.has("checkedValue")?m.a.c(d.get("checkedValue")):d.has("value")?m.a.c(d.get("value")):b.value}),h="checkbox"==b.type,i="radio"==b.type;if(h||i){var j=h&&m.a.c(c())instanceof Array,k=j?g():a,l=i||j;i&&!b.name&&m.d.uniqueName.init(b,function(){return!0});m.w(e,null,{q:b});m.a.n(b,"click",e);m.w(f,null,{q:b})}}};m.h.V.checked=!0;m.d.checkedValue={update:function(a,b){a.value=m.a.c(b())}}}();m.d.css={update:function(a,b){var c=m.a.c(b());null!==c&&"object"==typeof c?m.a.A(c,function(b,c){c=m.a.c(c);m.a.Ia(a,b,c)}):(c=String(c||""),m.a.Ia(a,a.__ko__cssValue,!1),a.__ko__cssValue=c,m.a.Ia(a,c,!0))}};m.d.enable={update:function(a,b){var c=m.a.c(b());c&&a.disabled?a.removeAttribute("disabled"):c||a.disabled||(a.disabled=!0)}};m.d.disable={update:function(a,b){m.d.enable.update(a,function(){return!m.a.c(b())})}};m.d.event={init:function(a,b,c,d,e){var f=b()||{};m.a.A(f,function(f){"string"==typeof f&&m.a.n(a,f,function(a){var g,h=b()[f];if(h){try{var i=m.a.O(arguments);d=e.$data;i.unshift(d);g=h.apply(d,i)}finally{!0!==g&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}!1===c.get(f+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}};m.d.foreach={Ib:function(a){return function(){var b=a(),c=m.a.cb(b);if(!c||"number"==typeof c.length)return{foreach:b,templateEngine:m.P.Va};m.a.c(b);return{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:m.P.Va}}},init:function(a,b){return m.d.template.init(a,m.d.foreach.Ib(b))},update:function(a,b,c,d,e){return m.d.template.update(a,m.d.foreach.Ib(b),c,d,e)}};m.h.ka.foreach=!1;m.e.R.foreach=!0;m.d.hasfocus={init:function(a,b,c){function d(d){a.__ko_hasfocusUpdating=!0;var e=a.ownerDocument;if("activeElement"in e){var f;try{f=e.activeElement}catch(g){f=e.body}d=f===a}e=b();m.h.ra(e,c,"hasfocus",d,!0);a.__ko_hasfocusLastValue=d;a.__ko_hasfocusUpdating=!1}var e=d.bind(null,!0),f=d.bind(null,!1);m.a.n(a,"focus",e);m.a.n(a,"focusin",e);m.a.n(a,"blur",f);m.a.n(a,"focusout",f)},update:function(a,b){var c=!!m.a.c(b());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===c||(c?a.focus():a.blur(),m.k.u(m.a.qa,null,[a,c?"focusin":"focusout"]))}};m.h.V.hasfocus=!0;m.d.hasFocus=m.d.hasfocus;m.h.V.hasFocus=!0;m.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){m.a.gb(a,b())}};l("if");l("ifnot",!1,!0);
l("with",!0,!1,function(a,b){return a.createChildContext(b)});var r={};m.d.options={init:function(a){if("select"!==m.a.v(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return m.a.xa(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(a,c){if(p&&k)m.i.Y(b,m.a.c(d.get("value")),!0);else if(o.length){var e=0<=m.a.m(o,m.i.s(c[0]));m.a.Sb(c[0],e);p&&!e&&m.k.u(m.a.qa,null,[b,"change"])}}var h=b.multiple,i=0!=b.length&&h?b.scrollTop:null,j=m.a.c(c()),k=d.get("valueAllowUnset")&&d.has("value"),l=d.get("optionsIncludeDestroyed");c={};var n,o=[];k||(h?o=m.a.Ka(e(),m.i.s):0<=b.selectedIndex&&o.push(m.i.s(b.options[b.selectedIndex])));j&&("undefined"==typeof j.length&&(j=[j]),n=m.a.xa(j,function(b){return l||b===a||null===b||!m.a.c(b._destroy)}),d.has("optionsCaption")&&(j=m.a.c(d.get("optionsCaption")),null!==j&&j!==a&&n.unshift(r)));var p=!1;c.beforeRemove=function(a){b.removeChild(a)};j=g;d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(j=function(b,c){g(0,c);m.k.u(d.get("optionsAfterRender"),null,[c[0],b!==r?b:a])});m.a.fb(b,n,function(c,e,g){g.length&&(o=!k&&g[0].selected?[m.i.s(g[0])]:[],p=!0);e=b.ownerDocument.createElement("option");c===r?(m.a.Ha(e,d.get("optionsCaption")),m.i.Y(e,a)):(g=f(c,d.get("optionsValue"),c),m.i.Y(e,m.a.c(g)),c=f(c,d.get("optionsText"),g),m.a.Ha(e,c));return[e]},c,j);m.k.u(function(){k?m.i.Y(b,m.a.c(d.get("value")),!0):(h?o.length&&e().length<o.length:o.length&&0<=b.selectedIndex?m.i.s(b.options[b.selectedIndex])!==o[0]:o.length||0<=b.selectedIndex)&&m.a.qa(b,"change")});m.a.kc(b);i&&20<Math.abs(i-b.scrollTop)&&(b.scrollTop=i)}};m.d.options.ab=m.a.f.I();m.d.selectedOptions={after:["options","foreach"],init:function(a,b,c){m.a.n(a,"change",function(){var d=b(),e=[];m.a.o(a.getElementsByTagName("option"),function(a){a.selected&&e.push(m.i.s(a))});m.h.ra(d,c,"selectedOptions",e)})},update:function(a,b){if("select"!=m.a.v(a))throw Error("values binding applies only to SELECT elements");var c=m.a.c(b());c&&"number"==typeof c.length&&m.a.o(a.getElementsByTagName("option"),function(a){var b=0<=m.a.m(c,m.i.s(a));m.a.Sb(a,b)})}};m.h.V.selectedOptions=!0;m.d.style={update:function(b,c){var d=m.a.c(c()||{});m.a.A(d,function(c,d){d=m.a.c(d);(null===d||d===a||!1===d)&&(d="");b.style[c]=d})}};m.d.submit={init:function(a,b,c,d,e){if("function"!=typeof b())throw Error("The value for a submit binding must be a function");m.a.n(a,"submit",function(c){var d,f=b();try{d=f.call(e.$data,a)}finally{!0!==d&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}};m.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){m.a.Ha(a,b())}};m.e.R.text=!0;!function(){if(b&&b.navigator)var c=function(a){return a?parseFloat(a[1]):void 0},d=b.opera&&b.opera.version&&parseInt(b.opera.version()),e=b.navigator.userAgent,f=c(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=c(e.match(/Firefox\/([^ ]*)/));if(10>m.a.M)var h=m.a.f.I(),i=m.a.f.I(),j=function(a){var b=this.activeElement;(b=b&&m.a.f.get(b,i))&&b(a)},k=function(a,b){var c=a.ownerDocument;m.a.f.get(c,h)||(m.a.f.set(c,h,!0),m.a.n(c,"selectionchange",j));m.a.f.set(a,i,b)};m.d.textInput={init:function(b,c,e){function h(a,c){m.a.n(b,a,c)}function i(){var d=m.a.c(c());(null===d||d===a)&&(d="");o!==a&&d===o?setTimeout(i,4):b.value!==d&&(p=d,b.value=d)}function j(){n||(o=b.value,n=setTimeout(l,4))}function l(){clearTimeout(n);o=n=a;var d=b.value;p!==d&&(p=d,m.h.ra(c(),e,"textInput",d))}var n,o,p=b.value;10>m.a.M?(h("propertychange",function(a){"value"===a.propertyName&&l()}),8==m.a.M&&(h("keyup",l),h("keydown",l)),8<=m.a.M&&(k(b,l),h("dragend",j))):(h("input",l),5>f&&"textarea"===m.a.v(b)?(h("keydown",j),h("paste",j),h("cut",j)):11>d?h("keydown",j):4>g&&(h("DOMAutoComplete",l),h("dragdrop",l),h("drop",l)));h("change",l);m.w(i,null,{q:b})}};m.h.V.textInput=!0;m.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}}();m.d.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++m.d.uniqueName.fc;m.a.Rb(a,c)}}};m.d.uniqueName.fc=0;m.d.value={after:["options","foreach"],init:function(a,b,c){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var d=["change"],e=c.get("valueUpdate"),f=!1,g=null;e&&("string"==typeof e&&(e=[e]),m.a.ia(d,e),d=m.a.wb(d));var h=function(){g=null;f=!1;var d=b(),e=m.i.s(a);m.h.ra(d,c,"value",e)};!m.a.M||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=m.a.m(d,"propertychange")||(m.a.n(a,"propertychange",function(){f=!0}),m.a.n(a,"focus",function(){f=!1}),m.a.n(a,"blur",function(){f&&h()}));m.a.o(d,function(b){var c=h;m.a.Dc(b,"after")&&(c=function(){g=m.i.s(a);setTimeout(h,0)},b=b.substring(5));m.a.n(a,b,c)});var i=function(){var d=m.a.c(b()),e=m.i.s(a);if(null!==g&&d===g)setTimeout(i,0);else if(d!==e)if("select"===m.a.v(a)){var f=c.get("valueAllowUnset"),e=function(){m.i.Y(a,d,f)};e();f||d===m.i.s(a)?setTimeout(e,0):m.k.u(m.a.qa,null,[a,"change"])}else m.i.Y(a,d)};m.w(i,null,{q:a})}else m.va(a,{checkedValue:b})},update:function(){}};m.h.V.value=!0;m.d.visible={update:function(a,b){var c=m.a.c(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}};!function(a){m.d[a]={init:function(b,c,d,e,f){return m.d.event.init.call(this,b,function(){var b={};b[a]=c();return b},d,e,f)}}}("click");m.J=function(){};m.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")};m.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")};m.J.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||c;var d=b.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new m.t.l(d)}if(1==a.nodeType||8==a.nodeType)return new m.t.ha(a);throw Error("Unknown template type: "+a)};m.J.prototype.renderTemplate=function(a,b,c,d){a=this.makeTemplateSource(a,d);return this.renderTemplateSource(a,b,c,d)};m.J.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")};m.J.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c);b=b(a.text());a.text(b);a.data("isRewritten",!0)};m.b("templateEngine",m.J);m.kb=function(){function a(a,b,c,d){a=m.h.bb(a);for(var e=m.h.ka,f=0;f<a.length;f++){var g=a[f].key;if(e.hasOwnProperty(g)){var h=e[g];if("function"==typeof h){if(g=h(a[f].value))throw Error(g)}else if(!h)throw Error("This template engine does not support the '"+g+"' binding within its templates")}}c="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+m.h.Ea(a,{valueAccessors:!0})+" } })()},'"+c.toLowerCase()+"')";return d.createJavaScriptEvaluatorBlock(c)+b}var b=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(a,b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return m.kb.xc(a,b)},c)},xc:function(d,e){return d.replace(b,function(b,c,d,f,g){return a(g,c,d,e)}).replace(c,function(b,c){return a(c,"<!-- ko -->","#comment",e)})},dc:function(a,b){return m.H.$a(function(c,d){var e=c.nextSibling;e&&e.nodeName.toLowerCase()===b&&m.va(e,a,d)})}}}();m.b("__tr_ambtns",m.kb.dc);!function(){m.t={};m.t.l=function(a){this.l=a};m.t.l.prototype.text=function(){var a=m.a.v(this.l),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.l[a];var b=arguments[0];"innerHTML"===a?m.a.gb(this.l,b):this.l[a]=b};var b=m.a.f.I()+"_";m.t.l.prototype.data=function(a){if(1===arguments.length)return m.a.f.get(this.l,b+a);m.a.f.set(this.l,b+a,arguments[1]);return void 0};var c=m.a.f.I();m.t.ha=function(a){this.l=a};m.t.ha.prototype=new m.t.l;m.t.ha.prototype.text=function(){if(0==arguments.length){var b=m.a.f.get(this.l,c)||{};b.lb===a&&b.Na&&(b.lb=b.Na.innerHTML);return b.lb}m.a.f.set(this.l,c,{lb:arguments[0]})};m.t.l.prototype.nodes=function(){if(0==arguments.length)return(m.a.f.get(this.l,c)||{}).Na;m.a.f.set(this.l,c,{Na:arguments[0]});return void 0};m.b("templateSources",m.t);m.b("templateSources.domElement",m.t.l);m.b("templateSources.anonymousTemplate",m.t.ha)}();!function(){function b(a,b,c){var d;for(b=m.e.nextSibling(b);a&&(d=a)!==b;)a=m.e.nextSibling(d),c(d,a)}function c(a,c){if(a.length){var d=a[0],e=a[a.length-1],f=d.parentNode,g=m.L.instance,h=g.preprocessNode;if(h){b(d,e,function(a,b){var c=a.previousSibling,f=h.call(g,a);f&&(a===d&&(d=f[0]||b),a===e&&(e=f[f.length-1]||c))});a.length=0;if(!d)return;d===e?a.push(d):(a.push(d,e),m.a.na(a,f))}b(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||m.ub(c,a)});b(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||m.H.Xb(a,[c])});m.a.na(a,f)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(a,b,e,f,h){h=h||{};var i=(a&&d(a)||e||{}).ownerDocument,j=h.templateEngine||g;m.kb.lc(e,j,i);e=j.renderTemplate(e,f,h,i);if("number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");i=!1;switch(b){case"replaceChildren":m.e.T(a,e);i=!0;break;case"replaceNode":m.a.Qb(a,e);i=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+b)}i&&(c(e,f),h.afterRender&&m.k.u(h.afterRender,null,[e,f.$data]));return e}function f(a,b,c){return m.F(a)?a():"function"==typeof a?a(b,c):a}var g;m.hb=function(b){if(b!=a&&!(b instanceof m.J))throw Error("templateEngine must inherit from ko.templateEngine");g=b};m.eb=function(b,c,h,i,j){h=h||{};if((h.templateEngine||g)==a)throw Error("Set a template engine before calling renderTemplate");j=j||"replaceChildren";if(i){var k=d(i);return m.j(function(){var a=c&&c instanceof m.N?c:new m.N(m.a.c(c)),g=f(b,a.$data,a),a=e(i,j,g,a,h);"replaceNode"==j&&(i=a,k=d(i))},null,{Pa:function(){return!k||!m.a.Qa(k)},q:k&&"replaceNode"==j?k.parentNode:k})}return m.H.$a(function(a){m.eb(b,c,h,a,"replaceNode")})};m.Cc=function(b,d,g,h,i){function j(a,b){c(b,l);g.afterRender&&g.afterRender(b,a);l=null}function k(a,c){l=i.createChildContext(a,g.as,function(a){a.$index=c});var d=f(b,a,l);return e(null,"ignoreTargetNode",d,l,g)}var l;return m.j(function(){var b=m.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]);b=m.a.xa(b,function(b){return g.includeDestroyed||b===a||null===b||!m.a.c(b._destroy)});m.k.u(m.a.fb,null,[h,b,k,g,j])},null,{q:h})};var h=m.a.f.I();m.d.template={init:function(a,b){var c=m.a.c(b());if("string"==typeof c||c.name)m.e.ma(a);else{if("nodes"in c){if(c=c.nodes||[],m.F(c))throw Error('The "nodes" option must be a plain, non-observable array.')}else c=m.e.childNodes(a);c=m.a.Jb(c);new m.t.ha(a).nodes(c)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g,i=c();c=m.a.c(i);d=!0;e=null;"string"==typeof c?c={}:(i=c.name,"if"in c&&(d=m.a.c(c["if"])),d&&"ifnot"in c&&(d=!m.a.c(c.ifnot)),g=m.a.c(c.data));"foreach"in c?e=m.Cc(i||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(g,c.as):f,e=m.eb(i||b,f,c,b)):m.e.ma(b);f=e;(g=m.a.f.get(b,h))&&"function"==typeof g.p&&g.p();m.a.f.set(b,h,f&&f.$()?f:a)}};m.h.ka.template=function(a){a=m.h.bb(a);return 1==a.length&&a[0].unknown||m.h.vc(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"};m.e.R.template=!0}();m.b("setTemplateEngine",m.hb);m.b("renderTemplate",m.eb);m.a.Cb=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||c>d)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index;h.moved=g.index;b.splice(f,1);d=f=0;break}d+=f}}};m.a.Ma=function(){function a(a,b,c,d,e){var f,g,h,i,j,k=Math.min,l=Math.max,n=[],o=a.length,p=b.length,q=p-o||1,r=o+p+1;for(f=0;o>=f;f++)for(i=h,n.push(h=[]),j=k(p,f+q),g=l(0,f-1);j>=g;g++)h[g]=g?f?a[f-1]===b[g-1]?i[g-1]:k(i[g]||r,h[g-1]||r)+1:g+1:f+1;k=[];l=[];q=[];f=o;for(g=p;f||g;)p=n[f][g]-1,g&&p===n[f][g-1]?l.push(k[k.length]={status:c,value:b[--g],index:g}):f&&p===n[f-1][g]?q.push(k[k.length]={status:d,value:a[--f],index:f}):(--g,--f,e.sparse||k.push({status:"retained",value:b[g]}));m.a.Cb(l,q,10*o);return k.reverse()}return function(b,c,d){d="boolean"==typeof d?{dontLimitMoves:d}:d||{};b=b||[];c=c||[];return b.length<=c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}();m.b("utils.compareArrays",m.a.Ma);!function(){function b(b,c,d,e,f){var g=[],h=m.j(function(){var a=c(d,f,m.a.na(g,b))||[];0<g.length&&(m.a.Qb(g,a),e&&m.k.u(e,null,[d,a,f]));g.length=0;m.a.ia(g,a)},null,{q:b,Pa:function(){return!m.a.tb(g)}});return{aa:g,j:h.$()?h:a}}var c=m.a.f.I();m.a.fb=function(d,e,f,g,h){function i(a,b){u=l[b];r!==b&&(x[a]=u);u.Ua(r++);m.a.na(u.aa,d);p.push(u);t.push(u)}function j(a,b){if(a)for(var c=0,d=b.length;d>c;c++)b[c]&&m.a.o(b[c].aa,function(d){a(d,c,b[c].wa)})}e=e||[];g=g||{};var k=m.a.f.get(d,c)===a,l=m.a.f.get(d,c)||[],n=m.a.Ka(l,function(a){return a.wa}),o=m.a.Ma(n,e,g.dontLimitMoves),p=[],q=0,r=0,s=[],t=[];e=[];for(var u,v,w,x=[],n=[],y=0;v=o[y];y++)switch(w=v.moved,v.status){case"deleted":w===a&&(u=l[q],u.j&&u.j.p(),s.push.apply(s,m.a.na(u.aa,d)),g.beforeRemove&&(e[y]=u,t.push(u)));q++;break;case"retained":i(y,q++);break;case"added":w!==a?i(y,w):(u={wa:v.value,Ua:m.r(r++)},p.push(u),t.push(u),k||(n[y]=u))}j(g.beforeMove,x);m.a.o(s,g.beforeRemove?m.S:m.removeNode);for(var z,y=0,k=m.e.firstChild(d);u=t[y];y++){u.aa||m.a.extend(u,b(d,f,u.wa,h,u.Ua));for(q=0;o=u.aa[q];k=o.nextSibling,z=o,q++)o!==k&&m.e.Fb(d,o,z);!u.rc&&h&&(h(u.wa,u.aa,u.Ua),u.rc=!0)}j(g.beforeRemove,e);j(g.afterMove,x);j(g.afterAdd,n);m.a.f.set(d,c,p)}}();m.b("utils.setDomNodeChildrenFromArrayMapping",m.a.fb);m.P=function(){this.allowTemplateRewriting=!1};m.P.prototype=new m.J;m.P.prototype.renderTemplateSource=function(a,b,c,d){if(b=(9>m.a.M?0:a.nodes)?a.nodes():null)return m.a.O(b.cloneNode(!0).childNodes);a=a.text();return m.a.ca(a,d)};m.P.Va=new m.P;m.hb(m.P.Va);m.b("nativeTemplateEngine",m.P);!function(){m.Ya=function(){var a=this.uc=function(){if(!e||!e.tmpl)return 0;try{if(0<=e.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,d,f,g){g=g||c;f=f||{};if(2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");h||(h=b.text()||"",h=e.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h));b=[d.$data];d=e.extend({koBindingContext:d},f.templateOptions);d=e.tmpl(h,b,d);d.appendTo(g.createElement("div"));e.fragments={};return d};this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"};this.addTemplate=function(a,b){c.write("<script type='text/html' id='"+a+"'>"+b+"</script>")};a>0&&(e.tmpl.tag.ko_code={open:"__.push($1 || '');"},e.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};m.Ya.prototype=new m.J;var a=new m.Ya;0<a.uc&&m.hb(a);m.b("jqueryTmplTemplateEngine",m.Ya)}()})}()}();define("durandal/binder",["durandal/system","knockout"],function(a,b){function c(b){if(void 0===b)return{applyBindings:!0};if(a.isBoolean(b))return{applyBindings:b};void 0===b.applyBindings&&(b.applyBindings=!0);return b}function d(d,j,k,l){if(j&&k)if(j.getAttribute){var m=j.getAttribute("data-view");try{var n;d&&d.binding&&(n=d.binding(j));n=c(n);e.binding(l,j,n);if(n.applyBindings){a.log("Binding",m,l);b.applyBindings(k,j)}else d&&b.utils.domData.set(j,i,{$data:d});e.bindingComplete(l,j,n);d&&d.bindingComplete&&d.bindingComplete(j);b.utils.domData.set(j,h,n);return n}catch(o){o.message=o.message+";\nView: "+m+";\nModuleId: "+a.getModuleId(l);e.throwOnErrors?a.error(o):a.log(o.message)}}else e.throwOnErrors?a.error(g):a.log(g,j,l);else e.throwOnErrors?a.error(f):a.log(f,j,l)}var e,f="Insufficient Information to Bind",g="Unexpected View Type",h="durandal-binding-instruction",i="__ko_bindingContext__";return e={binding:a.noop,bindingComplete:a.noop,throwOnErrors:!1,getBindingInstruction:function(a){return b.utils.domData.get(a,h)},bindContext:function(a,b,c,e){c&&a&&(a=a.createChildContext(c,"string"==typeof e?e:null));return d(c,b,a,c||(a?a.$data:null))},bind:function(a,b){return d(a,b,a,a)}}});define("durandal/activator",["durandal/system","knockout"],function(a,b){function c(b){void 0==b&&(b={});a.isBoolean(b.closeOnDeactivate)||(b.closeOnDeactivate=j.defaults.closeOnDeactivate);b.beforeActivate||(b.beforeActivate=j.defaults.beforeActivate);b.afterDeactivate||(b.afterDeactivate=j.defaults.afterDeactivate);b.affirmations||(b.affirmations=j.defaults.affirmations);b.interpretResponse||(b.interpretResponse=j.defaults.interpretResponse);b.areSameItem||(b.areSameItem=j.defaults.areSameItem);b.findChildActivator||(b.findChildActivator=j.defaults.findChildActivator);return b}function d(b,c,d){return a.isArray(d)?b[c].apply(b,d):b[c](d)}function e(b,c,d,e,f){if(b&&b.deactivate){a.log("Deactivating",b);var g;try{g=b.deactivate(c)}catch(h){a.log("ERROR: "+h.message,h);e.resolve(!1);return}if(g&&g.then)g.then(function(){d.afterDeactivate(b,c,f);e.resolve(!0)},function(b){a.log(b);e.resolve(!1)});else{d.afterDeactivate(b,c,f);e.resolve(!0)}}else{b&&d.afterDeactivate(b,c,f);e.resolve(!0)}}function f(b,c,e,f){var g;if(b&&b.activate){a.log("Activating",b);try{g=d(b,"activate",f)}catch(h){a.log("ERROR: "+h.message,h);e(!1);return}}if(g&&g.then)g.then(function(){c(b);e(!0)},function(b){a.log("ERROR: "+b.message,b);e(!1)});else{c(b);e(!0)}}function g(b,c,d,e){e=a.extend({},k,e);d.lifecycleData=null;return a.defer(function(f){function g(){if(b&&b.canDeactivate&&e.canDeactivate){var g;try{g=b.canDeactivate(c)}catch(h){a.log("ERROR: "+h.message,h);f.resolve(!1);return}if(g.then)g.then(function(a){d.lifecycleData=a;f.resolve(d.interpretResponse(a))},function(b){a.log("ERROR: "+b.message,b);f.resolve(!1)});else{d.lifecycleData=g;f.resolve(d.interpretResponse(g))}}else f.resolve(!0)}var h=d.findChildActivator(b);h?h.canDeactivate().then(function(a){a?g():f.resolve(!1)}):g()}).promise()}function h(b,c,e,f,g){e.lifecycleData=null;return a.defer(function(h){if(e.areSameItem(c(),b,f,g))h.resolve(!0);else if(b&&b.canActivate){var i;try{i=d(b,"canActivate",g)}catch(j){a.log("ERROR: "+j.message,j);h.resolve(!1);return}if(i.then)i.then(function(a){e.lifecycleData=a;h.resolve(e.interpretResponse(a))},function(b){a.log("ERROR: "+b.message,b);h.resolve(!1)});else{e.lifecycleData=i;h.resolve(e.interpretResponse(i))}}else h.resolve(!0)}).promise()}function i(d,i){var j,k=b.observable(null);i=c(i);var l=b.computed({read:function(){return k()},write:function(a){l.viaSetter=!0;l.activateItem(a)}});l.__activator__=!0;l.settings=i;i.activator=l;l.isActivating=b.observable(!1);l.forceActiveItem=function(a){k(a)};l.canDeactivateItem=function(a,b,c){return g(a,b,i,c)};l.deactivateItem=function(b,c){return a.defer(function(a){l.canDeactivateItem(b,c).then(function(d){if(d)e(b,c,i,a,k);else{l.notifySubscribers();a.resolve(!1)}})}).promise()};l.canActivateItem=function(a,b){return h(a,k,i,j,b)};l.activateItem=function(b,c,d){var g=l.viaSetter;l.viaSetter=!1;return a.defer(function(h){if(l.isActivating())h.resolve(!1);else{l.isActivating(!0);var m=k();if(i.areSameItem(m,b,j,c)){l.isActivating(!1);h.resolve(!0)}else l.canDeactivateItem(m,i.closeOnDeactivate,d).then(function(d){if(d)l.canActivateItem(b,c).then(function(d){if(d)a.defer(function(a){e(m,i.closeOnDeactivate,i,a)}).promise().then(function(){b=i.beforeActivate(b,c);f(b,k,function(a){j=c;l.isActivating(!1);h.resolve(a)},c)});else{g&&l.notifySubscribers();l.isActivating(!1);h.resolve(!1)}});else{g&&l.notifySubscribers();l.isActivating(!1);h.resolve(!1)}})}}).promise()};l.canActivate=function(){var a;if(d){a=d;d=!1}else a=l();return l.canActivateItem(a)};l.activate=function(){var a;if(d){a=d;d=!1}else a=l();return l.activateItem(a)};l.canDeactivate=function(a){return l.canDeactivateItem(l(),a)};l.deactivate=function(a){return l.deactivateItem(l(),a)};l.includeIn=function(a){a.canActivate=function(){return l.canActivate()};a.activate=function(){return l.activate()};a.canDeactivate=function(a){return l.canDeactivate(a)};a.deactivate=function(a){return l.deactivate(a)}};i.includeIn?l.includeIn(i.includeIn):d&&l.activate();l.forItems=function(b){i.closeOnDeactivate=!1;i.determineNextItemToActivate=function(a,b){var c=b-1;return-1==c&&a.length>1?a[1]:c>-1&&c<a.length-1?a[c]:null};i.beforeActivate=function(a){var c=l();if(a){var d=b.indexOf(a);-1==d?b.push(a):a=b()[d]}else a=i.determineNextItemToActivate(b,c?b.indexOf(c):0);return a};i.afterDeactivate=function(a,c){c&&b.remove(a)};var c=l.canDeactivate;l.canDeactivate=function(d){return d?a.defer(function(a){function c(){for(var b=0;b<f.length;b++)if(!f[b]){a.resolve(!1);return}a.resolve(!0)}for(var e=b(),f=[],g=0;g<e.length;g++)l.canDeactivateItem(e[g],d).then(function(a){f.push(a);f.length==e.length&&c()})}).promise():c()};var d=l.deactivate;l.deactivate=function(c){return c?a.defer(function(a){function d(d){setTimeout(function(){l.deactivateItem(d,c).then(function(){f++;b.remove(d);f==g&&a.resolve()})},1)}for(var e=b(),f=0,g=e.length,h=0;g>h;h++)d(e[h])}).promise():d()};return l};return l}var j,k={canDeactivate:!0},l={closeOnDeactivate:!0,affirmations:["yes","ok","true"],interpretResponse:function(c){a.isObject(c)&&(c=c.can||!1);return a.isString(c)?-1!==b.utils.arrayIndexOf(this.affirmations,c.toLowerCase()):c},areSameItem:function(a,b,c,d){return a==b},beforeActivate:function(a){return a},afterDeactivate:function(a,b,c){b&&c&&c(null)},findChildActivator:function(a){return null}};j={defaults:l,create:i,isActivator:function(a){return a&&a.__activator__}};return j});define("durandal/composition",["durandal/system","durandal/viewLocator","durandal/binder","durandal/viewEngine","durandal/activator","jquery","knockout"],function(a,b,c,d,e,f,g){function h(b,c,d){try{if(b.onError)try{b.onError(c,d)}catch(e){a.error(e)}else a.error(c)}finally{j(b,d,!0)}}function i(a){for(var b=[],c={childElements:b,activeView:null},d=g.virtualElements.firstChild(a);d;){if(1==d.nodeType){b.push(d);d.getAttribute(w)&&(c.activeView=d)}d=g.virtualElements.nextSibling(d)}c.activeView||(c.activeView=b[0]);return c}function j(a,b,c){y--;if(0===y){var d=x;x=[];c||setTimeout(function(){for(var c=d.length;c--;)try{d[c]()}catch(e){h(a,e,b)}},1)}k(a)}function k(a){delete a.activeView;delete a.viewElements}function l(b,c,d,e){if(d)c();else if(b.activate&&b.model&&b.model.activate){var f;try{f=a.isArray(b.activationData)?b.model.activate.apply(b.model,b.activationData):b.model.activate(b.activationData);f&&f.then?f.then(c,function(a){h(b,a,e);c()}):f||void 0===f?c():j(b,e)}catch(g){h(b,g,e)}}else c()}function m(b,c){var b=this;b.activeView&&b.activeView.removeAttribute(w);if(b.child)try{b.model&&b.model.attached&&(b.composingNewView||b.alwaysTriggerAttach)&&b.model.attached(b.child,b.parent,b);b.attached&&b.attached(b.child,b.parent,b);b.child.setAttribute(w,!0);b.composingNewView&&b.model&&b.model.detached&&g.utils.domNodeDisposal.addDisposeCallback(b.child,function(){try{b.model.detached(b.child,b.parent,b)}catch(a){h(b,a,c)}})}catch(d){h(b,d,c)}b.triggerAttach=a.noop}function n(b){if(a.isString(b.transition)){if(b.activeView){if(b.activeView==b.child)return!1;if(!b.child)return!0;if(b.skipTransitionOnSameViewId){var c=b.activeView.getAttribute("data-view"),d=b.child.getAttribute("data-view");return c!=d}}return!0}return!1}function o(a){for(var b=0,c=a.length,d=[];c>b;b++){var e=a[b].cloneNode(!0);d.push(e)}return d}function p(b){var c=o(b.parts),d=u.getParts(c),e=u.getParts(b.child);for(var g in d){var h=e[g];if(!h){h=f('[data-part="'+g+'"]',b.child).get(0);if(!h){a.log("Could not find part to override: "+g);continue}}h.parentNode.replaceChild(d[g],h)}}function q(b){var c,d,e=g.virtualElements.childNodes(b.parent);if(!a.isArray(e)){var f=[];for(c=0,d=e.length;d>c;c++)f[c]=e[c];e=f}for(c=1,d=e.length;d>c;c++)g.removeNode(e[c])}function r(a){g.utils.domData.set(a,C,a.style.display);a.style.display="none"}function s(a){var b=g.utils.domData.get(a,C);a.style.display="none"===b?"block":b}function t(a){var b=a.getAttribute("data-bind");if(!b)return!1;for(var c=0,d=D.length;d>c;c++)if(b.indexOf(D[c])>-1)return!0;return!1}var u,v={},w="data-active-view",x=[],y=0,z="durandal-composition-data",A="data-part",B=["model","view","transition","area","strategy","activationData","onError"],C="durandal-visibility-data",D=["compose:"],E={complete:function(a){x.push(a)}};u={composeBindings:D,convertTransitionToModuleId:function(a){return"transitions/"+a},defaultTransitionName:null,current:E,addBindingHandler:function(a,b,c){var d,e,f="composition-handler-"+a;b=b||g.bindingHandlers[a];c=c||function(){return void 0};e=g.bindingHandlers[a]={init:function(a,d,e,h,i){if(y>0){var j={trigger:g.observable(null)};u.current.complete(function(){b.init&&b.init(a,d,e,h,i);if(b.update){g.utils.domData.set(a,f,b);j.trigger("trigger")}});g.utils.domData.set(a,f,j)}else{g.utils.domData.set(a,f,b);b.init&&b.init(a,d,e,h,i)}return c(a,d,e,h,i)},update:function(a,b,c,d,e){var h=g.utils.domData.get(a,f);if(h.update)return h.update(a,b,c,d,e);h.trigger&&h.trigger();return void 0}};for(d in b)"init"!==d&&"update"!==d&&(e[d]=b[d])},getParts:function(a,b){b=b||{};if(!a)return b;void 0===a.length&&(a=[a]);for(var c=0,d=a.length;d>c;c++){var e,f=a[c];if(f.getAttribute){e=f.getAttribute(A);e&&(b[e]=f);f.hasChildNodes()&&!t(f)&&u.getParts(f.childNodes,b)}}return b},cloneNodes:o,finalize:function(b,d){void 0===b.transition&&(b.transition=this.defaultTransitionName);if(b.child||b.activeView)if(n(b)){var e=this.convertTransitionToModuleId(b.transition);a.acquire(e).then(function(a){b.transition=a;a(b).then(function(){if(b.cacheViews){if(b.activeView){var a=c.getBindingInstruction(b.activeView);a&&void 0!=a.cacheViews&&!a.cacheViews?g.removeNode(b.activeView):r(b.activeView)}}else b.child?q(b):g.virtualElements.emptyNode(b.parent);b.child&&s(b.child);b.triggerAttach(b,d);j(b,d)})}).fail(function(a){h(b,"Failed to load transition ("+e+"). Details: "+a.message,d)})}else{if(b.child!=b.activeView){if(b.cacheViews&&b.activeView){var f=c.getBindingInstruction(b.activeView);!f||void 0!=f.cacheViews&&!f.cacheViews?g.removeNode(b.activeView):r(b.activeView)}if(b.child){b.cacheViews||q(b);s(b.child)}else b.cacheViews||g.virtualElements.emptyNode(b.parent)}b.triggerAttach(b,d);j(b,d)}else{b.cacheViews||g.virtualElements.emptyNode(b.parent);b.triggerAttach(b,d);j(b,d)}},bindAndShow:function(a,b,e,f){e.child=a;e.parent.__composition_context=e;e.cacheViews?e.composingNewView=-1==g.utils.arrayIndexOf(e.viewElements,a):e.composingNewView=!0;l(e,function(){if(e.parent.__composition_context==e){delete e.parent.__composition_context;e.binding&&e.binding(e.child,e.parent,e);if(e.preserveContext&&e.bindingContext){if(e.composingNewView){e.parts&&p(e);r(a);g.virtualElements.prepend(e.parent,a);c.bindContext(e.bindingContext,a,e.model,e.as)}}else if(a){var f=e.model||v,h=g.dataFor(a);if(h!=f){if(!e.composingNewView){g.removeNode(a);d.createView(a.getAttribute("data-view")).then(function(a){u.bindAndShow(a,b,e,!0)});return}e.parts&&p(e);r(a);g.virtualElements.prepend(e.parent,a);c.bind(f,a)}}u.finalize(e,b)}else j(e,b)},f,b)},defaultStrategy:function(a){return b.locateViewForObject(a.model,a.area,a.viewElements)},getSettings:function(b,c){var f,h=b(),i=g.utils.unwrapObservable(h)||{},j=e.isActivator(h);if(a.isString(i)){i=d.isViewUrl(i)?{view:i}:{model:i,activate:!j};return i}f=a.getModuleId(i);if(f){i={model:i,activate:!j};return i}!j&&i.model&&(j=e.isActivator(i.model));for(var k in i)-1!=g.utils.arrayIndexOf(B,k)?i[k]=g.utils.unwrapObservable(i[k]):i[k]=i[k];j?i.activate=!1:void 0===i.activate&&(i.activate=!0);return i},executeStrategy:function(a,b){a.strategy(a).then(function(c){u.bindAndShow(c,b,a)})},inject:function(c,d){if(c.model)if(c.view)b.locateView(c.view,c.area,c.viewElements).then(function(a){u.bindAndShow(a,d,c)});else{c.strategy||(c.strategy=this.defaultStrategy);a.isString(c.strategy)?a.acquire(c.strategy).then(function(a){c.strategy=a;u.executeStrategy(c,d)}).fail(function(a){h(c,"Failed to load view strategy ("+c.strategy+"). Details: "+a.message,d)}):this.executeStrategy(c,d)}else this.bindAndShow(null,d,c)},compose:function(c,d,e,f){y++;f||(d=u.getSettings(function(){return d},c));d.compositionComplete&&x.push(function(){d.compositionComplete(d.child,d.parent,d)});x.push(function(){d.composingNewView&&d.model&&d.model.compositionComplete&&d.model.compositionComplete(d.child,d.parent,d)});var g=i(c);d.activeView=g.activeView;d.parent=c;d.triggerAttach=m;d.bindingContext=e;d.cacheViews&&!d.viewElements&&(d.viewElements=g.childElements);if(d.model)a.isString(d.model)?a.acquire(d.model).then(function(b){d.model=a.resolveObject(b);u.inject(d,c)}).fail(function(a){h(d,"Failed to load composed module ("+d.model+"). Details: "+a.message,c)}):u.inject(d,c);else if(d.view){d.area=d.area||"partial";d.preserveContext=!0;b.locateView(d.view,d.area,d.viewElements).then(function(a){u.bindAndShow(a,c,d)})}else this.bindAndShow(null,c,d)}};g.bindingHandlers.compose={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b,c,e,f){var h=u.getSettings(b,a);if(h.mode){var i=g.utils.domData.get(a,z);if(!i){var j=g.virtualElements.childNodes(a);i={};"inline"===h.mode?i.view=d.ensureSingleElement(j):"templated"===h.mode&&(i.parts=o(j));g.virtualElements.emptyNode(a);g.utils.domData.set(a,z,i)}"inline"===h.mode?h.view=i.view.cloneNode(!0):"templated"===h.mode&&(h.parts=i.parts);h.preserveContext=!0}u.compose(a,h,f,!0)}};g.virtualElements.allowedBindings.compose=!0;return u});define("durandal/events",["durandal/system"],function(a){var b=/\s+/,c=function(){},d=function(a,b){this.owner=a;this.events=b};d.prototype.then=function(a,b){this.callback=a||this.callback;this.context=b||this.context;if(!this.callback)return this;this.owner.on(this.events,this.callback,this.context);return this};d.prototype.on=d.prototype.then;d.prototype.off=function(){this.owner.off(this.events,this.callback,this.context);return this};c.prototype.on=function(a,c,e){var f,g,h;if(c){f=this.callbacks||(this.callbacks={});a=a.split(b);for(;g=a.shift();){h=f[g]||(f[g]=[]);h.push(c,e)}return this}return new d(this,a)};c.prototype.off=function(c,d,e){var f,g,h,i;if(!(g=this.callbacks))return this;if(!(c||d||e)){delete this.callbacks;return this}c=c?c.split(b):a.keys(g);for(;f=c.shift();)if((h=g[f])&&(d||e))for(i=h.length-2;i>=0;i-=2)d&&h[i]!==d||e&&h[i+1]!==e||h.splice(i,2);else delete g[f];return this};c.prototype.trigger=function(a){var c,d,e,f,g,h,i,j;if(!(d=this.callbacks))return this;j=[];a=a.split(b);for(f=1,g=arguments.length;g>f;f++)j[f-1]=arguments[f];for(;c=a.shift();){(i=d.all)&&(i=i.slice());(e=d[c])&&(e=e.slice());if(e)for(f=0,g=e.length;g>f;f+=2)e[f].apply(e[f+1]||this,j);if(i){h=[c].concat(j);for(f=0,g=i.length;g>f;f+=2)i[f].apply(i[f+1]||this,h)}}return this};c.prototype.proxy=function(a){var b=this;return function(c){b.trigger(a,c)}};c.includeIn=function(a){a.on=c.prototype.on;a.off=c.prototype.off;a.trigger=c.prototype.trigger;a.proxy=c.prototype.proxy};return c});define("durandal/app",["durandal/system","durandal/viewEngine","durandal/composition","durandal/events","jquery"],function(a,b,c,d,e){function f(){return a.defer(function(b){0!=h.length?a.acquire(h).then(function(c){for(var d=0;d<c.length;d++){var e=c[d];if(e.install){var f=i[d];a.isObject(f)||(f={});e.install(f);a.log("Plugin:Installed "+h[d])}else a.log("Plugin:Loaded "+h[d])}b.resolve()}).fail(function(b){a.error("Failed to load plugin(s). Details: "+b.message)}):b.resolve()}).promise()}var g,h=[],i=[];g={title:"Application",configurePlugins:function(b,c){var d=a.keys(b);c=c||"plugins/";-1===c.indexOf("/",c.length-1)&&(c+="/");for(var e=0;e<d.length;e++){var f=d[e];h.push(c+f);i.push(b[f])}},start:function(){a.log("Application:Starting");this.title&&(document.title=this.title);
return a.defer(function(b){e(function(){f().then(function(){b.resolve();a.log("Application:Started")})})}).promise()},setRoot:function(d,e,f){function g(){if(i.model)if(i.model.canActivate)try{var b=i.model.canActivate();b&&b.then?b.then(function(a){a&&c.compose(h,i)}).fail(function(b){a.error(b)}):b&&c.compose(h,i)}catch(d){a.error(d)}else c.compose(h,i);else c.compose(h,i)}var h,i={activate:!0,transition:e};h=!f||a.isString(f)?document.getElementById(f||"applicationHost"):f;a.isString(d)&&b.isViewUrl(d)?i.view=d:i.model=d;a.isString(i.model)?a.acquire(i.model).then(function(b){i.model=a.resolveObject(b);g()}).fail(function(b){a.error("Failed to load root module ("+i.model+"). Details: "+b.message)}):g()}};d.includeIn(g);return g});!function(a){"use strict";if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof exports&&"object"==typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define("q",a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=a}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var b="undefined"!=typeof window?window:self,c=b.Q;b.Q=a();b.Q.noConflict=function(){b.Q=c;return this}}}(function(){function a(a){return function(){return W.apply(a,arguments)}}function b(a){return a===Object(a)}function c(a){return"[object StopIteration]"===ca(a)||a instanceof S}function d(a,b){if(P&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(da)){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var f=c.join("\n"+da+"\n");a.stack=e(f)}}function e(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];h(e)||f(e)||!e||c.push(e)}return c.join("\n")}function f(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function g(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function h(a){var b=g(a);if(!b)return!1;var c=b[0],d=b[1];return c===R&&d>=T&&ia>=d}function i(){if(P)try{throw new Error}catch(a){var b=a.stack.split("\n"),c=b[0].indexOf("@")>0?b[1]:b[2],d=g(c);if(!d)return;R=d[0];return d[1]}}function j(a,b,c){return function(){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack);return a.apply(a,arguments)}}function k(a){return a instanceof o?a:s(a)?B(a):A(a)}function l(){function a(a){b=a;f.source=a;Y(c,function(b,c){k.nextTick(function(){a.promiseDispatch.apply(a,c)})},void 0);c=void 0;d=void 0}var b,c=[],d=[],e=_(l.prototype),f=_(o.prototype);f.promiseDispatch=function(a,e,f){var g=X(arguments);if(c){c.push(g);"when"===e&&f[1]&&d.push(f[1])}else k.nextTick(function(){b.promiseDispatch.apply(b,g)})};f.valueOf=function(){if(c)return f;var a=q(b);r(a)&&(b=a);return a};f.inspect=function(){return b?b.inspect():{state:"pending"}};if(k.longStackSupport&&P)try{throw new Error}catch(g){f.stack=g.stack.substring(g.stack.indexOf("\n")+1)}e.promise=f;e.resolve=function(c){b||a(k(c))};e.fulfill=function(c){b||a(A(c))};e.reject=function(c){b||a(z(c))};e.notify=function(a){b||Y(d,function(b,c){k.nextTick(function(){c(a)})},void 0)};return e}function m(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=l();try{a(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}return b.promise}function n(a){return m(function(b,c){for(var d=0,e=a.length;e>d;d++)k(a[d]).then(b,c)})}function o(a,b,c){void 0===b&&(b=function(a){return z(new Error("Promise does not support operation: "+a))});void 0===c&&(c=function(){return{state:"unknown"}});var d=_(o.prototype);d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(h){g=z(h)}c&&c(g)};d.inspect=c;if(c){var e=c();"rejected"===e.state&&(d.exception=e.reason);d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function p(a,b,c,d){return k(a).then(b,c,d)}function q(a){if(r(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function r(a){return a instanceof o}function s(a){return b(a)&&"function"==typeof a.then}function t(a){return r(a)&&"pending"===a.inspect().state}function u(a){return!r(a)||"fulfilled"===a.inspect().state}function v(a){return r(a)&&"rejected"===a.inspect().state}function w(){ea.length=0;fa.length=0;ha||(ha=!0)}function x(a,b){if(ha){"object"==typeof process&&"function"==typeof process.emit&&k.nextTick.runAfter(function(){if(-1!==Z(fa,a)){process.emit("unhandledRejection",b,a);ga.push(a)}});fa.push(a);b&&"undefined"!=typeof b.stack?ea.push(b.stack):ea.push("(no stack) "+b)}}function y(a){if(ha){var b=Z(fa,a);if(-1!==b){"object"==typeof process&&"function"==typeof process.emit&&k.nextTick.runAfter(function(){var c=Z(ga,a);if(-1!==c){process.emit("rejectionHandled",ea[b],a);ga.splice(c,1)}});fa.splice(b,1);ea.splice(b,1)}}}function z(a){var b=o({when:function(b){b&&y(this);return b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});x(b,a);return b}function A(a){return o({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},"delete":function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return ba(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function B(a){var b=l();k.nextTick(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(c){b.reject(c)}});return b.promise}function C(a){return o({isDef:function(){}},function(b,c){return I(a,b,c)},function(){return k(a).inspect()})}function D(a,b,c){return k(a).spread(b,c)}function E(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=d[a](b)}catch(h){return z(h)}return g.done?k(g.value):p(g.value,e,f)}try{g=d[a](b)}catch(h){return c(h)?k(h.value):z(h)}return p(g,e,f)}var d=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function F(a){k.done(k.async(a)())}function G(a){throw new S(a)}function H(a){return function(){return D([this,J(arguments)],function(b,c){return a.apply(b,c)})}}function I(a,b,c){return k(a).dispatch(b,c)}function J(a){return p(a,function(a){var b=0,c=l();Y(a,function(d,e,f){var g;if(r(e)&&"fulfilled"===(g=e.inspect()).state)a[f]=g.value;else{++b;p(e,function(d){a[f]=d;0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})})}},void 0);0===b&&c.resolve(a);return c.promise})}function K(a){if(0===a.length)return k.resolve();var b=k.defer(),c=0;Y(a,function(d,e,f){function g(a){b.resolve(a)}function h(){c--;0===c&&b.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function i(a){b.notify({index:f,value:a})}var j=a[f];c++;p(j,g,h,i)},void 0);return b.promise}function L(a){return p(a,function(a){a=$(a,k);return p(J($(a,function(a){return p(a,U,U)})),function(){return a})})}function M(a){return k(a).allSettled()}function N(a,b){return k(a).then(void 0,void 0,b)}function O(a,b){return k(a).nodeify(b)}var P=!1;try{throw new Error}catch(Q){P=!!Q.stack}var R,S,T=i(),U=function(){},V=function(){function a(){for(var a,d;c.next;){c=c.next;a=c.task;c.task=void 0;d=c.domain;if(d){c.domain=void 0;d.enter()}b(a,d)}for(;h.length;){a=h.pop();b(a)}e=!1}function b(b,c){try{b()}catch(d){if(g){c&&c.exit();setTimeout(a,0);c&&c.enter();throw d}setTimeout(function(){throw d},0)}c&&c.exit()}var c={task:void 0,next:null},d=c,e=!1,f=void 0,g=!1,h=[];V=function(a){d=d.next={task:a,domain:g&&process.domain,next:null};if(!e){e=!0;f()}};if("object"==typeof process&&"[object process]"===process.toString()&&process.nextTick){g=!0;f=function(){process.nextTick(a)}}else if("function"==typeof setImmediate)f="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var i=new MessageChannel;i.port1.onmessage=function(){f=j;i.port1.onmessage=a;a()};var j=function(){i.port2.postMessage(0)};f=function(){setTimeout(a,0);j()}}else f=function(){setTimeout(a,0)};V.runAfter=function(a){h.push(a);if(!e){e=!0;f()}};return V}(),W=Function.call,X=a(Array.prototype.slice),Y=a(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),Z=a(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),$=a(Array.prototype.map||function(a,b){var c=this,d=[];Y(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0);return d}),_=Object.create||function(a){function b(){}b.prototype=a;return new b},aa=a(Object.prototype.hasOwnProperty),ba=Object.keys||function(a){var b=[];for(var c in a)aa(a,c)&&b.push(c);return b},ca=a(Object.prototype.toString);S="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var da="From previous event:";k.resolve=k;k.nextTick=V;k.longStackSupport=!1;"object"==typeof process&&process&&process.env&&process.env.Q_DEBUG&&(k.longStackSupport=!0);k.defer=l;l.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(X(arguments,1)):a.resolve(c)}};k.Promise=m;k.promise=m;m.race=n;m.all=J;m.reject=z;m.resolve=k;k.passByCopy=function(a){return a};o.prototype.passByCopy=function(){return this};k.join=function(a,b){return k(a).join(b)};o.prototype.join=function(a){return k([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})};k.race=n;o.prototype.race=function(){return this.then(k.race)};k.makePromise=o;o.prototype.toString=function(){return"[object Promise]"};o.prototype.then=function(a,b,c){function e(b){try{return"function"==typeof a?a(b):b}catch(c){return z(c)}}function f(a){if("function"==typeof b){d(a,h);try{return b(a)}catch(c){return z(c)}}return z(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=l(),j=!1;k.nextTick(function(){h.promiseDispatch(function(a){if(!j){j=!0;i.resolve(e(a))}},"when",[function(a){if(!j){j=!0;i.resolve(f(a))}}])});h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(d){c=!0;if(!k.onerror)throw d;k.onerror(d)}c||i.notify(b)}]);return i.promise};k.tap=function(a,b){return k(a).tap(b)};o.prototype.tap=function(a){a=k(a);return this.then(function(b){return a.fcall(b).thenResolve(b)})};k.when=p;o.prototype.thenResolve=function(a){return this.then(function(){return a})};k.thenResolve=function(a,b){return k(a).thenResolve(b)};o.prototype.thenReject=function(a){return this.then(function(){throw a})};k.thenReject=function(a,b){return k(a).thenReject(b)};k.nearer=q;k.isPromise=r;k.isPromiseAlike=s;k.isPending=t;o.prototype.isPending=function(){return"pending"===this.inspect().state};k.isFulfilled=u;o.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state};k.isRejected=v;o.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ea=[],fa=[],ga=[],ha=!0;k.resetUnhandledRejections=w;k.getUnhandledReasons=function(){return ea.slice()};k.stopUnhandledRejectionTracking=function(){w();ha=!1};w();k.reject=z;k.fulfill=A;k.master=C;k.spread=D;o.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)};k.async=E;k.spawn=F;k["return"]=G;k.promised=H;k.dispatch=I;o.prototype.dispatch=function(a,b){var c=this,d=l();k.nextTick(function(){c.promiseDispatch(d.resolve,a,b)});return d.promise};k.get=function(a,b){return k(a).dispatch("get",[b])};o.prototype.get=function(a){return this.dispatch("get",[a])};k.set=function(a,b,c){return k(a).dispatch("set",[b,c])};o.prototype.set=function(a,b){return this.dispatch("set",[a,b])};k.del=k["delete"]=function(a,b){return k(a).dispatch("delete",[b])};o.prototype.del=o.prototype["delete"]=function(a){return this.dispatch("delete",[a])};k.mapply=k.post=function(a,b,c){return k(a).dispatch("post",[b,c])};o.prototype.mapply=o.prototype.post=function(a,b){return this.dispatch("post",[a,b])};k.send=k.mcall=k.invoke=function(a,b){return k(a).dispatch("post",[b,X(arguments,2)])};o.prototype.send=o.prototype.mcall=o.prototype.invoke=function(a){return this.dispatch("post",[a,X(arguments,1)])};k.fapply=function(a,b){return k(a).dispatch("apply",[void 0,b])};o.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])};k["try"]=k.fcall=function(a){return k(a).dispatch("apply",[void 0,X(arguments,1)])};o.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])};k.fbind=function(a){var b=k(a),c=X(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(X(arguments))])}};o.prototype.fbind=function(){var a=this,b=X(arguments);return function(){return a.dispatch("apply",[this,b.concat(X(arguments))])}};k.keys=function(a){return k(a).dispatch("keys",[])};o.prototype.keys=function(){return this.dispatch("keys",[])};k.all=J;o.prototype.all=function(){return J(this)};k.any=K;o.prototype.any=function(){return K(this)};k.allResolved=j(L,"allResolved","allSettled");o.prototype.allResolved=function(){return L(this)};k.allSettled=M;o.prototype.allSettled=function(){return this.then(function(a){return J($(a,function(a){function b(){return a.inspect()}a=k(a);return a.then(b,b)}))})};k.fail=k["catch"]=function(a,b){return k(a).then(void 0,b)};o.prototype.fail=o.prototype["catch"]=function(a){return this.then(void 0,a)};k.progress=N;o.prototype.progress=function(a){return this.then(void 0,void 0,a)};k.fin=k["finally"]=function(a,b){return k(a)["finally"](b)};o.prototype.fin=o.prototype["finally"]=function(a){a=k(a);return this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})};k.done=function(a,b,c,d){return k(a).done(b,c,d)};o.prototype.done=function(a,b,c){var e=function(a){k.nextTick(function(){d(a,f);if(!k.onerror)throw a;k.onerror(a)})},f=a||b||c?this.then(a,b,c):this;"object"==typeof process&&process&&process.domain&&(e=process.domain.bind(e));f.then(void 0,e)};k.timeout=function(a,b,c){return k(a).timeout(b,c)};o.prototype.timeout=function(a,b){var c=l(),d=setTimeout(function(){if(!b||"string"==typeof b){b=new Error(b||"Timed out after "+a+" ms");b.code="ETIMEDOUT"}c.reject(b)},a);this.then(function(a){clearTimeout(d);c.resolve(a)},function(a){clearTimeout(d);c.reject(a)},c.notify);return c.promise};k.delay=function(a,b){if(void 0===b){b=a;a=void 0}return k(a).delay(b)};o.prototype.delay=function(a){return this.then(function(b){var c=l();setTimeout(function(){c.resolve(b)},a);return c.promise})};k.nfapply=function(a,b){return k(a).nfapply(b)};o.prototype.nfapply=function(a){var b=l(),c=X(a);c.push(b.makeNodeResolver());this.fapply(c).fail(b.reject);return b.promise};k.nfcall=function(a){var b=X(arguments,1);return k(a).nfapply(b)};o.prototype.nfcall=function(){var a=X(arguments),b=l();a.push(b.makeNodeResolver());this.fapply(a).fail(b.reject);return b.promise};k.nfbind=k.denodeify=function(a){var b=X(arguments,1);return function(){var c=b.concat(X(arguments)),d=l();c.push(d.makeNodeResolver());k(a).fapply(c).fail(d.reject);return d.promise}};o.prototype.nfbind=o.prototype.denodeify=function(){var a=X(arguments);a.unshift(this);return k.denodeify.apply(void 0,a)};k.nbind=function(a,b){var c=X(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(X(arguments)),f=l();e.push(f.makeNodeResolver());k(d).fapply(e).fail(f.reject);return f.promise}};o.prototype.nbind=function(){var a=X(arguments,0);a.unshift(this);return k.nbind.apply(void 0,a)};k.nmapply=k.npost=function(a,b,c){return k(a).npost(b,c)};o.prototype.nmapply=o.prototype.npost=function(a,b){var c=X(b||[]),d=l();c.push(d.makeNodeResolver());this.dispatch("post",[a,c]).fail(d.reject);return d.promise};k.nsend=k.nmcall=k.ninvoke=function(a,b){var c=X(arguments,2),d=l();c.push(d.makeNodeResolver());k(a).dispatch("post",[b,c]).fail(d.reject);return d.promise};o.prototype.nsend=o.prototype.nmcall=o.prototype.ninvoke=function(a){var b=X(arguments,1),c=l();b.push(c.makeNodeResolver());this.dispatch("post",[a,b]).fail(c.reject);return c.promise};k.nodeify=O;o.prototype.nodeify=function(a){if(!a)return this;this.then(function(b){k.nextTick(function(){a(null,b)})},function(b){k.nextTick(function(){a(b)})});return void 0};k.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ia=i();return k});define("model/staticConfig",[],function(){return new StaticConfig});var StaticConfig=function(){function a(){var a=window.clientConfig;if(a){this.pollingTimeout=a.pollingTimeout;this.initialPollingIntervals=a.initialPollingIntervals.split(" ").map(function(a){return parseInt(a,10)});this.fixedPollingIntervals=a.fixedPollingIntervals;this.apiBaseUrl=a.apiServiceBase;this.helpUrl=a.helpUrl;this.myGovUrl=a.myGovUrl;this.appStoreUrl=a.appStoreUrl;this.googlePlayUrl=a.googlePlayUrl;this.windowsUrl=a.windowsUrl;this.stub=a.stub;this.sendAuthRequestRetries=a.sendAuthRequestRetries;this.appVersion=a.appVersion;this.debugMode=a.debugMode}}return a}();define("main",["durandal/system","durandal/app","durandal/viewLocator","q","model/staticConfig","durandal/binder"],function(a,b,c,d,e,f){e.stub&&require(["stub/injector"],function(){});b.title="myGovID";b.configurePlugins({router:!0,dialog:!0,widget:!0});f.throwOnErrors=e.debugMode;a.defer=function(a){var b=d.defer();a.call(b,b);var c=b.promise;b.promise=function(){return c};return b};b.start().then(function(){c.useConvention();b.setRoot("viewmodels/shell")})});define("common/Base64",["require"],function(a){return{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,i="",j=0;a=this.utf8_encode(a);for(;j<a.length;){b=a.charCodeAt(j++);c=a.charCodeAt(j++);d=a.charCodeAt(j++);e=b>>2;f=(3&b)<<4|c>>4;g=(15&c)<<2|d>>6;h=63&d;isNaN(c)?g=h=64:isNaN(d)&&(h=64);i=i+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h)}return i},decode:function(a){var b,c,d,e,f,g,h,i="",j=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(;j<a.length;){e=this._keyStr.indexOf(a.charAt(j++));f=this._keyStr.indexOf(a.charAt(j++));g=this._keyStr.indexOf(a.charAt(j++));h=this._keyStr.indexOf(a.charAt(j++));b=e<<2|f>>4;c=(15&f)<<4|g>>2;d=(3&g)<<6|h;i+=String.fromCharCode(b);64!==g&&(i+=String.fromCharCode(c));64!==h&&(i+=String.fromCharCode(d))}i=this.utf8_decode(i);return i},utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);if(128>d)b+=String.fromCharCode(d);else if(d>127&&2048>d){b+=String.fromCharCode(d>>6|192);b+=String.fromCharCode(63&d|128)}else{b+=String.fromCharCode(d>>12|224);b+=String.fromCharCode(d>>6&63|128);b+=String.fromCharCode(63&d|128)}}return b},utf8_decode:function(a){var b="",c=0,d=0;c1=0;c2=0;for(;c<a.length;){d=a.charCodeAt(c);if(128>d){b+=String.fromCharCode(d);c++}else if(d>191&&224>d){c2=a.charCodeAt(c+1);b+=String.fromCharCode((31&d)<<6|63&c2);c+=2}else{c2=a.charCodeAt(c+1);c3=a.charCodeAt(c+2);b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3);c+=3}}return b}}});var Http;!function(a){!function(a){a[a.GET=0]="GET";a[a.PUT=1]="PUT";a[a.POST=2]="POST";a[a.PATCH=3]="PATCH";a[a.DELETE=4]="DELETE"}(a.Method||(a.Method={}));a.Method}(Http||(Http={}));define("common/http",function(){});define("common/logger",["require","durandal/system"],function(a){"use strict";function b(a,b,c,d){var e=0;a&&(e|=l.logLevels.ERROR);b&&(e|=l.logLevels.WARNING);c&&(e|=l.logLevels.INFO);d&&(e|=l.logLevels.DEBUG);k.level=e}function c(a){return 0!==(k.level^a)}function d(a,b){e(a);i(a,b,null,l.logLevels.ERROR)}function e(a){}function f(a,b,d){if(!a)throw new Error("logger.logWarning: called with empty message");if(!b)throw new Error("logger.logWarning: called with empty source");c(l.logLevels.WARNING)&&i(a,b,d,l.logLevels.WARNING)}function g(a,b,d){if(!a)throw new Error("logger.logInfo: called with empty message");if(!b)throw new Error("logger.logInfo: called with empty source");c(l.logLevels.INFO)&&i(a,b,d,l.logLevels.INFO)}function h(a,b,d){if(!a)throw new Error("logger.logDebug: called with empty message");if(!b)throw new Error("logger.logDebug: called with empty source");c(l.logLevels.DEBUG)&&i(a,b,JSON.stringify(d),l.logLevels.DEBUG)}function i(a,b,c,d){b=b?"["+b+"] ":"";c?j.log(b,a,c):j.log(b,a)}var j=a("durandal/system"),k={level:0},l={logLevels:{ERROR:1,WARNING:2,INFO:4,DEBUG:8},setLogLevel:b,logError:d,logWarning:f,logInfo:g,logDebug:h,log:i,traceAlert:e,"-private":k};return l});if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};setTimeout(e,b);return this};a(function(){a.support.transition=b()})}(jQuery);+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");if(!e){e=d.attr("href");e=e&&e.replace(/.*(?=#[^\s]*$)/,"")}var f=a(e);b&&b.preventDefault();f.length||(f=d.hasClass("alert")?d:d.parent());f.trigger(b=a.Event("close.bs.alert"));if(!b.isDefaultPrevented()){f.removeClass("in");a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c()}};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this));"string"==typeof b&&e[b].call(d)})};a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){a.fn.alert=d;return this};a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery);+function(a){"use strict";var b=function(c,d){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,d);this.isLoading=!1};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text";f.resetText||d.data("resetText",d[e]());d[e](f[b]||this.options[b]);setTimeout(a.proxy(function(){if("loadingText"==b){this.isLoading=!0;d.addClass(c).attr(c,c)}else if(this.isLoading){this.isLoading=!1;d.removeClass(c).removeAttr(c)}},this),0)};b.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active"));a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f));"toggle"==c?e.toggle():c&&e.setState(c)})};a.fn.button.Constructor=b;a.fn.button.noConflict=function(){a.fn.button=c;return this};a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn"));c.button("toggle");b.preventDefault()})}(jQuery);+function(a){"use strict";var b=function(b,c){this.$element=a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;this.paused=this.sliding=this.interval=this.$active=this.$items=null;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0};b.prototype.cycle=function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this};b.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))};b.prototype.pause=function(b){b||(this.paused=!0);if(this.$element.find(".next, .prev").length&&a.support.transition){this.$element.trigger(a.support.transition.end);this.cycle(!0)}this.interval=clearInterval(this.interval);return this};b.prototype.next=function(){return this.sliding?void 0:this.slide("next")};b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")};b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});this.$element.trigger(j);if(!j.isDefaultPrevented()){this.sliding=!0;f&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})}if(a.support.transition&&this.$element.hasClass("slide")){e.addClass(b);e[0].offsetWidth;d.addClass(g);e.addClass(g);d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active");d.removeClass(["active",g].join(" "));i.sliding=!1;setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))}else{d.removeClass("active");e.addClass("active");this.sliding=!1;this.$element.trigger("slid.bs.carousel")}f&&this.cycle();return this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f));"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})};a.fn.carousel.Constructor=b;a.fn.carousel.noConflict=function(){a.fn.carousel=c;return this};a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1);e.carousel(f);(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g);b.preventDefault()});a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery);+function(a){"use strict";var b=function(c,d){this.$element=a(c);this.options=a.extend({},b.DEFAULTS,d);this.transitioning=null;this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0};b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"};b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide");d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0);this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}};b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350);return void 0}}};b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);!e&&f.toggle&&"show"==c&&(c=!c);e||d.data("bs.collapse",e=new b(this,f));"string"==typeof c&&e[c]()})};a.fn.collapse.Constructor=b;a.fn.collapse.noConflict=function(){a.fn.collapse=c;return this};a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);if(!g||!g.transitioning){j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed");d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")}f.collapse(h)})}(jQuery);+function(a){"use strict";function b(b){a(d).remove();a(e).each(function(){var d=c(a(this)),e={relatedTarget:this};if(d.hasClass("open")){d.trigger(b=a.Event("hide.bs.dropdown",e));b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e)}})}function c(b){var c=b.attr("data-target");if(!c){c=b.attr("href");c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,"")}var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");b();if(!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};f.trigger(d=a.Event("show.bs.dropdown",h));if(d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown",h);e.focus()}return!1}};f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);b.preventDefault();b.stopPropagation();if(!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode){27==b.which&&f.find(e).focus();return d.click()}var h=" li:not(.divider):visible a",i=f.find("[role=menu]"+h+", [role=listbox]"+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--;40==b.keyCode&&j<i.length-1&&j++;~j||(j=0);i.eq(j).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this));"string"==typeof b&&d[b].call(c)})};a.fn.dropdown.Constructor=f;a.fn.dropdown.noConflict=function(){a.fn.dropdown=g;return this};a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu], [role=listbox]",f.prototype.keydown)}(jQuery);+function(a){"use strict";var b=function(b,c){this.options=c;this.$element=a(b);this.$backdrop=this.isShown=null;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){
this.$element.trigger("loaded.bs.modal")},this))};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)};b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d);if(!this.isShown&&!d.isDefaultPrevented()){this.isShown=!0;this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this));this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body);c.$element.show().scrollTop(0);d&&c.$element[0].offsetWidth;c.$element.addClass("in").attr("aria-hidden",!1);c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)})}};b.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);if(this.isShown&&!b.isDefaultPrevented()){this.isShown=!1;this.escape();a(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal");a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}};b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))};b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")};b.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this));d&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g));"string"==typeof c?f[c](d):g.show&&f.show(d)})};a.fn.modal.Constructor=b;a.fn.modal.noConflict=function(){a.fn.modal=c;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());c.is("a")&&b.preventDefault();e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})});a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery);+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};b.prototype.init=function(b,c,d){this.enabled=!0;this.type=b;this.$element=a(c);this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(b){b=a.extend({},this.getDefaults(),this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b};b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)});return b};b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show);return void 0};b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout);c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide);return void 0};b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent();this.options.animation&&d.addClass("fade");var e="function"==typeof this.options.placement?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top");d.detach().css({top:0,left:0,display:"block"}).addClass(e);this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n="body"==this.options.container?window.innerWidth:k.outerWidth(),o="body"==this.options.container?window.innerHeight:k.outerHeight(),p="body"==this.options.container?0:k.offset().left;e="bottom"==e&&h.top+h.height+j-m>o?"top":"top"==e&&h.top-m-j<0?"bottom":"right"==e&&h.right+i>n?"left":"left"==e&&h.left-i<p?"right":e;d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e);this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}};b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0);isNaN(i)&&(i=0);b.top=b.top+h;b.left=b.left+i;a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0);e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;if("top"==c&&k!=g){d=!0;b.top=b.top+g-k}if(/bottom|top/.test(c)){var l=0;if(b.left<0){l=-2*b.left;b.left=0;e.offset(b);j=e[0].offsetWidth;k=e[0].offsetHeight}this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)};b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")};b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach();c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);this.$element.trigger(e);if(!e.isDefaultPrevented()){d.removeClass("in");a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b();this.hoverState=null;return this}};b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}};b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title);return a};b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=!0};b.prototype.disable=function(){this.enabled=!1};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)};b.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;if(e||"destroy"!=c){e||d.data("bs.tooltip",e=new b(this,f));"string"==typeof c&&e[c]()}})};a.fn.tooltip.Constructor=b;a.fn.tooltip.noConflict=function(){a.fn.tooltip=c;return this}}(jQuery);+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content")[this.options.html?"string"==typeof c?"html":"append":"text"](c);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;if(e||"destroy"!=c){e||d.data("bs.popover",e=new b(this,f));"string"==typeof c&&e[c]()}})};a.fn.popover.Constructor=b;a.fn.popover.noConflict=function(){a.fn.popover=c;return this}}(jQuery);+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c);this.$body=a("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f);this.options=a.extend({},b.DEFAULTS,d);this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.offsets=a([]);this.targets=a([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]);this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])};b.prototype.activate=function(b){this.activeTarget=b;a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active"));d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f));"string"==typeof c&&e[c]()})};a.fn.scrollspy.Constructor=b;a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=c;return this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery);+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(!d){d=b.attr("href");d=d&&d.replace(/.*(?=#[^\s]*$)/,"")}if(!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});b.trigger(f);if(!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c);this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}};b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");if(g){b[0].offsetWidth;b.addClass("in")}else b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e();f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this));"string"==typeof c&&e[c]()})};a.fn.tab.Constructor=b;a.fn.tab.noConflict=function(){a.fn.tab=c;return this};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(jQuery);+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d);this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(b.RESET).addClass("affix");var a=this.$window.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-a};b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"top"==this.affixed&&(e.top+=d);"object"!=typeof f&&(h=g=f);"function"==typeof g&&(g=f.top(this.$element));"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k);if(!k.isDefaultPrevented()){this.affixed=i;this.unpin="bottom"==i?this.getPinnedOffset():null;this.$element.removeClass(b.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed")));"bottom"==i&&this.$element.offset({top:c-h-this.$element.height()})}}}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f));"string"==typeof c&&e[c]()})};a.fn.affix.Constructor=b;a.fn.affix.noConflict=function(){a.fn.affix=c;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&(c.offset.bottom=c.offsetBottom);c.offsetTop&&(c.offset.top=c.offsetTop);b.affix(c)})})}(jQuery);define("bootstrap",function(){});define("common/modal",["jquery","bootstrap","knockout"],function(){return new Modal});var Modal=function(){function a(){var a=this;this.$=require("jquery");this.ko=require("knockout");this.init=function(b,c){a.$(b).modal({show:!1});var d=c();"function"==typeof d&&$(b).on("hide.bs.modal",function(){d(!1)})};this.update=function(b,c){var d=c();if(a.ko.utils.unwrapObservable(d))a.$(b).modal("show");else{a.$(b).modal("hide");a.$(".modal-backdrop").remove();a.$("body").removeClass("modal-open")}}}return a}();define("plugins/history",["durandal/system","jquery"],function(a,b){function c(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");h.history.replaceState?h.history.replaceState({},document.title,d+"#"+b):a.replace(d+"#"+b)}else a.hash="#"+b}var d=/^[#\/]|\s+$/g,e=/^\/+|\/+$/g,f=/msie [\w.]+/,g=/\/$/,h={interval:50,active:!1};if("undefined"!=typeof window){h.location=window.location;h.history=window.history}h.getHash=function(a){var b=(a||h).location.href.match(/#(.*)$/);return b?b[1]:""};h.getFragment=function(a,b){if(null==a)if(h._hasPushState||!h._wantsHashChange||b){a=h.location.pathname+h.location.search;var c=h.root.replace(g,"");a.indexOf(c)||(a=a.substr(c.length))}else a=h.getHash();return a.replace(d,"")};h.activate=function(c){h.active&&a.error("History has already been activated.");h.active=!0;h.options=a.extend({},{root:"/"},h.options,c);h.root=h.options.root;h._wantsHashChange=h.options.hashChange!==!1;h._wantsPushState=!!h.options.pushState;h._hasPushState=!!(h.options.pushState&&h.history&&h.history.pushState);var g=h.getFragment(),i=document.documentMode,j=f.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);h.root=("/"+h.root+"/").replace(e,"/");if(j&&h._wantsHashChange){h.iframe=b('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;h.navigate(g,!1)}h._hasPushState?b(window).on("popstate",h.checkUrl):h._wantsHashChange&&"onhashchange"in window&&!j?b(window).on("hashchange",h.checkUrl):h._wantsHashChange&&(h._checkUrlInterval=setInterval(h.checkUrl,h.interval));h.fragment=g;var k=h.location,l=k.pathname.replace(/[^\/]$/,"$&/")===h.root;if(h._wantsHashChange&&h._wantsPushState){if(!h._hasPushState&&!l){h.fragment=h.getFragment(null,!0);h.location.replace(h.root+h.location.search+"#"+h.fragment);return!0}if(h._hasPushState&&l&&k.hash){this.fragment=h.getHash().replace(d,"");this.history.replaceState({},document.title,h.root+h.fragment+k.search)}}return h.options.silent?void 0:h.loadUrl(c.startRoute)};h.deactivate=function(){b(window).off("popstate",h.checkUrl).off("hashchange",h.checkUrl);clearInterval(h._checkUrlInterval);h.active=!1};h.checkUrl=function(){var a=h.getFragment();a===h.fragment&&h.iframe&&(a=h.getFragment(h.getHash(h.iframe)));if(a===h.fragment)return!1;h.iframe&&h.navigate(a,!1);h.loadUrl()};h.loadUrl=function(a){var b=h.fragment=h.getFragment(a);return h.options.routeHandler?h.options.routeHandler(b):!1};h.navigate=function(b,d){if(!h.active)return!1;void 0===d?d={trigger:!0}:a.isBoolean(d)&&(d={trigger:d});b=h.getFragment(b||"");if(h.fragment!==b){h.fragment=b;var e=h.root+b;""===b&&"/"!==e&&(e=e.slice(0,-1));if(h._hasPushState)h.history[d.replace?"replaceState":"pushState"]({},document.title,e);else{if(!h._wantsHashChange)return h.location.assign(e);c(h.location,b,d.replace);if(h.iframe&&b!==h.getFragment(h.getHash(h.iframe))){d.replace||h.iframe.document.open().close();c(h.iframe.location,b,d.replace)}}return d.trigger?h.loadUrl(b):void 0}};h.navigateBack=function(){h.history.back()};return h});define("plugins/router",["durandal/system","durandal/app","durandal/activator","durandal/events","durandal/composition","plugins/history","knockout","jquery"],function(a,b,c,d,e,f,g,h){function i(a){a=a.replace(s,"\\$&").replace(p,"(?:$1)?").replace(q,function(a,b){return b?a:"([^/]+)"}).replace(r,"(.*?)");return new RegExp("^"+a+"$",u?void 0:"i")}function j(a){var b=a.indexOf(":"),c=b>0?b-1:a.length;return a.substring(0,c)}function k(a,b){return-1!==a.indexOf(b,a.length-b.length)}function l(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]!=b[c])return!1;return!0}function m(a){return a.queryString?a.fragment+"?"+a.queryString:a.fragment}var n,o,p=/\((.*?)\)/g,q=/(\(\?)?:\w+/g,r=/\*\w+/g,s=/[\-{}\[\]+?.,\\\^$|#\s]/g,t=/\/$/,u=!1,v="/",w="/",x=function(){function e(a,b){return a.router&&a.router.parent==b}function h(a){I&&I.config.isActive&&I.config.isActive(a)}function p(b,c,d){a.log("Navigation Complete",b,c);var f=a.getModuleId(H);f&&M.trigger("router:navigation:from:"+f);H=b;h(!1);I=c;h(!0);var g=a.getModuleId(H);g&&M.trigger("router:navigation:to:"+g);e(b,M)||M.updateDocumentTitle(b,c);switch(d){case"rootRouter":v=m(I);break;case"rootRouterWithChild":w=m(I);break;case"lastChildRouter":v=w}o.explicitNavigation=!1;o.navigatingBack=!1;M.trigger("router:navigation:complete",b,c,M)}function r(b,c){a.log("Navigation Cancelled");M.activeInstruction(I);M.navigate(v,!1);K(!1);o.explicitNavigation=!1;o.navigatingBack=!1;M.trigger("router:navigation:cancelled",b,c,M)}function s(b){a.log("Navigation Redirecting");K(!1);o.explicitNavigation=!1;o.navigatingBack=!1;M.navigate(b,{trigger:!0,replace:!0})}function u(b,c,d){o.navigatingBack=!o.explicitNavigation&&H!=d.fragment;M.trigger("router:route:activating",c,d,M);var f={canDeactivate:!M.parent};b.activateItem(c,d.params,f).then(function(a){if(a){var f=H,g=e(c,M),h="";M.parent?g||(h="lastChildRouter"):h=g?"rootRouterWithChild":"rootRouter";p(c,d,h);if(g){c.router.trigger("router:route:before-child-routes",c,d,M);var i=d.fragment;d.queryString&&(i+="?"+d.queryString);c.router.loadUrl(i)}if(f==c){M.attached();M.compositionComplete()}}else b.settings.lifecycleData&&b.settings.lifecycleData.redirect?s(b.settings.lifecycleData.redirect):r(c,d);if(n){n.resolve();n=null}}).fail(function(b){a.error(b)})}function y(b,c,d){var e=M.guardRoute(c,d);e||""===e?e.then?e.then(function(e){e?a.isString(e)?s(e):u(b,c,d):r(c,d)}):a.isString(e)?s(e):u(b,c,d):r(c,d)}function z(a,b,c){M.guardRoute?y(a,b,c):u(a,b,c)}function A(a){return I&&I.config.moduleId==a.config.moduleId&&H&&(H.canReuseForRoute&&H.canReuseForRoute.apply(H,a.params)||!H.canReuseForRoute&&H.router&&H.router.loadUrl)}function B(){if(!K()){var b=J.shift();J=[];if(b){K(!0);M.activeInstruction(b);M.trigger("router:navigation:processing",b,M);if(A(b)){var d=c.create();d.forceActiveItem(H);d.settings.areSameItem=L.settings.areSameItem;d.settings.findChildActivator=L.settings.findChildActivator;z(d,H,b)}else b.config.moduleId?a.acquire(b.config.moduleId).then(function(c){var d=a.resolveObject(c);b.config.viewUrl&&(d.viewUrl=b.config.viewUrl);z(L,d,b)}).fail(function(c){a.error("Failed to load routed module ("+b.config.moduleId+"). Details: "+c.message,c)}):z(L,{viewUrl:b.config.viewUrl,canReuseForRoute:function(){return!0}},b)}}}function C(a){J.unshift(a);B()}function D(a,b,c){for(var d=a.exec(b).slice(1),e=0;e<d.length;e++){var f=d[e];d[e]=f?decodeURIComponent(f):null}var g=M.parseQueryString(c);g&&d.push(g);return{params:d,queryParams:g}}function E(b){M.trigger("router:route:before-config",b,M);if(a.isRegExp(b.route))b.routePattern=b.route;else{b.title=b.title||M.convertRouteToTitle(b.route);b.viewUrl||(b.moduleId=b.moduleId||M.convertRouteToModuleId(b.route));b.hash=b.hash||M.convertRouteToHash(b.route);b.hasChildRoutes&&(b.route=b.route+"*childRoutes");b.routePattern=i(b.route)}b.isActive=b.isActive||g.observable(!1);M.trigger("router:route:after-config",b,M);M.routes.push(b);M.route(b.routePattern,function(a,c){var d=D(b.routePattern,a,c);C({fragment:a,queryString:c,config:b,params:d.params,queryParams:d.queryParams})})}function F(b){if(a.isArray(b.route))for(var c=b.isActive||g.observable(!1),d=0,e=b.route.length;e>d;d++){var f=a.extend({},b);f.route=b.route[d];f.isActive=c;d>0&&delete f.nav;E(f)}else E(b);return M}function G(a){var c=g.unwrap(b.title);c?document.title=a+" | "+c:document.title=a}var H,I,J=[],K=g.observable(!1),L=c.create(),M={handlers:[],routes:[],navigationModel:g.observableArray([]),activeItem:L,isNavigating:g.computed(function(){var a=L(),b=K(),c=a&&a.router&&a.router!=M&&a.router.isNavigating()?!0:!1;return b||c}),activeInstruction:g.observable(null),__router__:!0};d.includeIn(M);L.settings.areSameItem=function(a,b,c,d){return a==b?l(c,d):!1};L.settings.findChildActivator=function(a){return a&&a.router&&a.router.parent==M?a.router.activeItem:null};M.parseQueryString=function(b){var c,d;if(!b)return null;d=b.split("&");if(0==d.length)return null;c={};for(var e=0;e<d.length;e++){var f=d[e];if(""!==f){var g=f.split(/=(.+)?/),h=g[0],i=g[1]&&decodeURIComponent(g[1].replace(/\+/g," ")),j=c[h];j?a.isArray(j)?j.push(i):c[h]=[j,i]:c[h]=i}}return c};M.route=function(a,b){M.handlers.push({routePattern:a,callback:b})};M.loadUrl=function(b){var c=M.handlers,d=null,e=b,g=b.indexOf("?");if(-1!=g){e=b.substring(0,g);d=b.substr(g+1)}if(M.relativeToParentRouter){var h=this.parent.activeInstruction();e=-1==g?h.params.join("/"):h.params.slice(0,-1).join("/");e&&"/"==e.charAt(0)&&(e=e.substr(1));e||(e="");e=e.replace("//","/").replace("//","/")}e=e.replace(t,"");for(var i=0;i<c.length;i++){var j=c[i];if(j.routePattern.test(e)){j.callback(e,d);return!0}}a.log("Route Not Found",b,I);M.trigger("router:route:not-found",b,M);M.parent&&(v=w);f.navigate(v,{trigger:!1,replace:!0});o.explicitNavigation=!1;o.navigatingBack=!1;return!1};var N;g.isObservable(b.title)&&b.title.subscribe(function(){var a=M.activeInstruction(),b=null!=a?g.unwrap(a.config.title):"";G(b)});M.updateDocumentTitle=function(a,c){var d=g.unwrap(b.title),e=c.config.title;N&&N.dispose();if(e)if(g.isObservable(e)){N=e.subscribe(G);G(e())}else G(e);else d&&(document.title=d)};M.navigate=function(b,c){if(b&&-1!=b.indexOf("://")){window.location.href=b;return!0}(void 0===c||a.isBoolean(c)&&c||a.isObject(c)&&c.trigger)&&(o.explicitNavigation=!0);(a.isBoolean(c)&&!c||c&&void 0!=c.trigger&&!c.trigger)&&(v=b);return f.navigate(b,c)};M.navigateBack=function(){f.navigateBack()};M.attached=function(){M.trigger("router:navigation:attached",H,I,M)};M.compositionComplete=function(){K(!1);M.trigger("router:navigation:composition-complete",H,I,M);B()};M.convertRouteToHash=function(a){a=a.replace(/\*.*$/,"");if(M.relativeToParentRouter){var b=M.parent.activeInstruction(),c=a?b.config.hash+"/"+a:b.config.hash;f._hasPushState&&(c="/"+c);c=c.replace("//","/").replace("//","/");return c}return f._hasPushState?a:"#"+a};M.convertRouteToModuleId=function(a){return j(a)};M.convertRouteToTitle=function(a){var b=j(a);return b.substring(0,1).toUpperCase()+b.substring(1)};M.map=function(b,c){if(a.isArray(b)){for(var d=0;d<b.length;d++)M.map(b[d]);return M}if(a.isString(b)||a.isRegExp(b)){c?a.isString(c)&&(c={moduleId:c}):c={};c.route=b}else c=b;return F(c)};M.buildNavigationModel=function(b){for(var c=[],d=M.routes,e=b||100,f=0;f<d.length;f++){var g=d[f];if(g.nav){a.isNumber(g.nav)||(g.nav=++e);c.push(g)}}c.sort(function(a,b){return a.nav-b.nav});M.navigationModel(c);return M};M.mapUnknownRoutes=function(b,c){var d="*catchall",e=i(d);M.route(e,function(g,h){var i=D(e,g,h),j={fragment:g,queryString:h,config:{route:d,routePattern:e},params:i.params,queryParams:i.queryParams};if(b)if(a.isString(b)){j.config.moduleId=b;c&&f.navigate(c,{trigger:!1,replace:!0})}else if(a.isFunction(b)){var k=b(j);if(k&&k.then){k.then(function(){M.trigger("router:route:before-config",j.config,M);M.trigger("router:route:after-config",j.config,M);C(j)});return}}else{j.config=b;j.config.route=d;j.config.routePattern=e}else j.config.moduleId=g;M.trigger("router:route:before-config",j.config,M);M.trigger("router:route:after-config",j.config,M);C(j)});return M};M.reset=function(){I=H=void 0;M.handlers=[];M.routes=[];M.off();delete M.options;return M};M.makeRelative=function(b){a.isString(b)&&(b={moduleId:b,route:b});b.moduleId&&!k(b.moduleId,"/")&&(b.moduleId+="/");b.route&&!k(b.route,"/")&&(b.route+="/");b.fromParent&&(M.relativeToParentRouter=!0);M.on("router:route:before-config").then(function(a){b.moduleId&&(a.moduleId=b.moduleId+a.moduleId);b.route&&(""===a.route?a.route=b.route.substring(0,b.route.length-1):a.route=b.route+a.route)});if(b.dynamicHash){M.on("router:route:after-config").then(function(a){a.routePattern=i(a.route?b.dynamicHash+"/"+a.route:b.dynamicHash);a.dynamicHash=a.dynamicHash||g.observable(a.hash)});M.on("router:route:before-child-routes").then(function(a,b,c){for(var d=a.router,e=0;e<d.routes.length;e++){var f=d.routes[e],g=b.params.slice(0);f.hash=d.convertRouteToHash(f.route).replace(q,function(a){return g.length>0?g.shift():a});f.dynamicHash(f.hash)}})}return M};M.createChildRouter=function(){var a=x();a.parent=M;return a};return M};o=x();o.explicitNavigation=!1;o.navigatingBack=!1;o.makeRoutesCaseSensitive=function(){u=!0};o.targetIsThisWindow=function(a){var b=h(a.target).attr("target");return!b||b===window.name||"_self"===b||"top"===b&&window===window.top?!0:!1};o.activate=function(b){return a.defer(function(c){n=c;o.options=a.extend({routeHandler:o.loadUrl},o.options,b);f.activate(o.options);if(f._hasPushState)for(var d=o.routes,e=d.length;e--;){var g=d[e];g.hash=g.hash.replace("#","/")}var i=o.options.root&&new RegExp("^"+o.options.root+"/");h(document).delegate("a","click",function(a){if(f._hasPushState){if(!a.altKey&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&o.targetIsThisWindow(a)){var b=h(this).attr("href");if(null!=b&&"#"!==b.charAt(0)&&!/^[a-z]+:/i.test(b)){o.explicitNavigation=!0;a.preventDefault();i&&(b=b.replace(i,""));f.navigate(b)}}}else o.explicitNavigation=!0});if(f.options.silent&&n){n.resolve();n=null}}).promise()};o.deactivate=function(){f.deactivate()};o.install=function(){g.bindingHandlers.router={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b,c,d,f){var h=g.utils.unwrapObservable(b())||{};if(h.__router__)h={model:h.activeItem(),attached:h.attached,compositionComplete:h.compositionComplete,activate:!1};else{var i=g.utils.unwrapObservable(h.router||d.router)||o;h.model=i.activeItem();h.attached=i.attached;h.compositionComplete=i.compositionComplete;h.activate=!1}e.compose(a,h,f)}};g.virtualElements.allowedBindings.router=!0};return o});define("common/routes",["plugins/router"],function(){return new Routes});var Routes=function(){
function a(){this.landing=new Route("","Login","viewmodels/landing",!1);this.landingToken=new Route("(providerToken=:providerToken)","Login","viewmodels/landing",!1);this.complete=new Route("complete","Login","viewmodels/complete",!1);this.error=new Route("error","Error","viewmodels/error",!1);this.changeUser=new Route("changeUser","Change user","viewmodels/changeUser",!1);this.sendCode=new Route("sendCode","Login","viewmodels/sendCode",!1);this.loginRequest=new Route("loginRequest","Login request","viewmodels/loginRequest",!1);this.login=new Route("login","Login","viewmodels/login",!1)}a.prototype.mapAll=function(){var a=require("plugins/router");a.map([this.landing,this.landingToken,this.complete,this.error,this.changeUser,this.sendCode,this.loginRequest,this.login]).buildNavigationModel()};return a}(),Route=function(){function a(a,b,c,d){var e=this;this.navigate=function(){var a=require("plugins/router");return a.navigate(e.route)};this.route=a;this.title=b;this.moduleId=c;this.nav=d}return a}();define("model/sessionState",["knockout"],function(){return new SessionState});var SessionState=function(){function a(){var a=require("knockout");this.theme=a.observable();this.showSessionExpiredDialog=a.observable(!1)}return a}();!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("signalRCore",[],b):"object"==typeof exports?exports.signalR=b():a.signalR=b()}(window,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};a[d].call(e.exports,e,e.exports,b);e.l=!0;return e.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})};b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,c){1&c&&(a=b(a));if(8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);b.r(d);Object.defineProperty(d,"default",{enumerable:!0,value:a});if(2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d};b.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(c,"a",c);return c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=0)}([function(a,b,c){"use strict";c.r(b);var d=c(1),e=(c.n(d),c(3));c.d(b,"VERSION",function(){return e.VERSION});c.d(b,"AbortError",function(){return e.AbortError});c.d(b,"HttpError",function(){return e.HttpError});c.d(b,"TimeoutError",function(){return e.TimeoutError});c.d(b,"HttpClient",function(){return e.HttpClient});c.d(b,"HttpResponse",function(){return e.HttpResponse});c.d(b,"DefaultHttpClient",function(){return e.DefaultHttpClient});c.d(b,"HubConnection",function(){return e.HubConnection});c.d(b,"HubConnectionState",function(){return e.HubConnectionState});c.d(b,"HubConnectionBuilder",function(){return e.HubConnectionBuilder});c.d(b,"MessageType",function(){return e.MessageType});c.d(b,"LogLevel",function(){return e.LogLevel});c.d(b,"HttpTransportType",function(){return e.HttpTransportType});c.d(b,"TransferFormat",function(){return e.TransferFormat});c.d(b,"NullLogger",function(){return e.NullLogger});c.d(b,"JsonHubProtocol",function(){return e.JsonHubProtocol});c.d(b,"Subject",function(){return e.Subject});Uint8Array.prototype.indexOf||Object.defineProperty(Uint8Array.prototype,"indexOf",{value:Array.prototype.indexOf,writable:!0});Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(a,b){return new Uint8Array(Array.prototype.slice.call(this,a,b))},writable:!0});Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach,writable:!0})},function(a,b,c){(function(b){!function(b,c){a.exports=c()}(this,function(){"use strict";function a(a){var b=typeof a;return null!==a&&("object"===b||"function"===b)}function d(a){return"function"==typeof a}function e(a){U=a}function f(a){V=a}function g(){return function(){return process.nextTick(l)}}function h(){return"undefined"!=typeof T?function(){T(l)}:k()}function i(){var a=0,b=new Y(l),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function j(){var a=new MessageChannel;a.port1.onmessage=l;return function(){return a.port2.postMessage(0)}}function k(){var a=setTimeout;return function(){return a(l,1)}}function l(){for(var a=0;S>a;a+=2){var b=_[a],c=_[a+1];b(c);_[a]=void 0;_[a+1]=void 0}S=0}function m(){try{var a=c(!function(){var a=new Error("Cannot find module 'vertx'");a.code="MODULE_NOT_FOUND";throw a}());T=a.runOnLoop||a.runOnContext;return h()}catch(b){return k()}}function n(a,b){var c=this,d=new this.constructor(p);void 0===d[ba]&&I(d);var e=c._state;if(e){var f=arguments[e-1];V(function(){return F(e,d,f,c._result)})}else B(c,d,a,b);return d}function o(a){var b=this;if(a&&"object"==typeof a&&a.constructor===b)return a;var c=new b(p);x(c,a);return c}function p(){}function q(){return new TypeError("You cannot resolve a promise with itself")}function r(){return new TypeError("A promises callback cannot return that same promise.")}function s(a){try{return a.then}catch(b){fa.error=b;return fa}}function t(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function u(a,b,c){V(function(a){var d=!1,e=t(c,b,function(c){if(!d){d=!0;b!==c?x(a,c):z(a,c)}},function(b){if(!d){d=!0;A(a,b)}},"Settle: "+(a._label||" unknown promise"));if(!d&&e){d=!0;A(a,e)}},a)}function v(a,b){b._state===da?z(a,b._result):b._state===ea?A(a,b._result):B(b,void 0,function(b){return x(a,b)},function(b){return A(a,b)})}function w(a,b,c){if(b.constructor===a.constructor&&c===n&&b.constructor.resolve===o)v(a,b);else if(c===fa){A(a,fa.error);fa.error=null}else void 0===c?z(a,b):d(c)?u(a,b,c):z(a,b)}function x(b,c){b===c?A(b,q()):a(c)?w(b,c,s(c)):z(b,c)}function y(a){a._onerror&&a._onerror(a._result);C(a)}function z(a,b){if(a._state===ca){a._result=b;a._state=da;0!==a._subscribers.length&&V(C,a)}}function A(a,b){if(a._state===ca){a._state=ea;a._result=b;V(y,a)}}function B(a,b,c,d){var e=a._subscribers,f=e.length;a._onerror=null;e[f]=b;e[f+da]=c;e[f+ea]=d;0===f&&a._state&&V(C,a)}function C(a){var b=a._subscribers,c=a._state;if(0!==b.length){for(var d=void 0,e=void 0,f=a._result,g=0;g<b.length;g+=3){d=b[g];e=b[g+c];d?F(c,d,e,f):e(f)}a._subscribers.length=0}}function D(){this.error=null}function E(a,b){try{return a(b)}catch(c){ga.error=c;return ga}}function F(a,b,c,e){var f=d(c),g=void 0,h=void 0,i=void 0,j=void 0;if(f){g=E(c,e);if(g===ga){j=!0;h=g.error;g.error=null}else i=!0;if(b===g){A(b,r());return}}else{g=e;i=!0}b._state!==ca||(f&&i?x(b,g):j?A(b,h):a===da?z(b,g):a===ea&&A(b,g))}function G(a,b){try{b(function(b){x(a,b)},function(b){A(a,b)})}catch(c){A(a,c)}}function H(){return ha++}function I(a){a[ba]=ha++;a._state=void 0;a._result=void 0;a._subscribers=[]}function J(){return new Error("Array Methods must be provided an Array")}function J(){return new Error("Array Methods must be provided an Array")}function K(a){return new ia(this,a).promise}function L(a){var b=this;return new b(R(a)?function(c,d){for(var e=a.length,f=0;e>f;f++)b.resolve(a[f]).then(c,d)}:function(a,b){return b(new TypeError("You must pass an array to race."))})}function M(a){var b=this,c=new b(p);A(c,a);return c}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function O(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function P(){var a=void 0;if("undefined"!=typeof b)a=b;else if("undefined"!=typeof self)a=self;else try{a=Function("return this")()}catch(c){throw new Error("polyfill failed because global object is unavailable in this environment")}var d=a.Promise;if(d){var e=null;try{e=Object.prototype.toString.call(d.resolve())}catch(c){}if("[object Promise]"===e&&!d.cast)return}a.Promise=ja}var Q=void 0;Q=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};var R=Q,S=0,T=void 0,U=void 0,V=function(a,b){_[S]=a;_[S+1]=b;S+=2;2===S&&(U?U(l):aa())},W="undefined"!=typeof window?window:void 0,X=W||{},Y=X.MutationObserver||X.WebKitMutationObserver,Z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),$="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,_=new Array(1e3),aa=void 0;aa=Z?g():Y?i():$?j():void 0===W?m():k();var ba=Math.random().toString(36).substring(16),ca=void 0,da=1,ea=2,fa=new D,ga=new D,ha=0,ia=function(){function a(a,b){this._instanceConstructor=a;this.promise=new a(p);this.promise[ba]||I(this.promise);if(R(b)){this.length=b.length;this._remaining=b.length;this._result=new Array(this.length);if(0===this.length)z(this.promise,this._result);else{this.length=this.length||0;this._enumerate(b);0===this._remaining&&z(this.promise,this._result)}}else A(this.promise,J())}a.prototype._enumerate=function(a){for(var b=0;this._state===ca&&b<a.length;b++)this._eachEntry(a[b],b)};a.prototype._eachEntry=function(a,b){var c=this._instanceConstructor,d=c.resolve;if(d===o){var e=s(a);if(e===n&&a._state!==ca)this._settledAt(a._state,b,a._result);else if("function"!=typeof e){this._remaining--;this._result[b]=a}else if(c===ja){var f=new c(p);w(f,a,e);this._willSettleAt(f,b)}else this._willSettleAt(new c(function(b){return b(a)}),b)}else this._willSettleAt(d(a),b)};a.prototype._settledAt=function(a,b,c){var d=this.promise;if(d._state===ca){this._remaining--;a===ea?A(d,c):this._result[b]=c}0===this._remaining&&z(d,this._result)};a.prototype._willSettleAt=function(a,b){var c=this;B(a,void 0,function(a){return c._settledAt(da,b,a)},function(a){return c._settledAt(ea,b,a)})};return a}(),ja=function(){function a(b){this[ba]=H();this._result=this._state=void 0;this._subscribers=[];if(p!==b){"function"!=typeof b&&N();this instanceof a?G(this,b):O()}}a.prototype["catch"]=function(a){return this.then(null,a)};a.prototype["finally"]=function(a){var b=this,c=b.constructor;return b.then(function(b){return c.resolve(a()).then(function(){return b})},function(b){return c.resolve(a()).then(function(){throw b})})};return a}();ja.prototype.then=n;ja.all=K;ja.race=L;ja.resolve=o;ja.reject=M;ja._setScheduler=e;ja._setAsap=f;ja._asap=V;ja.polyfill=P;ja.Promise=ja;ja.polyfill();return ja})}).call(this,c(2))},function(a,b){var c;c=function(){return this}();try{c=c||new Function("return this")()}catch(d){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";c.r(b);c.d(b,"VERSION",function(){return o});var d=c(4);c.d(b,"AbortError",function(){return d.AbortError});c.d(b,"HttpError",function(){return d.HttpError});c.d(b,"TimeoutError",function(){return d.TimeoutError});var e=c(5);c.d(b,"HttpClient",function(){return e.HttpClient});c.d(b,"HttpResponse",function(){return e.HttpResponse});var f=c(6);c.d(b,"DefaultHttpClient",function(){return f.DefaultHttpClient});var g=c(10);c.d(b,"HubConnection",function(){return g.HubConnection});c.d(b,"HubConnectionState",function(){return g.HubConnectionState});var h=c(17);c.d(b,"HubConnectionBuilder",function(){return h.HubConnectionBuilder});var i=c(15);c.d(b,"MessageType",function(){return i.MessageType});var j=c(9);c.d(b,"LogLevel",function(){return j.LogLevel});var k=c(20);c.d(b,"HttpTransportType",function(){return k.HttpTransportType});c.d(b,"TransferFormat",function(){return k.TransferFormat});var l=c(14);c.d(b,"NullLogger",function(){return l.NullLogger});var m=c(25);c.d(b,"JsonHubProtocol",function(){return m.JsonHubProtocol});var n=c(16);c.d(b,"Subject",function(){return n.Subject});var o="3.1.2"},function(a,b,c){"use strict";c.r(b);c.d(b,"HttpError",function(){return e});c.d(b,"TimeoutError",function(){return f});c.d(b,"AbortError",function(){return g});var d=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),e=function(a){function b(b,c){var d=this.constructor,e=this,f=d.prototype;e=a.call(this,b)||this;e.statusCode=c;e.__proto__=f;return e}d(b,a);return b}(Error),f=function(a){function b(b){var c=this.constructor;void 0===b&&(b="A timeout occurred.");var d=this,e=c.prototype;d=a.call(this,b)||this;d.__proto__=e;return d}d(b,a);return b}(Error),g=function(a){function b(b){var c=this.constructor;void 0===b&&(b="An abort occurred.");var d=this,e=c.prototype;d=a.call(this,b)||this;d.__proto__=e;return d}d(b,a);return b}(Error)},function(a,b,c){"use strict";c.r(b);c.d(b,"HttpResponse",function(){return e});c.d(b,"HttpClient",function(){return f});var d=Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},e=function(){function a(a,b,c){this.statusCode=a;this.statusText=b;this.content=c}return a}(),f=function(){function a(){}a.prototype.get=function(a,b){return this.send(d({},b,{method:"GET",url:a}))};a.prototype.post=function(a,b){return this.send(d({},b,{method:"POST",url:a}))};a.prototype["delete"]=function(a,b){return this.send(d({},b,{method:"DELETE",url:a}))};a.prototype.getCookieString=function(a){return""};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"DefaultHttpClient",function(){return i});var d=c(4),e=c(5),f=c(7),g=c(8),h=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),i=function(a){function b(b){var c=a.call(this)||this;"undefined"!=typeof XMLHttpRequest?c.httpClient=new g.XhrHttpClient(b):c.httpClient=new f.NodeHttpClient(b);return c}h(b,a);b.prototype.send=function(a){return a.abortSignal&&a.abortSignal.aborted?Promise.reject(new d.AbortError):a.method?a.url?this.httpClient.send(a):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))};b.prototype.getCookieString=function(a){return this.httpClient.getCookieString(a)};return b}(e.HttpClient)},function(a,b,c){"use strict";c.r(b);c.d(b,"NodeHttpClient",function(){return f});var d=c(5),e=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),f=function(a){function b(b){return a.call(this)||this}e(b,a);b.prototype.send=function(){return Promise.reject(new Error("If using Node either provide an XmlHttpRequest polyfill or consume the cjs or esm script instead of the browser/signalr.js one."))};return b}(d.HttpClient)},function(a,b,c){"use strict";c.r(b);c.d(b,"XhrHttpClient",function(){return h});var d=c(4),e=c(5),f=c(9),g=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),h=function(a){function b(b){var c=a.call(this)||this;c.logger=b;return c}g(b,a);b.prototype.send=function(a){var b=this;return a.abortSignal&&a.abortSignal.aborted?Promise.reject(new d.AbortError):a.method?a.url?new Promise(function(c,g){var h=new XMLHttpRequest;h.open(a.method,a.url,!0);h.withCredentials=!0;h.setRequestHeader("X-Requested-With","XMLHttpRequest");h.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var i=a.headers;i&&Object.keys(i).forEach(function(a){h.setRequestHeader(a,i[a])});a.responseType&&(h.responseType=a.responseType);a.abortSignal&&(a.abortSignal.onabort=function(){h.abort();g(new d.AbortError)});a.timeout&&(h.timeout=a.timeout);h.onload=function(){a.abortSignal&&(a.abortSignal.onabort=null);h.status>=200&&h.status<300?c(new e.HttpResponse(h.status,h.statusText,h.response||h.responseText)):g(new d.HttpError(h.statusText,h.status))};h.onerror=function(){b.logger.log(f.LogLevel.Warning,"Error from HTTP request. "+h.status+": "+h.statusText+".");g(new d.HttpError(h.statusText,h.status))};h.ontimeout=function(){b.logger.log(f.LogLevel.Warning,"Timeout from HTTP request.");g(new d.TimeoutError)};h.send(a.content||"")}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))};return b}(e.HttpClient)},function(a,b,c){"use strict";c.r(b);c.d(b,"LogLevel",function(){return d});var d;!function(a){a[a.Trace=0]="Trace";a[a.Debug=1]="Debug";a[a.Information=2]="Information";a[a.Warning=3]="Warning";a[a.Error=4]="Error";a[a.Critical=5]="Critical";a[a.None=6]="None"}(d||(d={}))},function(a,b,c){"use strict";c.r(b);c.d(b,"HubConnectionState",function(){return d});c.d(b,"HubConnection",function(){return n});var d,e=c(11),f=c(15),g=c(9),h=c(16),i=c(13),j=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},k=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},l=3e4,m=15e3;!function(a){a.Disconnected="Disconnected";a.Connecting="Connecting";a.Connected="Connected";a.Disconnecting="Disconnecting";a.Reconnecting="Reconnecting"}(d||(d={}));var n=function(){function a(a,b,c,g){var h=this;i.Arg.isRequired(a,"connection");i.Arg.isRequired(b,"logger");i.Arg.isRequired(c,"protocol");this.serverTimeoutInMilliseconds=l;this.keepAliveIntervalInMilliseconds=m;this.logger=b;this.protocol=c;this.connection=a;this.reconnectPolicy=g;this.handshakeProtocol=new e.HandshakeProtocol;this.connection.onreceive=function(a){return h.processIncomingData(a)};this.connection.onclose=function(a){return h.connectionClosed(a)};this.callbacks={};this.methods={};this.closedCallbacks=[];this.reconnectingCallbacks=[];this.reconnectedCallbacks=[];this.invocationId=0;this.receivedHandshakeResponse=!1;this.connectionState=d.Disconnected;this.connectionStarted=!1;this.cachedPingMessage=this.protocol.writeMessage({type:f.MessageType.Ping})}a.create=function(b,c,d,e){return new a(b,c,d,e)};Object.defineProperty(a.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"connectionId",{get:function(){return this.connection?this.connection.connectionId||null:null},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(a){if(this.connectionState!==d.Disconnected&&this.connectionState!==d.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!a)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=a},enumerable:!0,configurable:!0});a.prototype.start=function(){this.startPromise=this.startWithStateTransitions();return this.startPromise};a.prototype.startWithStateTransitions=function(){return j(this,void 0,void 0,function(){var a;return k(this,function(b){switch(b.label){case 0:if(this.connectionState!==d.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=d.Connecting;this.logger.log(g.LogLevel.Debug,"Starting HubConnection.");b.label=1;case 1:b.trys.push([1,3,,4]);return[4,this.startInternal()];case 2:b.sent();this.connectionState=d.Connected;this.connectionStarted=!0;this.logger.log(g.LogLevel.Debug,"HubConnection connected successfully.");return[3,4];case 3:a=b.sent();this.connectionState=d.Disconnected;this.logger.log(g.LogLevel.Debug,"HubConnection failed to start successfully because of error '"+a+"'.");return[2,Promise.reject(a)];case 4:return[2]}})})};a.prototype.startInternal=function(){return j(this,void 0,void 0,function(){var a,b,c,d=this;return k(this,function(e){switch(e.label){case 0:this.stopDuringStartError=void 0;this.receivedHandshakeResponse=!1;a=new Promise(function(a,b){d.handshakeResolver=a;d.handshakeRejecter=b});return[4,this.connection.start(this.protocol.transferFormat)];case 1:e.sent();e.label=2;case 2:e.trys.push([2,5,,7]);b={protocol:this.protocol.name,version:this.protocol.version};this.logger.log(g.LogLevel.Debug,"Sending handshake request.");return[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(b))];case 3:e.sent();this.logger.log(g.LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'.");this.cleanupTimeout();this.resetTimeoutPeriod();this.resetKeepAliveInterval();return[4,a];case 4:e.sent();if(this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:c=e.sent();this.logger.log(g.LogLevel.Debug,"Hub handshake failed with error '"+c+"' during start(). Stopping HubConnection.");this.cleanupTimeout();this.cleanupPingTimer();return[4,this.connection.stop(c)];case 6:e.sent();throw c;case 7:return[2]}})})};a.prototype.stop=function(){return j(this,void 0,void 0,function(){var a,b;return k(this,function(c){switch(c.label){case 0:a=this.startPromise;this.stopPromise=this.stopInternal();return[4,this.stopPromise];case 1:c.sent();c.label=2;case 2:c.trys.push([2,4,,5]);return[4,a];case 3:c.sent();return[3,5];case 4:b=c.sent();return[3,5];case 5:return[2]}})})};a.prototype.stopInternal=function(a){if(this.connectionState===d.Disconnected){this.logger.log(g.LogLevel.Debug,"Call to HubConnection.stop("+a+") ignored because it is already in the disconnected state.");return Promise.resolve()}if(this.connectionState===d.Disconnecting){this.logger.log(g.LogLevel.Debug,"Call to HttpConnection.stop("+a+") ignored because the connection is already in the disconnecting state.");return this.stopPromise}this.connectionState=d.Disconnecting;this.logger.log(g.LogLevel.Debug,"Stopping HubConnection.");if(this.reconnectDelayHandle){this.logger.log(g.LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting.");clearTimeout(this.reconnectDelayHandle);this.reconnectDelayHandle=void 0;this.completeClose();return Promise.resolve()}this.cleanupTimeout();this.cleanupPingTimer();this.stopDuringStartError=a||new Error("The connection was stopped before the hub handshake could complete.");return this.connection.stop(a)};a.prototype.stream=function(a){for(var b=this,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e,g=this.replaceStreamingParams(c),i=g[0],j=g[1],k=this.createStreamInvocation(a,c,j),l=new h.Subject;l.cancelCallback=function(){var a=b.createCancelInvocation(k.invocationId);delete b.callbacks[k.invocationId];return e.then(function(){return b.sendWithProtocol(a)})};this.callbacks[k.invocationId]=function(a,b){b?l.error(b):a&&(a.type===f.MessageType.Completion?a.error?l.error(new Error(a.error)):l.complete():l.next(a.item))};e=this.sendWithProtocol(k)["catch"](function(a){l.error(a);delete b.callbacks[k.invocationId]});this.launchStreams(i,e);return l};a.prototype.sendMessage=function(a){this.resetKeepAliveInterval();return this.connection.send(a)};a.prototype.sendWithProtocol=function(a){return this.sendMessage(this.protocol.writeMessage(a))};a.prototype.send=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.replaceStreamingParams(b),e=d[0],f=d[1],g=this.sendWithProtocol(this.createInvocation(a,b,!0,f));this.launchStreams(e,g);return g};a.prototype.invoke=function(a){for(var b=this,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e=this.replaceStreamingParams(c),g=e[0],h=e[1],i=this.createInvocation(a,c,!1,h),j=new Promise(function(a,c){b.callbacks[i.invocationId]=function(b,d){d?c(d):b&&(b.type===f.MessageType.Completion?b.error?c(new Error(b.error)):a(b.result):c(new Error("Unexpected message type: "+b.type)))};var d=b.sendWithProtocol(i)["catch"](function(a){c(a);delete b.callbacks[i.invocationId]});b.launchStreams(g,d)});return j};a.prototype.on=function(a,b){if(a&&b){a=a.toLowerCase();this.methods[a]||(this.methods[a]=[]);-1===this.methods[a].indexOf(b)&&this.methods[a].push(b)}};a.prototype.off=function(a,b){if(a){a=a.toLowerCase();var c=this.methods[a];if(c)if(b){var d=c.indexOf(b);if(-1!==d){c.splice(d,1);0===c.length&&delete this.methods[a]}}else delete this.methods[a]}};a.prototype.onclose=function(a){a&&this.closedCallbacks.push(a)};a.prototype.onreconnecting=function(a){a&&this.reconnectingCallbacks.push(a)};a.prototype.onreconnected=function(a){a&&this.reconnectedCallbacks.push(a)};a.prototype.processIncomingData=function(a){this.cleanupTimeout();if(!this.receivedHandshakeResponse){a=this.processHandshakeResponse(a);this.receivedHandshakeResponse=!0}if(a)for(var b=this.protocol.parseMessages(a,this.logger),c=0,d=b;c<d.length;c++){var e=d[c];switch(e.type){case f.MessageType.Invocation:this.invokeClientMethod(e);break;case f.MessageType.StreamItem:case f.MessageType.Completion:var h=this.callbacks[e.invocationId];if(h){e.type===f.MessageType.Completion&&delete this.callbacks[e.invocationId];h(e)}break;case f.MessageType.Ping:break;case f.MessageType.Close:this.logger.log(g.LogLevel.Information,"Close message received from server.");var i=e.error?new Error("Server returned an error on close: "+e.error):void 0;e.allowReconnect===!0?this.connection.stop(i):this.stopPromise=this.stopInternal(i);break;default:this.logger.log(g.LogLevel.Warning,"Invalid message type: "+e.type+".")}}this.resetTimeoutPeriod()};a.prototype.processHandshakeResponse=function(a){var b,c,d;try{b=this.handshakeProtocol.parseHandshakeResponse(a),d=b[0],c=b[1]}catch(e){var f="Error parsing handshake response: "+e;this.logger.log(g.LogLevel.Error,f);var h=new Error(f);this.handshakeRejecter(h);throw h}if(c.error){var f="Server returned handshake error: "+c.error;this.logger.log(g.LogLevel.Error,f);var h=new Error(f);this.handshakeRejecter(h);throw h}this.logger.log(g.LogLevel.Debug,"Server handshake complete.");this.handshakeResolver();return d};a.prototype.resetKeepAliveInterval=function(){var a=this;this.cleanupPingTimer();this.pingServerHandle=setTimeout(function(){return j(a,void 0,void 0,function(){var a;return k(this,function(b){switch(b.label){case 0:if(this.connectionState!==d.Connected)return[3,4];b.label=1;case 1:b.trys.push([1,3,,4]);return[4,this.sendMessage(this.cachedPingMessage)];case 2:b.sent();return[3,4];case 3:a=b.sent();this.cleanupPingTimer();return[3,4];case 4:return[2]}})})},this.keepAliveIntervalInMilliseconds)};a.prototype.resetTimeoutPeriod=function(){var a=this;this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout(function(){return a.serverTimeout()},this.serverTimeoutInMilliseconds))};a.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))};a.prototype.invokeClientMethod=function(a){var b=this,c=this.methods[a.target.toLowerCase()];if(c){try{c.forEach(function(c){return c.apply(b,a.arguments)})}catch(d){this.logger.log(g.LogLevel.Error,"A callback for the method "+a.target.toLowerCase()+" threw error '"+d+"'.")}if(a.invocationId){var e="Server requested a response, which is not supported in this version of the client.";this.logger.log(g.LogLevel.Error,e);this.stopPromise=this.stopInternal(new Error(e))}}else this.logger.log(g.LogLevel.Warning,"No client method with the name '"+a.target+"' found.")};a.prototype.connectionClosed=function(a){this.logger.log(g.LogLevel.Debug,"HubConnection.connectionClosed("+a+") called while in state "+this.connectionState+".");this.stopDuringStartError=this.stopDuringStartError||a||new Error("The underlying connection was closed before the hub handshake could complete.");this.handshakeResolver&&this.handshakeResolver();this.cancelCallbacksWithError(a||new Error("Invocation canceled due to the underlying connection being closed."));this.cleanupTimeout();this.cleanupPingTimer();this.connectionState===d.Disconnecting?this.completeClose(a):this.connectionState===d.Connected&&this.reconnectPolicy?this.reconnect(a):this.connectionState===d.Connected&&this.completeClose(a)};a.prototype.completeClose=function(a){var b=this;if(this.connectionStarted){this.connectionState=d.Disconnected;this.connectionStarted=!1;try{this.closedCallbacks.forEach(function(c){return c.apply(b,[a])})}catch(c){this.logger.log(g.LogLevel.Error,"An onclose callback called with error '"+a+"' threw error '"+c+"'.")}}};a.prototype.reconnect=function(a){return j(this,void 0,void 0,function(){var b,c,e,f,h,i=this;return k(this,function(j){switch(j.label){case 0:b=Date.now();c=0;e=void 0!==a?a:new Error("Attempting to reconnect due to a unknown error.");f=this.getNextRetryDelay(c++,0,e);if(null===f){this.logger.log(g.LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt.");this.completeClose(a);return[2]}this.connectionState=d.Reconnecting;a?this.logger.log(g.LogLevel.Information,"Connection reconnecting because of error '"+a+"'."):this.logger.log(g.LogLevel.Information,"Connection reconnecting.");if(this.onreconnecting){try{this.reconnectingCallbacks.forEach(function(b){return b.apply(i,[a])})}catch(k){this.logger.log(g.LogLevel.Error,"An onreconnecting callback called with error '"+a+"' threw error '"+k+"'.")}if(this.connectionState!==d.Reconnecting){this.logger.log(g.LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return[2]}}j.label=1;case 1:if(null===f)return[3,7];this.logger.log(g.LogLevel.Information,"Reconnect attempt number "+c+" will start in "+f+" ms.");return[4,new Promise(function(a){i.reconnectDelayHandle=setTimeout(a,f)})];case 2:j.sent();this.reconnectDelayHandle=void 0;if(this.connectionState!==d.Reconnecting){this.logger.log(g.LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return[2]}j.label=3;case 3:j.trys.push([3,5,,6]);return[4,this.startInternal()];case 4:j.sent();this.connectionState=d.Connected;this.logger.log(g.LogLevel.Information,"HubConnection reconnected successfully.");if(this.onreconnected)try{this.reconnectedCallbacks.forEach(function(a){return a.apply(i,[i.connection.connectionId])})}catch(k){this.logger.log(g.LogLevel.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+k+"'.")}return[2];case 5:h=j.sent();this.logger.log(g.LogLevel.Information,"Reconnect attempt failed because of error '"+h+"'.");if(this.connectionState!==d.Reconnecting){this.logger.log(g.LogLevel.Debug,"Connection left the reconnecting state during reconnect attempt. Done reconnecting.");
return[2]}e=h instanceof Error?h:new Error(h.toString());f=this.getNextRetryDelay(c++,Date.now()-b,e);return[3,6];case 6:return[3,1];case 7:this.logger.log(g.LogLevel.Information,"Reconnect retries have been exhausted after "+(Date.now()-b)+" ms and "+c+" failed attempts. Connection disconnecting.");this.completeClose();return[2]}})})};a.prototype.getNextRetryDelay=function(a,b,c){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:b,previousRetryCount:a,retryReason:c})}catch(d){this.logger.log(g.LogLevel.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+a+", "+b+") threw error '"+d+"'.");return null}};a.prototype.cancelCallbacksWithError=function(a){var b=this.callbacks;this.callbacks={};Object.keys(b).forEach(function(c){var d=b[c];d(null,a)})};a.prototype.cleanupPingTimer=function(){this.pingServerHandle&&clearTimeout(this.pingServerHandle)};a.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)};a.prototype.createInvocation=function(a,b,c,d){if(c)return{arguments:b,streamIds:d,target:a,type:f.MessageType.Invocation};var e=this.invocationId;this.invocationId++;return{arguments:b,invocationId:e.toString(),streamIds:d,target:a,type:f.MessageType.Invocation}};a.prototype.launchStreams=function(a,b){var c=this;if(0!==a.length){b||(b=Promise.resolve());var d=function(d){a[d].subscribe({complete:function(){b=b.then(function(){return c.sendWithProtocol(c.createCompletionMessage(d))})},error:function(a){var e;e=a instanceof Error?a.message:a&&a.toString?a.toString():"Unknown error";b=b.then(function(){return c.sendWithProtocol(c.createCompletionMessage(d,e))})},next:function(a){b=b.then(function(){return c.sendWithProtocol(c.createStreamItemMessage(d,a))})}})};for(var e in a)d(e)}};a.prototype.replaceStreamingParams=function(a){for(var b=[],c=[],d=0;d<a.length;d++){var e=a[d];if(this.isObservable(e)){var f=this.invocationId;this.invocationId++;b[f]=e;c.push(f.toString());a.splice(d,1)}}return[b,c]};a.prototype.isObservable=function(a){return a&&a.subscribe&&"function"==typeof a.subscribe};a.prototype.createStreamInvocation=function(a,b,c){var d=this.invocationId;this.invocationId++;return{arguments:b,invocationId:d.toString(),streamIds:c,target:a,type:f.MessageType.StreamInvocation}};a.prototype.createCancelInvocation=function(a){return{invocationId:a,type:f.MessageType.CancelInvocation}};a.prototype.createStreamItemMessage=function(a,b){return{invocationId:a,item:b,type:f.MessageType.StreamItem}};a.prototype.createCompletionMessage=function(a,b,c){return b?{error:b,invocationId:a,type:f.MessageType.Completion}:{invocationId:a,result:c,type:f.MessageType.Completion}};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"HandshakeProtocol",function(){return f});var d=c(12),e=c(13),f=function(){function a(){}a.prototype.writeHandshakeRequest=function(a){return d.TextMessageFormat.write(JSON.stringify(a))};a.prototype.parseHandshakeResponse=function(a){var b,c,f;if(Object(e.isArrayBuffer)(a)||"undefined"!=typeof Buffer&&a instanceof Buffer){var g=new Uint8Array(a),h=g.indexOf(d.TextMessageFormat.RecordSeparatorCode);if(-1===h)throw new Error("Message is incomplete.");var i=h+1;c=String.fromCharCode.apply(null,g.slice(0,i));f=g.byteLength>i?g.slice(i).buffer:null}else{var j=a,h=j.indexOf(d.TextMessageFormat.RecordSeparator);if(-1===h)throw new Error("Message is incomplete.");var i=h+1;c=j.substring(0,i);f=j.length>i?j.substring(i):null}var k=d.TextMessageFormat.parse(c),l=JSON.parse(k[0]);if(l.type)throw new Error("Expected a handshake response from the server.");b=l;return[f,b]};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"TextMessageFormat",function(){return d});var d=function(){function a(){}a.write=function(b){return""+b+a.RecordSeparator};a.parse=function(b){if(b[b.length-1]!==a.RecordSeparator)throw new Error("Message is incomplete.");var c=b.split(a.RecordSeparator);c.pop();return c};a.RecordSeparatorCode=30;a.RecordSeparator=String.fromCharCode(a.RecordSeparatorCode);return a}()},function(a,b,c){"use strict";function d(a,b){var c="";if(f(a)){c="Binary data of length "+a.byteLength;b&&(c+=". Content: '"+e(a)+"'")}else if("string"==typeof a){c="String data of length "+a.length;b&&(c+=". Content: '"+a+"'")}return c}function e(a){var b=new Uint8Array(a),c="";b.forEach(function(a){var b=16>a?"0":"";c+="0x"+b+a.toString(16)+" "});return c.substr(0,c.length-1)}function f(a){return a&&"undefined"!=typeof ArrayBuffer&&(a instanceof ArrayBuffer||a.constructor&&"ArrayBuffer"===a.constructor.name)}function g(a,b,c,e,g,h,j){return k(this,void 0,void 0,function(){var k,m,n,o,p;return l(this,function(l){switch(l.label){case 0:return g?[4,g()]:[3,2];case 1:n=l.sent();n&&(m=(k={},k.Authorization="Bearer "+n,k));l.label=2;case 2:a.log(i.LogLevel.Trace,"("+b+" transport) sending data. "+d(h,j)+".");o=f(h)?"arraybuffer":"text";return[4,c.post(e,{content:h,headers:m,responseType:o})];case 3:p=l.sent();a.log(i.LogLevel.Trace,"("+b+" transport) request complete. Response status: "+p.statusCode+".");return[2]}})})}function h(a){return void 0===a?new p(i.LogLevel.Information):null===a?j.NullLogger.instance:a.log?a:new p(a)}c.r(b);c.d(b,"Arg",function(){return m});c.d(b,"Platform",function(){return n});c.d(b,"getDataDetail",function(){return d});c.d(b,"formatArrayBuffer",function(){return e});c.d(b,"isArrayBuffer",function(){return f});c.d(b,"sendMessage",function(){return g});c.d(b,"createLogger",function(){return h});c.d(b,"SubjectSubscription",function(){return o});c.d(b,"ConsoleLogger",function(){return p});var i=c(9),j=c(14),k=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},l=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},m=function(){function a(){}a.isRequired=function(a,b){if(null===a||void 0===a)throw new Error("The '"+b+"' argument is required.")};a.isIn=function(a,b,c){if(!(a in b))throw new Error("Unknown "+c+" value: "+a+".")};return a}(),n=function(){function a(){}Object.defineProperty(a,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0});Object.defineProperty(a,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0});Object.defineProperty(a,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0});return a}(),o=function(){function a(a,b){this.subject=a;this.observer=b}a.prototype.dispose=function(){var a=this.subject.observers.indexOf(this.observer);a>-1&&this.subject.observers.splice(a,1);0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback()["catch"](function(a){})};return a}(),p=function(){function a(a){this.minimumLogLevel=a;this.outputConsole=console}a.prototype.log=function(a,b){if(a>=this.minimumLogLevel)switch(a){case i.LogLevel.Critical:case i.LogLevel.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+i.LogLevel[a]+": "+b);break;case i.LogLevel.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+i.LogLevel[a]+": "+b);break;case i.LogLevel.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+i.LogLevel[a]+": "+b);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+i.LogLevel[a]+": "+b)}};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"NullLogger",function(){return d});var d=function(){function a(){}a.prototype.log=function(a,b){};a.instance=new a;return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"MessageType",function(){return d});var d;!function(a){a[a.Invocation=1]="Invocation";a[a.StreamItem=2]="StreamItem";a[a.Completion=3]="Completion";a[a.StreamInvocation=4]="StreamInvocation";a[a.CancelInvocation=5]="CancelInvocation";a[a.Ping=6]="Ping";a[a.Close=7]="Close"}(d||(d={}))},function(a,b,c){"use strict";c.r(b);c.d(b,"Subject",function(){return e});var d=c(13),e=function(){function a(){this.observers=[]}a.prototype.next=function(a){for(var b=0,c=this.observers;b<c.length;b++){var d=c[b];d.next(a)}};a.prototype.error=function(a){for(var b=0,c=this.observers;b<c.length;b++){var d=c[b];d.error&&d.error(a)}};a.prototype.complete=function(){for(var a=0,b=this.observers;a<b.length;a++){var c=b[a];c.complete&&c.complete()}};a.prototype.subscribe=function(a){this.observers.push(a);return new d.SubjectSubscription(this,a)};return a}()},function(a,b,c){"use strict";function d(a){var b=n[a.toLowerCase()];if("undefined"!=typeof b)return b;throw new Error("Unknown log level: "+a)}function e(a){return void 0!==a.log}c.r(b);c.d(b,"HubConnectionBuilder",function(){return o});var f=c(18),g=c(19),h=c(10),i=c(9),j=c(25),k=c(14),l=c(13),m=Object.assign||function(a){for(var b,c=1,d=arguments.length;d>c;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a},n={trace:i.LogLevel.Trace,debug:i.LogLevel.Debug,info:i.LogLevel.Information,information:i.LogLevel.Information,warn:i.LogLevel.Warning,warning:i.LogLevel.Warning,error:i.LogLevel.Error,critical:i.LogLevel.Critical,none:i.LogLevel.None},o=function(){function a(){}a.prototype.configureLogging=function(a){l.Arg.isRequired(a,"logging");if(e(a))this.logger=a;else if("string"==typeof a){var b=d(a);this.logger=new l.ConsoleLogger(b)}else this.logger=new l.ConsoleLogger(a);return this};a.prototype.withUrl=function(a,b){l.Arg.isRequired(a,"url");this.url=a;"object"==typeof b?this.httpConnectionOptions=m({},this.httpConnectionOptions,b):this.httpConnectionOptions=m({},this.httpConnectionOptions,{transport:b});return this};a.prototype.withHubProtocol=function(a){l.Arg.isRequired(a,"protocol");this.protocol=a;return this};a.prototype.withAutomaticReconnect=function(a){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");a?Array.isArray(a)?this.reconnectPolicy=new f.DefaultReconnectPolicy(a):this.reconnectPolicy=a:this.reconnectPolicy=new f.DefaultReconnectPolicy;return this};a.prototype.build=function(){var a=this.httpConnectionOptions||{};void 0===a.logger&&(a.logger=this.logger);if(!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var b=new g.HttpConnection(this.url,a);return h.HubConnection.create(b,this.logger||k.NullLogger.instance,this.protocol||new j.JsonHubProtocol,this.reconnectPolicy)};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"DefaultReconnectPolicy",function(){return e});var d=[0,2e3,1e4,3e4,null],e=function(){function a(a){this.retryDelays=void 0!==a?a.concat([null]):d}a.prototype.nextRetryDelayInMilliseconds=function(a){return this.retryDelays[a.previousRetryCount]};return a}()},function(a,b,c){"use strict";function d(a,b){return!a||0!==(b&a)}c.r(b);c.d(b,"HttpConnection",function(){return r});c.d(b,"TransportSendQueue",function(){return s});var e=c(6),f=c(9),g=c(20),h=c(21),i=c(23),j=c(13),k=c(24),l=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},m=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},n=100,o=null,p=null;if(j.Platform.isNode){var q=require;o=q("ws");p=q("eventsource")}var r=function(){function a(a,b){void 0===b&&(b={});this.features={};this.negotiateVersion=1;j.Arg.isRequired(a,"url");this.logger=Object(j.createLogger)(b.logger);this.baseUrl=this.resolveUrl(a);b=b||{};b.logMessageContent=b.logMessageContent||!1;j.Platform.isNode||"undefined"==typeof WebSocket||b.WebSocket?j.Platform.isNode&&!b.WebSocket&&o&&(b.WebSocket=o):b.WebSocket=WebSocket;j.Platform.isNode||"undefined"==typeof EventSource||b.EventSource?j.Platform.isNode&&!b.EventSource&&"undefined"!=typeof p&&(b.EventSource=p):b.EventSource=EventSource;this.httpClient=b.httpClient||new e.DefaultHttpClient(this.logger);this.connectionState="Disconnected";this.connectionStarted=!1;this.options=b;this.onreceive=null;this.onclose=null}a.prototype.start=function(a){return l(this,void 0,void 0,function(){var b,b;return m(this,function(c){switch(c.label){case 0:a=a||g.TransferFormat.Binary;j.Arg.isIn(a,g.TransferFormat,"transferFormat");this.logger.log(f.LogLevel.Debug,"Starting connection with transfer format '"+g.TransferFormat[a]+"'.");if("Disconnected"!==this.connectionState)return[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))];this.connectionState="Connecting ";this.startInternalPromise=this.startInternal(a);return[4,this.startInternalPromise];case 1:c.sent();if("Disconnecting"!==this.connectionState)return[3,3];b="Failed to start the HttpConnection before stop() was called.";this.logger.log(f.LogLevel.Error,b);return[4,this.stopPromise];case 2:c.sent();return[2,Promise.reject(new Error(b))];case 3:if("Connected"!==this.connectionState){b="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";this.logger.log(f.LogLevel.Error,b);return[2,Promise.reject(new Error(b))]}c.label=4;case 4:this.connectionStarted=!0;return[2]}})})};a.prototype.send=function(a){if("Connected"!==this.connectionState)return Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State."));this.sendQueue||(this.sendQueue=new s(this.transport));return this.sendQueue.send(a)};a.prototype.stop=function(a){return l(this,void 0,void 0,function(){var b=this;return m(this,function(c){switch(c.label){case 0:if("Disconnected"===this.connectionState){this.logger.log(f.LogLevel.Debug,"Call to HttpConnection.stop("+a+") ignored because the connection is already in the disconnected state.");return[2,Promise.resolve()]}if("Disconnecting"===this.connectionState){this.logger.log(f.LogLevel.Debug,"Call to HttpConnection.stop("+a+") ignored because the connection is already in the disconnecting state.");return[2,this.stopPromise]}this.connectionState="Disconnecting";this.stopPromise=new Promise(function(a){b.stopPromiseResolver=a});return[4,this.stopInternal(a)];case 1:c.sent();return[4,this.stopPromise];case 2:c.sent();return[2]}})})};a.prototype.stopInternal=function(a){return l(this,void 0,void 0,function(){var b,c,d;return m(this,function(e){switch(e.label){case 0:this.stopError=a;e.label=1;case 1:e.trys.push([1,3,,4]);return[4,this.startInternalPromise];case 2:e.sent();return[3,4];case 3:b=e.sent();return[3,4];case 4:if(!this.sendQueue)return[3,9];e.label=5;case 5:e.trys.push([5,7,,8]);return[4,this.sendQueue.stop()];case 6:e.sent();return[3,8];case 7:c=e.sent();this.logger.log(f.LogLevel.Error,"TransportSendQueue.stop() threw error '"+c+"'.");return[3,8];case 8:this.sendQueue=void 0;e.label=9;case 9:if(!this.transport)return[3,14];e.label=10;case 10:e.trys.push([10,12,,13]);return[4,this.transport.stop()];case 11:e.sent();return[3,13];case 12:d=e.sent();this.logger.log(f.LogLevel.Error,"HttpConnection.transport.stop() threw error '"+d+"'.");this.stopConnection();return[3,13];case 13:this.transport=void 0;return[3,15];case 14:this.logger.log(f.LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.");this.stopConnection();e.label=15;case 15:return[2]}})})};a.prototype.startInternal=function(a){return l(this,void 0,void 0,function(){var b,c,d,e,i,j;return m(this,function(k){switch(k.label){case 0:b=this.baseUrl;this.accessTokenFactory=this.options.accessTokenFactory;k.label=1;case 1:k.trys.push([1,12,,13]);if(!this.options.skipNegotiation)return[3,5];if(this.options.transport!==g.HttpTransportType.WebSockets)return[3,3];this.transport=this.constructTransport(g.HttpTransportType.WebSockets);return[4,this.startTransport(b,a)];case 2:k.sent();return[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:c=null;d=0;e=function(){var a;return m(this,function(e){switch(e.label){case 0:return[4,i.getNegotiationResponse(b)];case 1:c=e.sent();if("Disconnecting"===i.connectionState||"Disconnected"===i.connectionState)throw new Error("The connection was stopped during negotiation.");if(c.error)throw new Error(c.error);if(c.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");c.url&&(b=c.url);if(c.accessToken){a=c.accessToken;i.accessTokenFactory=function(){return a}}d++;return[2]}})};i=this;k.label=6;case 6:return[5,e()];case 7:k.sent();k.label=8;case 8:if(c.url&&n>d)return[3,6];k.label=9;case 9:if(d===n&&c.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(b,this.options.transport,c,a)];case 10:k.sent();k.label=11;case 11:this.transport instanceof h.LongPollingTransport&&(this.features.inherentKeepAlive=!0);if("Connecting "===this.connectionState){this.logger.log(f.LogLevel.Debug,"The HttpConnection connected successfully.");this.connectionState="Connected"}return[3,13];case 12:j=k.sent();this.logger.log(f.LogLevel.Error,"Failed to start the connection: "+j);this.connectionState="Disconnected";this.transport=void 0;return[2,Promise.reject(j)];case 13:return[2]}})})};a.prototype.getNegotiationResponse=function(a){return l(this,void 0,void 0,function(){var b,c,d,e,g,h,i;return m(this,function(j){switch(j.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:d=j.sent();d&&(c=(b={},b.Authorization="Bearer "+d,b));j.label=2;case 2:e=this.resolveNegotiateUrl(a);this.logger.log(f.LogLevel.Debug,"Sending negotiation request: "+e+".");j.label=3;case 3:j.trys.push([3,5,,6]);return[4,this.httpClient.post(e,{content:"",headers:c})];case 4:g=j.sent();if(200!==g.statusCode)return[2,Promise.reject(new Error("Unexpected status code returned from negotiate "+g.statusCode))];h=JSON.parse(g.content);(!h.negotiateVersion||h.negotiateVersion<1)&&(h.connectionToken=h.connectionId);return[2,h];case 5:i=j.sent();this.logger.log(f.LogLevel.Error,"Failed to complete negotiation with the server: "+i);return[2,Promise.reject(i)];case 6:return[2]}})})};a.prototype.createConnectUrl=function(a,b){return b?a+(-1===a.indexOf("?")?"?":"&")+("id="+b):a};a.prototype.createTransport=function(a,b,c,d){return l(this,void 0,void 0,function(){var e,g,h,i,j,k,l,n,o,p,q;return m(this,function(m){switch(m.label){case 0:e=this.createConnectUrl(a,c.connectionToken);if(!this.isITransport(b))return[3,2];this.logger.log(f.LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly.");this.transport=b;return[4,this.startTransport(e,d)];case 1:m.sent();this.connectionId=c.connectionId;return[2];case 2:g=[];h=c.availableTransports||[];i=c;j=0,k=h;m.label=3;case 3:if(!(j<k.length))return[3,13];l=k[j];n=this.resolveTransportOrError(l,b,d);if(!(n instanceof Error))return[3,4];g.push(l.transport+" failed: "+n);return[3,12];case 4:if(!this.isITransport(n))return[3,12];this.transport=n;if(i)return[3,9];m.label=5;case 5:m.trys.push([5,7,,8]);return[4,this.getNegotiationResponse(a)];case 6:i=m.sent();return[3,8];case 7:o=m.sent();return[2,Promise.reject(o)];case 8:e=this.createConnectUrl(a,i.connectionToken);m.label=9;case 9:m.trys.push([9,11,,12]);return[4,this.startTransport(e,d)];case 10:m.sent();this.connectionId=i.connectionId;return[2];case 11:p=m.sent();this.logger.log(f.LogLevel.Error,"Failed to start the transport '"+l.transport+"': "+p);i=void 0;g.push(l.transport+" failed: "+p);if("Connecting "!==this.connectionState){q="Failed to select transport before stop() was called.";this.logger.log(f.LogLevel.Debug,q);return[2,Promise.reject(new Error(q))]}return[3,12];case 12:j++;return[3,3];case 13:return g.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+g.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}})})};a.prototype.constructTransport=function(a){switch(a){case g.HttpTransportType.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new k.WebSocketTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket);case g.HttpTransportType.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new i.ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource);case g.HttpTransportType.LongPolling:return new h.LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1);default:throw new Error("Unknown transport: "+a+".")}};a.prototype.startTransport=function(a,b){var c=this;this.transport.onreceive=this.onreceive;this.transport.onclose=function(a){return c.stopConnection(a)};return this.transport.connect(a,b)};a.prototype.resolveTransportOrError=function(a,b,c){var e=g.HttpTransportType[a.transport];if(null===e||void 0===e){this.logger.log(f.LogLevel.Debug,"Skipping transport '"+a.transport+"' because it is not supported by this client.");return new Error("Skipping transport '"+a.transport+"' because it is not supported by this client.")}if(!d(b,e)){this.logger.log(f.LogLevel.Debug,"Skipping transport '"+g.HttpTransportType[e]+"' because it was disabled by the client.");return new Error("'"+g.HttpTransportType[e]+"' is disabled by the client.")}var h=a.transferFormats.map(function(a){return g.TransferFormat[a]});if(!(h.indexOf(c)>=0)){this.logger.log(f.LogLevel.Debug,"Skipping transport '"+g.HttpTransportType[e]+"' because it does not support the requested transfer format '"+g.TransferFormat[c]+"'.");return new Error("'"+g.HttpTransportType[e]+"' does not support "+g.TransferFormat[c]+".")}if(e===g.HttpTransportType.WebSockets&&!this.options.WebSocket||e===g.HttpTransportType.ServerSentEvents&&!this.options.EventSource){this.logger.log(f.LogLevel.Debug,"Skipping transport '"+g.HttpTransportType[e]+"' because it is not supported in your environment.'");return new Error("'"+g.HttpTransportType[e]+"' is not supported in your environment.")}this.logger.log(f.LogLevel.Debug,"Selecting transport '"+g.HttpTransportType[e]+"'.");try{return this.constructTransport(e)}catch(i){return i}};a.prototype.isITransport=function(a){return a&&"object"==typeof a&&"connect"in a};a.prototype.stopConnection=function(a){this.logger.log(f.LogLevel.Debug,"HttpConnection.stopConnection("+a+") called while in state "+this.connectionState+".");this.transport=void 0;a=this.stopError||a;this.stopError=void 0;if("Disconnected"!==this.connectionState)if("Connecting "!==this.connectionState){"Disconnecting"===this.connectionState&&this.stopPromiseResolver();a?this.logger.log(f.LogLevel.Error,"Connection disconnected with error '"+a+"'."):this.logger.log(f.LogLevel.Information,"Connection disconnected.");this.connectionId=void 0;this.connectionState="Disconnected";if(this.onclose&&this.connectionStarted){this.connectionStarted=!1;try{this.onclose(a)}catch(b){this.logger.log(f.LogLevel.Error,"HttpConnection.onclose("+a+") threw error '"+b+"'.")}}}else this.logger.log(f.LogLevel.Warning,"Call to HttpConnection.stopConnection("+a+") was ignored because the connection hasn't yet left the in the connecting state.");else this.logger.log(f.LogLevel.Debug,"Call to HttpConnection.stopConnection("+a+") was ignored because the connection is already in the disconnected state.")};a.prototype.resolveUrl=function(a){if(0===a.lastIndexOf("https://",0)||0===a.lastIndexOf("http://",0))return a;if(!j.Platform.isBrowser||!window.document)throw new Error("Cannot resolve '"+a+"'.");var b=window.document.createElement("a");b.href=a;this.logger.log(f.LogLevel.Information,"Normalizing '"+a+"' to '"+b.href+"'.");return b.href};a.prototype.resolveNegotiateUrl=function(a){var b=a.indexOf("?"),c=a.substring(0,-1===b?a.length:b);"/"!==c[c.length-1]&&(c+="/");c+="negotiate";c+=-1===b?"":a.substring(b);if(-1===c.indexOf("negotiateVersion")){c+=-1===b?"?":"&";c+="negotiateVersion="+this.negotiateVersion}return c};return a}(),s=function(){function a(a){this.transport=a;this.buffer=[];this.executing=!0;this.sendBufferedData=new t;this.transportResult=new t;this.sendLoopPromise=this.sendLoop()}a.prototype.send=function(a){this.bufferData(a);this.transportResult||(this.transportResult=new t);return this.transportResult.promise};a.prototype.stop=function(){this.executing=!1;this.sendBufferedData.resolve();return this.sendLoopPromise};a.prototype.bufferData=function(a){if(this.buffer.length&&typeof this.buffer[0]!=typeof a)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof a);this.buffer.push(a);this.sendBufferedData.resolve()};a.prototype.sendLoop=function(){return l(this,void 0,void 0,function(){var b,c,d;return m(this,function(e){switch(e.label){case 0:return[4,this.sendBufferedData.promise];case 1:e.sent();if(!this.executing){this.transportResult&&this.transportResult.reject("Connection stopped.");return[3,6]}this.sendBufferedData=new t;b=this.transportResult;this.transportResult=void 0;c="string"==typeof this.buffer[0]?this.buffer.join(""):a.concatBuffers(this.buffer);this.buffer.length=0;e.label=2;case 2:e.trys.push([2,4,,5]);return[4,this.transport.send(c)];case 3:e.sent();b.resolve();return[3,5];case 4:d=e.sent();b.reject(d);return[3,5];case 5:return[3,0];case 6:return[2]}})})};a.concatBuffers=function(a){for(var b=a.map(function(a){return a.byteLength}).reduce(function(a,b){return a+b}),c=new Uint8Array(b),d=0,e=0,f=a;e<f.length;e++){var g=f[e];c.set(new Uint8Array(g),d);d+=g.byteLength}return c};return a}(),t=function(){function a(){var a=this;this.promise=new Promise(function(b,c){var d;return d=[b,c],a.resolver=d[0],a.rejecter=d[1],d})}a.prototype.resolve=function(){this.resolver()};a.prototype.reject=function(a){this.rejecter(a)};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"HttpTransportType",function(){return d});c.d(b,"TransferFormat",function(){return e});var d;!function(a){a[a.None=0]="None";a[a.WebSockets=1]="WebSockets";a[a.ServerSentEvents=2]="ServerSentEvents";a[a.LongPolling=4]="LongPolling"}(d||(d={}));var e;!function(a){a[a.Text=1]="Text";a[a.Binary=2]="Binary"}(e||(e={}))},function(a,b,c){"use strict";c.r(b);c.d(b,"LongPollingTransport",function(){return k});var d=c(22),e=c(4),f=c(9),g=c(20),h=c(13),i=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},j=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},k=function(){function a(a,b,c,e){this.httpClient=a;this.accessTokenFactory=b;this.logger=c;this.pollAbort=new d.AbortController;this.logMessageContent=e;this.running=!1;this.onreceive=null;this.onclose=null}Object.defineProperty(a.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0});a.prototype.connect=function(a,b){return i(this,void 0,void 0,function(){var c,d,i,k;return j(this,function(j){switch(j.label){case 0:h.Arg.isRequired(a,"url");h.Arg.isRequired(b,"transferFormat");h.Arg.isIn(b,g.TransferFormat,"transferFormat");this.url=a;this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Connecting.");if(b===g.TransferFormat.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");c={abortSignal:this.pollAbort.signal,headers:{},timeout:1e5};b===g.TransferFormat.Binary&&(c.responseType="arraybuffer");return[4,this.getAccessToken()];case 1:d=j.sent();this.updateHeaderToken(c,d);i=a+"&_="+Date.now();this.logger.log(f.LogLevel.Trace,"(LongPolling transport) polling: "+i+".");return[4,this.httpClient.get(i,c)];case 2:k=j.sent();if(200!==k.statusCode){this.logger.log(f.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+k.statusCode+".");this.closeError=new e.HttpError(k.statusText||"",k.statusCode);this.running=!1}else this.running=!0;this.receiving=this.poll(this.url,c);return[2]}})})};a.prototype.getAccessToken=function(){return i(this,void 0,void 0,function(){return j(this,function(a){switch(a.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,a.sent()];case 2:return[2,null]}})})};a.prototype.updateHeaderToken=function(a,b){a.headers||(a.headers={});b?a.headers.Authorization="Bearer "+b:a.headers.Authorization&&delete a.headers.Authorization;
};a.prototype.poll=function(a,b){return i(this,void 0,void 0,function(){var c,d,g,i;return j(this,function(j){switch(j.label){case 0:j.trys.push([0,,8,9]);j.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:c=j.sent();this.updateHeaderToken(b,c);j.label=3;case 3:j.trys.push([3,5,,6]);d=a+"&_="+Date.now();this.logger.log(f.LogLevel.Trace,"(LongPolling transport) polling: "+d+".");return[4,this.httpClient.get(d,b)];case 4:g=j.sent();if(204===g.statusCode){this.logger.log(f.LogLevel.Information,"(LongPolling transport) Poll terminated by server.");this.running=!1}else if(200!==g.statusCode){this.logger.log(f.LogLevel.Error,"(LongPolling transport) Unexpected response code: "+g.statusCode+".");this.closeError=new e.HttpError(g.statusText||"",g.statusCode);this.running=!1}else if(g.content){this.logger.log(f.LogLevel.Trace,"(LongPolling transport) data received. "+Object(h.getDataDetail)(g.content,this.logMessageContent)+".");this.onreceive&&this.onreceive(g.content)}else this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing.");return[3,6];case 5:i=j.sent();if(this.running)if(i instanceof e.TimeoutError)this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing.");else{this.closeError=i;this.running=!1}else this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Poll errored after shutdown: "+i.message);return[3,6];case 6:return[3,1];case 7:return[3,9];case 8:this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Polling complete.");this.pollAborted||this.raiseOnClose();return[7];case 9:return[2]}})})};a.prototype.send=function(a){return i(this,void 0,void 0,function(){return j(this,function(b){return this.running?[2,Object(h.sendMessage)(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,a,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})};a.prototype.stop=function(){return i(this,void 0,void 0,function(){var a,b;return j(this,function(c){switch(c.label){case 0:this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Stopping polling.");this.running=!1;this.pollAbort.abort();c.label=1;case 1:c.trys.push([1,,5,6]);return[4,this.receiving];case 2:c.sent();this.logger.log(f.LogLevel.Trace,"(LongPolling transport) sending DELETE request to "+this.url+".");a={headers:{}};return[4,this.getAccessToken()];case 3:b=c.sent();this.updateHeaderToken(a,b);return[4,this.httpClient["delete"](this.url,a)];case 4:c.sent();this.logger.log(f.LogLevel.Trace,"(LongPolling transport) DELETE request sent.");return[3,6];case 5:this.logger.log(f.LogLevel.Trace,"(LongPolling transport) Stop finished.");this.raiseOnClose();return[7];case 6:return[2]}})})};a.prototype.raiseOnClose=function(){if(this.onclose){var a="(LongPolling transport) Firing onclose event.";this.closeError&&(a+=" Error: "+this.closeError);this.logger.log(f.LogLevel.Trace,a);this.onclose(this.closeError)}};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"AbortController",function(){return d});var d=function(){function a(){this.isAborted=!1;this.onabort=null}a.prototype.abort=function(){if(!this.isAborted){this.isAborted=!0;this.onabort&&this.onabort()}};Object.defineProperty(a.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0});return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"ServerSentEventsTransport",function(){return i});var d=c(9),e=c(20),f=c(13),g=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},h=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},i=function(){function a(a,b,c,d,e){this.httpClient=a;this.accessTokenFactory=b;this.logger=c;this.logMessageContent=d;this.eventSourceConstructor=e;this.onreceive=null;this.onclose=null}a.prototype.connect=function(a,b){return g(this,void 0,void 0,function(){var c,g=this;return h(this,function(h){switch(h.label){case 0:f.Arg.isRequired(a,"url");f.Arg.isRequired(b,"transferFormat");f.Arg.isIn(b,e.TransferFormat,"transferFormat");this.logger.log(d.LogLevel.Trace,"(SSE transport) Connecting.");this.url=a;return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:c=h.sent();c&&(a+=(a.indexOf("?")<0?"?":"&")+("access_token="+encodeURIComponent(c)));h.label=2;case 2:return[2,new Promise(function(c,h){var i=!1;if(b===e.TransferFormat.Text){var j;if(f.Platform.isBrowser||f.Platform.isWebWorker)j=new g.eventSourceConstructor(a,{withCredentials:!0});else{var k=g.httpClient.getCookieString(a);j=new g.eventSourceConstructor(a,{withCredentials:!0,headers:{Cookie:k}})}try{j.onmessage=function(a){if(g.onreceive)try{g.logger.log(d.LogLevel.Trace,"(SSE transport) data received. "+Object(f.getDataDetail)(a.data,g.logMessageContent)+".");g.onreceive(a.data)}catch(b){g.close(b);return}};j.onerror=function(a){var b=new Error(a.data||"Error occurred");i?g.close(b):h(b)};j.onopen=function(){g.logger.log(d.LogLevel.Information,"SSE connected to "+g.url);g.eventSource=j;i=!0;c()}}catch(l){h(l);return}}else h(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})]}})})};a.prototype.send=function(a){return g(this,void 0,void 0,function(){return h(this,function(b){return this.eventSource?[2,Object(f.sendMessage)(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,a,this.logMessageContent)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]})})};a.prototype.stop=function(){this.close();return Promise.resolve()};a.prototype.close=function(a){if(this.eventSource){this.eventSource.close();this.eventSource=void 0;this.onclose&&this.onclose(a)}};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"WebSocketTransport",function(){return i});var d=c(9),e=c(20),f=c(13),g=function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(b){f(b)}}function h(a){try{i(d["throw"](a))}catch(b){f(b)}}function i(a){a.done?e(a.value):new c(function(b){b(a.value)}).then(g,h)}i((d=d.apply(a,b||[])).next())})},h=function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,f&&(g=2&c[0]?f["return"]:c[0]?f["throw"]||((g=f["return"])&&g.call(f),0):f.next)&&!(g=g.call(f,c[1])).done)return g;(f=0,g)&&(c=[2&c[0],g.value]);switch(c[0]){case 0:case 1:g=c;break;case 4:i.label++;return{value:c[1],done:!1};case 5:i.label++;f=c[1];c=[0];continue;case 7:c=i.ops.pop();i.trys.pop();continue;default:if(!(g=i.trys,g=g.length>0&&g[g.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!g||c[1]>g[0]&&c[1]<g[3])){i.label=c[1];break}if(6===c[0]&&i.label<g[1]){i.label=g[1];g=c;break}if(g&&i.label<g[2]){i.label=g[2];i.ops.push(c);break}g[2]&&i.ops.pop();i.trys.pop();continue}c=b.call(a,i)}catch(d){c=[6,d];f=0}finally{e=g=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,f,g,h,i={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return h={next:c(0),"throw":c(1),"return":c(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h},i=function(){function a(a,b,c,d,e){this.logger=c;this.accessTokenFactory=b;this.logMessageContent=d;this.webSocketConstructor=e;this.httpClient=a;this.onreceive=null;this.onclose=null}a.prototype.connect=function(a,b){return g(this,void 0,void 0,function(){var c,g=this;return h(this,function(h){switch(h.label){case 0:f.Arg.isRequired(a,"url");f.Arg.isRequired(b,"transferFormat");f.Arg.isIn(b,e.TransferFormat,"transferFormat");this.logger.log(d.LogLevel.Trace,"(WebSockets transport) Connecting.");return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:c=h.sent();c&&(a+=(a.indexOf("?")<0?"?":"&")+("access_token="+encodeURIComponent(c)));h.label=2;case 2:return[2,new Promise(function(c,h){a=a.replace(/^http/,"ws");var i,j=g.httpClient.getCookieString(a),k=!1;f.Platform.isNode&&j&&(i=new g.webSocketConstructor(a,void 0,{headers:{Cookie:""+j}}));i||(i=new g.webSocketConstructor(a));b===e.TransferFormat.Binary&&(i.binaryType="arraybuffer");i.onopen=function(b){g.logger.log(d.LogLevel.Information,"WebSocket connected to "+a+".");g.webSocket=i;k=!0;c()};i.onerror=function(a){var b=null;b="undefined"!=typeof ErrorEvent&&a instanceof ErrorEvent?a.error:new Error("There was an error with the transport.");h(b)};i.onmessage=function(a){g.logger.log(d.LogLevel.Trace,"(WebSockets transport) data received. "+Object(f.getDataDetail)(a.data,g.logMessageContent)+".");g.onreceive&&g.onreceive(a.data)};i.onclose=function(a){if(k)g.close(a);else{var b=null;b="undefined"!=typeof ErrorEvent&&a instanceof ErrorEvent?a.error:new Error("There was an error with the transport.");h(b)}}})]}})})};a.prototype.send=function(a){if(this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN){this.logger.log(d.LogLevel.Trace,"(WebSockets transport) sending data. "+Object(f.getDataDetail)(a,this.logMessageContent)+".");this.webSocket.send(a);return Promise.resolve()}return Promise.reject("WebSocket is not in the OPEN state")};a.prototype.stop=function(){if(this.webSocket){this.webSocket.onclose=function(){};this.webSocket.onmessage=function(){};this.webSocket.onerror=function(){};this.webSocket.close();this.webSocket=void 0;this.close(void 0)}return Promise.resolve()};a.prototype.close=function(a){this.logger.log(d.LogLevel.Trace,"(WebSockets transport) socket closed.");this.onclose&&(!a||a.wasClean!==!1&&1e3===a.code?this.onclose():this.onclose(new Error("WebSocket closed with status code: "+a.code+" ("+a.reason+").")))};return a}()},function(a,b,c){"use strict";c.r(b);c.d(b,"JsonHubProtocol",function(){return j});var d=c(15),e=c(9),f=c(20),g=c(14),h=c(12),i="json",j=function(){function a(){this.name=i;this.version=1;this.transferFormat=f.TransferFormat.Text}a.prototype.parseMessages=function(a,b){if("string"!=typeof a)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!a)return[];null===b&&(b=g.NullLogger.instance);for(var c=h.TextMessageFormat.parse(a),f=[],i=0,j=c;i<j.length;i++){var k=j[i],l=JSON.parse(k);if("number"!=typeof l.type)throw new Error("Invalid payload.");switch(l.type){case d.MessageType.Invocation:this.isInvocationMessage(l);break;case d.MessageType.StreamItem:this.isStreamItemMessage(l);break;case d.MessageType.Completion:this.isCompletionMessage(l);break;case d.MessageType.Ping:break;case d.MessageType.Close:break;default:b.log(e.LogLevel.Information,"Unknown message type '"+l.type+"' ignored.");continue}f.push(l)}return f};a.prototype.writeMessage=function(a){return h.TextMessageFormat.write(JSON.stringify(a))};a.prototype.isInvocationMessage=function(a){this.assertNotEmptyString(a.target,"Invalid payload for Invocation message.");void 0!==a.invocationId&&this.assertNotEmptyString(a.invocationId,"Invalid payload for Invocation message.")};a.prototype.isStreamItemMessage=function(a){this.assertNotEmptyString(a.invocationId,"Invalid payload for StreamItem message.");if(void 0===a.item)throw new Error("Invalid payload for StreamItem message.")};a.prototype.isCompletionMessage=function(a){if(a.result&&a.error)throw new Error("Invalid payload for Completion message.");!a.result&&a.error&&this.assertNotEmptyString(a.error,"Invalid payload for Completion message.");this.assertNotEmptyString(a.invocationId,"Invalid payload for Completion message.")};a.prototype.assertNotEmptyString=function(a,b){if("string"!=typeof a||""===a)throw new Error(b)};return a}()}])});var ErrorType;!function(a){a[a.server_error=0]="server_error";a[a.access_denied=1]="access_denied";a[a.authentication_cancelled=2]="authentication_cancelled"}(ErrorType||(ErrorType={}));define("model/errorType",function(){});define("model/errorCodes",[],function(){return new ErrorCodes});var ErrorCodes=function(){function a(){this.serverError=new ErrorCode("500","Server Error","Server Error. Please try again later or contact administrator");this.userCancel=new ErrorCode("422","Access Denied","User cancelled the authentication request");this.badRequest=new ErrorCode("400","Bad Request","Bad Request");this.serviceCallTimeout=new ErrorCode("440","Access Denied","Service call has timed out");this.sessionTimeout=new ErrorCode("401","Session timeout","Session has timed out");this.responseNotFound=new ErrorCode("404","Not Found","Could not find a valid response");this.userTimeout=new ErrorCode("422","Access Denied","No response received from device");this.technicalError=new ErrorCode("500","System unavailable",'We are unable to process your request at this time. Try again in 20 minutes. If the issue continues, phone us on <a href="tel:132861">13 28 61</a> and quote error code 14000 (500).');this.accountNotFound=new ErrorCode("CR1000","","");this.loginHintNotFound=new ErrorCode("CR1009","","");this.accountMismatch=new ErrorCode("CR1010","","");this.activeRequestExists=new ErrorCode("CR1011","","");this.accountUnavailable=new ErrorCode("CR1002","","");this.invalidRequestStatus=new ErrorCode("CR1006","","");this.unknownResponse=new ErrorCode("","Unexpected response","<p>The server returned an unexpected response</p>")}return a}(),ErrorCode=function(){function a(a,b,c){this.code=a;this.title=b;this.description=c}return a}();define("common/utils",["require","q","common/logger","common/routes","model/sessionState","signalRCore","model/errorType","model/errorCodes"],function(){return Utils});var Utils;!function(a){function b(a,b){return a.replace(/{(\d+)}/g,function(a,c){return"undefined"==typeof b[c]?a:b[c]})}function c(a,b){return Math.floor(Math.random()*(b-a)+a)}function d(a){var b=require("common/routes");e(a);b.error.navigate()}function e(a){var b=require("model/sessionState"),c=require("common/logger");c.log(void 0!=a?a.toString():"","utils.handleError");b.errorMessage=a}function f(){var a=require("jquery");a('[data-toggle="tooltip"]').tooltip()}function g(){function a(){var a=c(".mygovid-panel").width();c("#mygovid-header-logo").css("width",a)}var b,c=require("jquery");window.addEventListener("resize",function(){clearTimeout(b);b=setTimeout(a,300)});a()}function h(a,b,c,d,e,f,g){var h=require("q"),i=require("model/sessionState"),j=require("common/logger"),k=(require("model/errorCodes"),require("signalRCore"),h.defer()),l=new Date;f?j.log("Waiting auth notification started at: "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+":"+l.getMilliseconds(),"Utils.poll"):j.log("Polling started at: "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+":"+l.getMilliseconds(),"Utils.poll");l.setSeconds(l.getSeconds()+b);f?j.log("Waiting auth notification expires at after: "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+":"+l.getMilliseconds(),"Utils.poll"):j.log("Polling expires at after: "+l.getHours()+":"+l.getMinutes()+":"+l.getSeconds()+":"+l.getMilliseconds(),"Utils.poll");if(f){c=[];d=1}var m=function(){var a=l.getTime()-(new Date).getTime(),b=1e3*d;c.length>0&&(b=1e3*c.shift());b>a&&(b=a);0>b&&(b=0);return b},n=0,o=function(){var b=m();n++;if(e()){f?j.log("Polling cancelled prior received auth notification for "+n*d+" seconds","Utils.poll"):j.log("Polling cancelled at attempt "+n+" having an interval of "+b+" milliseconds","Utils.poll");return k.reject("Cancelled")}var c=g();if(c){var h=i.hubConnection;h&&h.stop()}var p=new Date;if(!f||c||f&&!c&&p.getTime()>=l.getTime()){var q=!0;if(f)if(c)j.log("Auth notification is received after waiting "+n*d+" seconds","Utils.poll");else{q=!1;j.log("Auth notification is timeout after waiting "+n*d+" seconds","Utils.poll")}else j.log("Attempt "+n+" with interval of "+b+" milliseconds","Utils.poll");a(q).then(function(a){var c=new Date;j.log("Now is: "+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+":"+c.getMilliseconds(),"Utils.poll");f?j.log("Process has succeeded after waiting "+n*d+" seconds","Utils.poll"):j.log("Attempt "+n+" with an interval of "+b+" milliseconds has Succeeded","Utils.poll");return k.resolve(a)})["catch"](function(a){var e=new Date;j.log("Now is: "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds(),"Utils.poll");f?j.log("Process has failed after waiting "+n*d+" seconds","Utils.poll"):j.log("Attempt "+n+" with an interval of "+b+" milliseconds has failed","Utils.poll");if(e.getTime()>=l.getTime()||c)return k.reject(a);window.setTimeout(o,b);return void 0})}f&&!c&&p.getTime()<l.getTime()&&window.setTimeout(o,b)};o();return k.promise}function i(a){return j(new Date(a))}function j(a){return new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())}function k(a){return a&&null!=a()&&""!=a().toString()}function l(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:7&c|8).toString(16)})}function m(a){var b=require("knockout");b.validation.init({errorClass:"error",decorateInputElement:!0,messageTemplate:"errorMessageTemplate",errorsAsTitle:!1},!0);b.validation.group(a).showAllMessages(!1)}function n(){for(var a,b=[0,1,2,3,4,5,6,7,8,9],c=b.length,d=0;c--;){d=Math.floor(Math.random()*(c+1));a=b[c];b[c]=b[d];b[d]=a}return b.join("").substring(0,4)}a.format=b;a.random=c;a.navigateToErrorPage=d;a.setError=e;a.loadTooltips=f;a.resizeLogo=g;a.poll=h;a.convertStringToUTC=i;a.convertDateToUTC=j;a.observableHasValue=k;a.guid=l;a.enableValidation=m;a.randomFourDigit=n}(Utils||(Utils={}));var AuthNotifier=function(){function a(a){this.notifierId=a}return a}();define("model/authNotifier",function(){});var AuthRequest=function(){function a(a,b,c,d,e){this.rememberMeToken=c;this.rememberMeFlag=b;this.referenceCode=a;this.accountName=d;this.authenticationNotifierId=e}return a}();define("model/authRequest",function(){});var AuthRequestPayload=function(){function a(a,b,c){this.responseUrl=c.getResponseHeader("location")}return a}();define("model/authRequestPayload",function(){});var AuthResponse=function(){function a(a){if(a){this.authenticationRequestId=a.authenticationRequestId;this.rememberMeToken=a.rememberMeToken;this.result=ResultType[a.result];this.userSignInToken=a.userSignInToken}}return a}(),ResultType;!function(a){a[a.Success=0]="Success";a[a.Cancel=1]="Cancel";a[a.Timeout=2]="Timeout";a[a.TechnicalError=3]="TechnicalError"}(ResultType||(ResultType={}));define("model/authResponse",function(){});var ErrorMessage=function(){function a(a,b){var c=this;this.toString=function(){return(c.code||"")+" "+c.title+": "+c.description};if(a){this.title=a.title;this.code=a.code;this.description=a.description;this.messageType=a.type;this.parameter=a.parameter;this.errorType=b}}return a}(),ErrorMessage;!function(a){function b(b,c){return new a({title:b.title,description:b.description,code:b.code},c)}a.fromCode=b}(ErrorMessage||(ErrorMessage={}));define("model/errorMessage",function(){});var SessionConfig=function(){function a(a,b,c){if(a){this.sessionId=a.sessionId;this.openIdSessionId=a.openIdSessionId;this.expiry=a.expiry;this.returnUrl=a.returnUrl;this.accessToken=a.accessToken;this.loginHint=a.loginHint;this.agency=a.agency;this.theme=a.theme;this.sessionLocation=c.getResponseHeader("location")}}return a}();define("model/sessionConfig",function(){});define("model/persistedState",["jquery","q","model/sessionConfig"],function(){return new PersistedState});var PersistedState=function(){function a(){var a=this;this.resetRememberMe=function(){a.lastUsername=null;a.rememberMeToken=null;a.save()};this.resetSession=function(){a.sessionConfig=null;a.openIdJwtSignature=null;a.save()};this.key="Auth";this.load=function(){var b=require("q"),c=require("jquery");return b.fcall(function(){var b=JSON.parse(window.localStorage.getItem(a.key));c.extend(a,b);return a})};this.save=function(){var b=require("q");return b.fcall(function(){window.localStorage.setItem(a.key,JSON.stringify(a))})}}return a}();define("model/serviceData",function(){});define("model/startJwt",["common/Base64"],function(){return StartJwt});var StartJwt=function(){function a(a){if(a){var b=a.split(".");if(!(b.length<3)){var c=require("common/Base64"),d=c.decode(b[1]).replace(/\0/g,""),e=JSON.parse(d);this.sub=e.sub;this.returnUrl=e.returnUrl}}}return a}(),UpdateAuthRequest=function(){function a(a,b,c){this.op=a;this.value=b;this.path=c}return a}();define("model/updateAuthRequest",function(){});define("services/authServices",function(){});var AuthNotifier=function(){function a(a){this.notifierId=a}return a}();define("model/AuthNotifier",function(){});define("services/notificationService",["common/logger","jquery","model/sessionState","q","signalRCore","model/AuthNotifier","model/staticConfig","model/errorCodes"],function(){return Service});var NotificationService=function(){function a(a){var b=this;this.session=require("model/sessionState");this.call=function(a,c,d){var e=(require("jquery"),require("q")),f=require("signalRCore"),g=(require("model/errorCodes"),require("model/staticConfig")),h=require("common/logger"),i=g.apiBaseUrl+b.url,j=e.defer();if(c()){h.log("Create notifier cancelled","NotificationService.call");j.resolve(new AuthNotifier(null))}h.log("${url}","NotificationService.call");try{var k={transport:[f.HttpTransportType.WebSockets|f.HttpTransportType.ServerSentEvents],accessTokenFactory:function(){return d}},l=(new f.HubConnectionBuilder).withUrl(i,k).withAutomaticReconnect().build();b.session.hubConnection=l;l.on("NotifyAuthenticationResponse",a);l.start().then(function(){h.log("Create notifier success","NotificationService.call");j.resolve(new AuthNotifier(l.connectionId))})["catch"](function(a){h.log("Create notifier failed","NotificationService.call");j.resolve(new AuthNotifier(null))})}catch(m){h.log("Create notifier failed","NotificationService.call");j.resolve(new AuthNotifier(null))}return j.promise};this.url=a}return a}();define("services/service",["common/logger","jquery","q","model/errorMessage","model/staticConfig","model/errorCodes"],function(){return Service});var Service=function(){function a(a,b){var c=this;this.call=function(a,b,d,e,f){var g=require("jquery"),h=require("q"),i=require("common/logger"),j=require("model/staticConfig"),k=require("model/errorCodes"),l=j.apiBaseUrl+Utils.format(c.url,b);i.log(c.method+" "+l,"Service.call");var m={url:l,method:c.method,headers:d,data:JSON.stringify(e),dataType:"json",contentType:"application/json",processData:!1,timeout:65e3};f&&g.extend(m,f);var n=h.defer();g.ajax(m).then(function(b,c,d){n.resolve(new a(b,c,d))}).fail(function(a){var b;if(a.responseJSON&&a.responseJSON.messages&&Array.isArray(a.responseJSON.messages))b=a.responseJSON.messages[0];else switch(a.statusText.toString()){case"timeout":b=ErrorMessage.fromCode(k.serviceCallTimeout);break;case"Not Found":b=ErrorMessage.fromCode(k.responseNotFound);break;default:b={title:a.statusText,description:"",code:a.status.toString()}}n.reject(new ErrorMessage(b))});return n.promise};this.url=a;this.method=Http.Method[b]}return a}();define("services/services",["q","services/service","services/notificationService","model/sessionConfig","model/authRequest","model/authResponse","model/authRequestPayload","common/http","model/startJwt","model/staticConfig","common/utils"],function(){return new Services});var Services=function(){function a(){this.staticConfig=require("model/staticConfig");this.startJwt=require("model/startJwt");this.config=new Service("/api/v1/Sessions",Http.Method.POST);this.createAuthReq=new Service("{0}/AuthenticationRequest",Http.Method.POST);this.getAuthResp=new Service("{0}/AuthenticationResponses",Http.Method.GET);this.updateAuthReq=new Service("{0}",Http.Method.PATCH);this.createNotifier=new NotificationService("/api/v1/AuthenticationNotifications")}a.prototype.createSession=function(a){this.startJwt=new StartJwt(a);return this.config.call(SessionConfig,[],this.getHeader(this.startJwt.sub,null),{data:a})};a.prototype.createAuthRequest=function(a,b,c,d){return this.createAuthReq.call(AuthRequestPayload,[a],this.getHeader(this.getSessionIdFromToken(b),b),d)};a.prototype.getAuthResponse=function(a,b){return this.getAuthResp.call(AuthResponse,[b],this.getHeader(this.getSessionIdFromToken(a),a))};a.prototype.createAuthNotifier=function(a,b,c){return this.createNotifier.call(a,b,c)};a.prototype.updateAuthRequest=function(a,b,c){var d={contentType:"application/json-patch+json"};return this.updateAuthReq.call(AuthRequestPayload,[b],this.getHeader(this.getSessionIdFromToken(a),a),c,d)};a.prototype.getHeader=function(a,b){var c={"X-AuditCallingAppName":"myGovIDAuthSPA","X-AuditCallingAppVersion":this.staticConfig.appVersion,"X-AuditRequestId":Utils.guid(),"X-AuditSessionId":a};b&&(c.Authorization="Bearer "+b);return c};a.prototype.getSessionIdFromToken=function(a){var b=a.split(".")[1],c=window.atob(b),d=JSON.parse(c);return d.jti};return a}();define("services/sessionServices",["require","knockout","common/logger","model/sessionState","q","signalRCore","services/services","common/utils","model/staticConfig","model/persistedState","model/errorCodes","model/updateAuthRequest","model/authRequest"],function(){return new SessionServices});var SessionServices=function(){function a(){var a=this;this.createSession=function(a){var b,c=require("model/sessionState"),d=require("services/services"),e=require("model/persistedState"),f=require("q"),g=require("model/errorCodes"),h=a.split(".")[2];if(e.openIdJwtSignature&&e.openIdJwtSignature===h&&e.sessionConfig){var i=Utils.convertStringToUTC(e.sessionConfig.expiry),j=Utils.convertDateToUTC(new Date);b=f(e.sessionConfig);if(j>=i)return f.reject(ErrorMessage.fromCode(g.sessionTimeout))}else b=d.createSession(a).then(function(a){e.sessionConfig=a;e.openIdJwtSignature=h;e.save();return a});return b.then(function(a){c.theme(a.theme);return a})};this.createAuthRequest=function(b,c,d,e){var f=require("model/sessionState"),g=require("services/services"),h=(require("model/staticConfig"),require("model/persistedState")),i=require("signalRCore"),j=void 0,k=f.hubConnection;k.state===i.HubConnectionState.Connected&&(j=k.connectionId);var l=new AuthRequest(d,c,c?h.rememberMeToken:void 0,b,j);return a.withValidSession(function(){return g.createAuthRequest(h.sessionConfig.sessionLocation,h.sessionConfig.accessToken,b,l).then(function(a){f.authRequestUrl=a.responseUrl;return a})})};this.createAuthNotifier=function(b){var c,d=(require("model/sessionState"),require("services/services")),e=(require("model/staticConfig"),require("model/persistedState")),f=require("common/logger"),g=require("knockout"),h=require("q"),i=g.observable(!1);c=i;var j=function(a){var b=require("model/persistedState");b.load().then(function(){f.log("auth notification received","auth notification");if(b.sessionConfig.sessionId===a){f.log("auth notification confirmed","auth notification");c(!0)}})};return a.withValidSession(function(){return d.createAuthNotifier(j,b,e.sessionConfig.accessToken).then(function(a){return h(i)})})};this.getAuthRespose=function(b,c,d,e){var f=require("model/sessionState"),g=(require("services/services"),require("model/staticConfig")),h=require("model/persistedState"),i=require("signalRCore"),j=(require("q"),f.hubConnection),k=j.state===i.HubConnectionState.Connected;return a.withValidSession(function(){return Utils.poll(a.getAuthResponse,g.pollingTimeout,g.initialPollingIntervals,g.fixedPollingIntervals,d,k,e).then(function(a){f.userSigninToken=a.userSignInToken;if(b&&a.rememberMeToken){h.rememberMeToken=a.rememberMeToken;h.save()}return a})})};this.updateAuthRequest=function(b){var c=require("model/sessionState"),d=require("services/services"),e=(require("model/staticConfig"),require("model/persistedState")),f=new UpdateAuthRequest("replace",b,"/authenticationRequestStatus");return a.withValidSession(function(){return d.updateAuthRequest(e.sessionConfig.accessToken,c.authRequestUrl,f)})};this.getAuthResponse=function(b){var c=require("model/sessionState"),d=require("services/services"),e=require("model/persistedState");return b?a.withValidSession(function(){return d.getAuthResponse(e.sessionConfig.accessToken,c.authRequestUrl)}):d.getAuthResponse(e.sessionConfig.accessToken,c.authRequestUrl)}}a.prototype.withValidSession=function(a){var b=require("model/persistedState"),c=require("q"),d=require("model/errorCodes"),e=Utils.convertStringToUTC(b.sessionConfig.expiry),f=Utils.convertDateToUTC(new Date);return e>f?a():c.reject(ErrorMessage.fromCode(d.sessionTimeout,ErrorType.access_denied))};return a}();define("viewmodels/changeUser",["common/routes","common/logger","model/sessionState","model/persistedState"],function(){return ChangeUser});var ChangeUser=function(){function a(){var a=this;this.state=require("model/persistedState");this.sessionState=require("model/sessionState");this.routes=require("common/routes");this.yes=function(){a.state.resetRememberMe();a.routes.login.navigate()};this.no=function(){a.sessionState.isTempUser=!0;a.routes.login.navigate()};this.canActivate=function(){return!0};this.compositionComplete=function(){Utils.resizeLogo()}}return a}();define("viewmodels/complete",["common/routes","common/logger","model/sessionState","signalRCore","model/persistedState"],function(){return Complete});var Complete=function(){function a(){var a=this;this.canActivate=function(){var b=require("model/sessionState"),c=require("model/persistedState"),d=require("common/routes");b.errorMessage||b.userSigninToken||d.landing.navigate();var e=b.errorMessage&&ErrorType[b.errorMessage.errorType];return a.postForm(c.sessionConfig.openIdSessionId,c.sessionConfig.returnUrl,b.userSigninToken,e)}}a.prototype.postForm=function(a,b,c,d){var e=require("model/sessionState"),f=require("model/persistedState"),g=document.createElement("form");require("signalRCore");g.action=b;g.method="POST";var h=document.createElement("input");h.name="id_token";h.value=c;h.type="hidden";g.appendChild(h);var i=document.createElement("input");i.name="session_id";i.value=a;i.type="hidden";g.appendChild(i);if(d){var j=document.createElement("input");j.name="error";j.value=d;j.type="hidden";g.appendChild(j)}document.getElementsByTagName("body")[0].appendChild(g);var k=e.hubConnection;k&&k.stop();f.resetSession();g.submit()};return a}();define("viewmodels/error",["knockout","model/sessionState","model/persistedState","model/errorCodes","common/routes"],function(){return ErrorPageViewModel});var ErrorPageViewModel=function(){function a(){var a=this;this.canActivate=function(b){var c=require("model/sessionState"),d=require("model/persistedState"),e=require("model/errorCodes");a.serviceError(c.errorMessage||ErrorMessage.fromCode(e.technicalError));a.showContinue(null!=d.sessionConfig);c.errorPageLoaded=!0;return!0};this.compositionComplete=function(){
document.title=Utils.observableHasValue(a.serviceError)&&a.serviceError().title?a.serviceError().title:"Error"};this.submit=function(){var a=require("common/routes"),b=require("model/sessionState");require("model/errorCodes");b.errorMessage.errorType==ErrorType.access_denied?a.complete.navigate():a.login.navigate()};var b=require("knockout");this.serviceError=b.observable();this.showContinue=b.observable()}return a}();define("viewmodels/landing",["common/logger","common/routes","model/persistedState","model/sessionState","model/errorMessage","services/sessionServices"],function(){return Landing});var Landing=function(){function a(){var a=this;this.logger=require("common/logger");this.state=require("model/persistedState");this.session=require("model/sessionState");this.services=require("services/sessionServices");this.routes=require("common/routes");this.errorCodes=require("model/errorCodes");this.canActivate=function(b){a.logger.log("Activating landing page","landing.canActivate",null,!1);return a.state.load().then(function(){a.session.username=a.state.lastUsername;a.state.lastUsername&&(a.session.rememberMe=!0)}).then(function(){return a.services.createSession(b)["catch"](function(b){b.code===a.errorCodes.sessionTimeout.code?a.session.showSessionExpiredDialog():Utils.navigateToErrorPage(b)})}).then(function(){if(!a.state.sessionConfig.openIdSessionId||!a.state.sessionConfig.returnUrl)return Utils.navigateToErrorPage(ErrorMessage.fromCode(a.errorCodes.technicalError));if(a.state.lastUsername)return a.routes.sendCode.navigate();if(a.state.sessionConfig.loginHint){a.session.username=a.state.sessionConfig.loginHint.trim();a.session.rememberMe=!1;a.logger.log("Skipping login page as have loging hint: ","landing.canActivate",a.session.username,!1);return a.routes.loginRequest.navigate()}return a.routes.login.navigate()})}}return a}();!function(a){"function"==typeof require&&"object"==typeof exports&&"object"==typeof module?a(require("knockout"),exports):"function"==typeof define&&define.amd?define("knockout-validation",["knockout","exports"],a):a(ko,ko.validation={})}(function(a,b){function c(a){var b="max"===a;return function(c,d){if(f.utils.isEmptyVal(c))return!0;var e,g;if(void 0===d.typeAttr){g="text";e=d}else{g=d.typeAttr;e=d.value}isNaN(e)||e instanceof Date||(g="number");var h,i,j;switch(g.toLowerCase()){case"week":h=/^(\d{4})-W(\d{2})$/;i=c.match(h);if(null===i)throw new Error("Invalid value for "+a+" attribute for week input.  Should look like '2000-W33' http://www.w3.org/TR/html-markup/input.week.html#input.week.attrs.min");j=e.match(h);return j?b?i[1]<j[1]||i[1]===j[1]&&i[2]<=j[2]:i[1]>j[1]||i[1]===j[1]&&i[2]>=j[2]:!1;case"month":h=/^(\d{4})-(\d{2})$/;i=c.match(h);if(null===i)throw new Error("Invalid value for "+a+" attribute for month input.  Should look like '2000-03' http://www.w3.org/TR/html-markup/input.month.html#input.month.attrs.min");j=e.match(h);return j?b?i[1]<j[1]||i[1]===j[1]&&i[2]<=j[2]:i[1]>j[1]||i[1]===j[1]&&i[2]>=j[2]:!1;case"number":case"range":return b?!isNaN(c)&&parseFloat(c)<=parseFloat(e):!isNaN(c)&&parseFloat(c)>=parseFloat(e);default:return b?e>=c:c>=e}}}function d(a,b,c){if(b.validator(a(),void 0===c.params?!0:h(c.params)))return!0;a.setError(f.formatMessage(c.message||b.message,h(c.params),a));return!1}function e(a,b,c){a.isValidating(!0);var d=function(d){var e=!1,g="";if(a.__valid__()){if(d.message){e=d.isValid;g=d.message}else e=d;if(!e){a.error(f.formatMessage(g||c.message||b.message,h(c.params),a));a.__valid__(e)}a.isValidating(!1)}else a.isValidating(!1)};f.utils.async(function(){b.validator(a(),void 0===c.params?!0:h(c.params),d)})}if("undefined"==typeof a)throw new Error("Knockout is required, please ensure it is loaded before loading this validation plug-in");a.validation=b;var f=a.validation,g=a.utils,h=g.unwrapObservable,i=g.arrayForEach,j=g.extend,k={registerExtenders:!0,messagesOnModified:!0,errorsAsTitle:!0,errorsAsTitleOnModified:!1,messageTemplate:null,insertMessages:!0,parseInputAttributes:!1,writeInputAttributes:!1,decorateInputElement:!1,decorateElementOnModified:!0,errorClass:null,errorElementClass:"validationElement",errorMessageClass:"validationMessage",allowHtmlMessages:!1,grouping:{deep:!1,observable:!0,live:!1},validate:{}},l=j({},k);l.html5Attributes=["required","pattern","min","max","step"];l.html5InputTypes=["email","number","date"];l.reset=function(){j(l,k)};f.configuration=l;f.utils=function(){var a=(new Date).getTime(),b={},c="__ko_validation__";return{isArray:function(a){return a.isArray||"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return null!==a&&"object"==typeof a},isNumber:function(a){return!isNaN(a)},isObservableArray:function(a){return!!a&&"function"==typeof a.remove&&"function"==typeof a.removeAll&&"function"==typeof a.destroy&&"function"==typeof a.destroyAll&&"function"==typeof a.indexOf&&"function"==typeof a.replace},values:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return b},getValue:function(a){return"function"==typeof a?a():a},hasAttribute:function(a,b){return null!==a.getAttribute(b)},getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,b,c){return a.setAttribute(b,c)},isValidatable:function(a){return!!(a&&a.rules&&a.isValid&&a.isModified)},insertAfter:function(a,b){a.parentNode.insertBefore(b,a.nextSibling)},newId:function(){return a+=1},getConfigOptions:function(a){var b=f.utils.contextFor(a);return b||f.configuration},setDomData:function(a,d){var e=a[c];e||(a[c]=e=f.utils.newId());b[e]=d},getDomData:function(a){var d=a[c];return d?b[d]:void 0},contextFor:function(a){switch(a.nodeType){case 1:case 8:var b=f.utils.getDomData(a);if(b)return b;if(a.parentNode)return f.utils.contextFor(a.parentNode)}return void 0},isEmptyVal:function(a){return void 0===a?!0:null===a?!0:""===a?!0:void 0},getOriginalElementTitle:function(a){var b=f.utils.getAttribute(a,"data-orig-title"),c=a.title,d=f.utils.hasAttribute(a,"data-orig-title");return d?b:c},async:function(a){window.setImmediate?window.setImmediate(a):window.setTimeout(a,0)},forEach:function(a,b){if(f.utils.isArray(a))return i(a,b);for(var c in a)a.hasOwnProperty(c)&&b(a[c],c)}}}();var m=function(){function b(a){i(a.subscriptions,function(a){a.dispose()});a.subscriptions=[]}function c(a){if(a.options.deep){i(a.flagged,function(a){delete a.__kv_traversed});a.flagged.length=0}a.options.live||b(a)}function d(a,d){d.validatables=[];b(d);e(a,d);c(d)}function e(b,c,d){var f=[],g=b.peek?b.peek():b;if(b.__kv_traversed!==!0){if(c.options.deep){b.__kv_traversed=!0;c.flagged.push(b)}d=void 0!==d?d:c.options.deep?1:-1;if(a.isObservable(b)){b.errors||n.isValidatable(b)||b.extend({validatable:!0});c.validatables.push(b);c.options.live&&n.isObservableArray(b)&&c.subscriptions.push(b.subscribe(function(){c.graphMonitor.valueHasMutated()}))}g&&!g._destroy&&(n.isArray(g)?f=g:n.isObject(g)&&(f=n.values(g)));0!==d&&n.forEach(f,function(b){!b||b.nodeType||a.isComputed(b)&&!b.rules||e(b,c,d+1)})}}function k(a){var b=[];i(a,function(a){n.isValidatable(a)&&!a.isValid()&&b.push(a.error.peek())});return b}var l=0,m=f.configuration,n=f.utils;return{init:function(a,b){if(!(l>0)||b){a=a||{};a.errorElementClass=a.errorElementClass||a.errorClass||m.errorElementClass;a.errorMessageClass=a.errorMessageClass||a.errorClass||m.errorMessageClass;j(m,a);m.registerExtenders&&f.registerExtenders();l=1}},reset:f.configuration.reset,group:function(b,c){c=j(j({},m.grouping),c);var e={options:c,graphMonitor:a.observable(),flagged:[],subscriptions:[],validatables:[]},f=null;f=c.observable?a.computed(function(){e.graphMonitor();d(b,e);return k(e.validatables)}):function(){d(b,e);return k(e.validatables)};f.showAllMessages=function(a){void 0===a&&(a=!0);f.forEach(function(b){n.isValidatable(b)&&b.isModified(a)})};f.isAnyMessageShown=function(){var a;a=!!f.find(function(a){return n.isValidatable(a)&&!a.isValid()&&a.isModified()});return a};f.filter=function(a){a=a||function(){return!0};f();return g.arrayFilter(e.validatables,a)};f.find=function(a){a=a||function(){return!0};f();return g.arrayFirst(e.validatables,a)};f.forEach=function(a){a=a||function(){};f();i(e.validatables,a)};f.map=function(a){a=a||function(a){return a};f();return g.arrayMap(e.validatables,a)};f._updateState=function(a){if(!n.isObject(a))throw new Error("An object is required.");b=a;if(!c.observable){d(a,e);return k(e.validatables)}e.graphMonitor.valueHasMutated()};return f},formatMessage:function(a,b,c){n.isObject(b)&&b.typeAttr&&(b=b.value);if("function"==typeof a)return a(b,c);var d=h(b);null==d&&(d=[]);n.isArray(d)||(d=[d]);return a.replace(/{(\d+)}/gi,function(a,b){return"undefined"!=typeof d[b]?d[b]:a})},addRule:function(a,b){a.extend({validatable:!0});var c=!!g.arrayFirst(a.rules(),function(a){return a.rule&&a.rule===b.rule});c||a.rules.push(b);return a},addAnonymousRule:function(a,b){void 0===b.message&&(b.message="Error");b.onlyIf&&(b.condition=b.onlyIf);f.addRule(a,b)},addExtender:function(b){a.extenders[b]=function(a,c){return c&&(c.message||c.onlyIf)?f.addRule(a,{rule:b,message:c.message,params:n.isEmptyVal(c.params)?!0:c.params,condition:c.onlyIf}):f.addRule(a,{rule:b,params:c})}},registerExtenders:function(){if(m.registerExtenders)for(var b in f.rules)f.rules.hasOwnProperty(b)&&(a.extenders[b]||f.addExtender(b))},insertValidationMessage:function(a){var b=document.createElement("SPAN");b.className=n.getConfigOptions(a).errorMessageClass;n.insertAfter(a,b);return b},parseInputValidationAttributes:function(a,b){i(f.configuration.html5Attributes,function(c){if(n.hasAttribute(a,c)){var d=a.getAttribute(c)||!0;if("min"===c||"max"===c){var e=a.getAttribute("type");"undefined"!=typeof e&&e||(e="text");d={typeAttr:e,value:d}}f.addRule(b(),{rule:c,params:d})}});var c=a.getAttribute("type");i(f.configuration.html5InputTypes,function(a){a===c&&f.addRule(b(),{rule:"date"===a?"dateISO":a,params:!0})})},writeInputValidationAttributes:function(b,c){var d=c();if(d&&d.rules){var e=d.rules();i(f.configuration.html5Attributes,function(c){var d=g.arrayFirst(e,function(a){return a.rule&&a.rule.toLowerCase()===c.toLowerCase()});d&&a.computed({read:function(){var e=a.unwrap(d.params);"pattern"===d.rule&&e instanceof RegExp&&(e=e.source);b.setAttribute(c,e)},disposeWhenNodeIsRemoved:b})});e=null}},makeBindingHandlerValidatable:function(b){var c=a.bindingHandlers[b].init;a.bindingHandlers[b].init=function(b,d,e,f,g){c(b,d,e,f,g);return a.bindingHandlers.validationCore.init(b,d,e,f,g)}},setRules:function(b,c){var d=function(b,c){if(b&&c)for(var e in c)if(c.hasOwnProperty(e)){var g=c[e];if(b[e]){var i=b[e],j=h(i),k={},l={};for(var m in g)g.hasOwnProperty(m)&&(f.rules[m]?k[m]=g[m]:l[m]=g[m]);a.isObservable(i)&&i.extend(k);if(j&&n.isArray(j))for(var o=0;o<j.length;o++)d(j[o],l);else d(j,l)}}};d(b,c)}}}();j(a.validation,m);f.rules={};f.rules.required={validator:function(a,b){var c;if(void 0===a||null===a)return!b;c=a;"string"==typeof a&&(c=String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/g,""));return b?(c+"").length>0:!0},message:"This field is required."};f.rules.min={validator:c("min"),message:"Please enter a value greater than or equal to {0}."};f.rules.max={validator:c("max"),message:"Please enter a value less than or equal to {0}."};f.rules.minLength={validator:function(a,b){if(f.utils.isEmptyVal(a))return!0;var c=f.utils.isNumber(a)?""+a:a;return c.length>=b},message:"Please enter at least {0} characters."};f.rules.maxLength={validator:function(a,b){if(f.utils.isEmptyVal(a))return!0;var c=f.utils.isNumber(a)?""+a:a;return c.length<=b},message:"Please enter no more than {0} characters."};f.rules.pattern={validator:function(a,b){return f.utils.isEmptyVal(a)||null!==a.toString().match(b)},message:"Please check this value."};f.rules.step={validator:function(a,b){if(f.utils.isEmptyVal(a)||"any"===b)return!0;var c=100*a%(100*b);return Math.abs(c)<1e-5||Math.abs(1-c)<1e-5},message:"The value must increment by {0}."};f.rules.email={validator:function(a,b){return b?f.utils.isEmptyVal(a)||b&&/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a):!0},message:"Please enter a proper email address."};f.rules.date={validator:function(a,b){return b?f.utils.isEmptyVal(a)||b&&!/Invalid|NaN/.test(new Date(a)):!0},message:"Please enter a proper date."};f.rules.dateISO={validator:function(a,b){return b?f.utils.isEmptyVal(a)||b&&/^\d{4}[-\/](?:0?[1-9]|1[012])[-\/](?:0?[1-9]|[12][0-9]|3[01])$/.test(a):!0},message:"Please enter a proper date."};f.rules.number={validator:function(a,b){return b?f.utils.isEmptyVal(a)||b&&/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a):!0},message:"Please enter a number."};f.rules.digit={validator:function(a,b){return b?f.utils.isEmptyVal(a)||b&&/^\d+$/.test(a):!0},message:"Please enter a digit."};f.rules.phoneUS={validator:function(a,b){if(!b)return!0;if(f.utils.isEmptyVal(a))return!0;if("string"!=typeof a)return!1;a=a.replace(/\s+/g,"");return b&&a.length>9&&a.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},message:"Please specify a valid phone number."};f.rules.equal={validator:function(a,b){var c=b;return a===f.utils.getValue(c)},message:"Values must equal."};f.rules.notEqual={validator:function(a,b){var c=b;return a!==f.utils.getValue(c)},message:"Please choose another value."};f.rules.unique={validator:function(a,b){var c=f.utils.getValue(b.collection),d=f.utils.getValue(b.externalValue),e=0;if(!a||!c)return!0;g.arrayFilter(c,function(c){a===(b.valueAccessor?b.valueAccessor(c):c)&&e++});return(d?1:2)>e},message:"Please make sure the value is unique."};!function(){f.registerExtenders()}();a.bindingHandlers.validationCore=function(){return{init:function(b,c,d,e,g){var h=f.utils.getConfigOptions(b),i=c();h.parseInputAttributes&&f.utils.async(function(){f.parseInputValidationAttributes(b,c)});if(h.insertMessages&&f.utils.isValidatable(i)){var j=f.insertValidationMessage(b);h.messageTemplate?a.renderTemplate(h.messageTemplate,{field:i},null,j,"replaceNode"):a.applyBindingsToNode(j,{validationMessage:i})}h.writeInputAttributes&&f.utils.isValidatable(i)&&f.writeInputValidationAttributes(b,c);h.decorateInputElement&&f.utils.isValidatable(i)&&a.applyBindingsToNode(b,{validationElement:i})}}}();f.makeBindingHandlerValidatable("value");f.makeBindingHandlerValidatable("checked");a.bindingHandlers.textInput&&f.makeBindingHandlerValidatable("textInput");f.makeBindingHandlerValidatable("selectedOptions");a.bindingHandlers.validationMessage={update:function(b,c){var d=c(),e=f.utils.getConfigOptions(b),i=(h(d),!1),j=!1;if(null===d||"undefined"==typeof d)throw new Error("Cannot bind validationMessage to undefined value. data-bind expression: "+b.getAttribute("data-bind"));i=d.isModified&&d.isModified();j=d.isValid&&d.isValid();var k=null;(!e.messagesOnModified||i)&&(k=j?null:d.error);var l=!e.messagesOnModified||i?!j:!1,m="none"!==b.style.display;e.allowHtmlMessages?g.setHtml(b,k):a.bindingHandlers.text.update(b,function(){return k});m&&!l?b.style.display="none":!m&&l&&(b.style.display="")}};a.bindingHandlers.validationElement={update:function(b,c,d){var e=c(),g=f.utils.getConfigOptions(b),i=(h(e),!1),j=!1;if(null===e||"undefined"==typeof e)throw new Error("Cannot bind validationElement to undefined value. data-bind expression: "+b.getAttribute("data-bind"));i=e.isModified&&e.isModified();j=e.isValid&&e.isValid();var k=function(){var a={},b=!g.decorateElementOnModified||i?!j:!1;a[g.errorElementClass]=b;return a};a.bindingHandlers.css.update(b,k,d);g.errorsAsTitle&&a.bindingHandlers.attr.update(b,function(){var a=!g.errorsAsTitleOnModified||i,c=f.utils.getOriginalElementTitle(b);return a&&!j?{title:e.error,"data-orig-title":c}:!a||j?{title:c,"data-orig-title":null}:void 0})}};a.bindingHandlers.validationOptions=function(){return{init:function(a,b,c,d,e){var g=h(b());if(g){var i=j({},f.configuration);j(i,g);f.utils.setDomData(a,i)}}}}();a.extenders.validation=function(a,b){i(f.utils.isArray(b)?b:[b],function(b){f.addAnonymousRule(a,b)});return a};a.extenders.validatable=function(b,c){f.utils.isObject(c)||(c={enable:c});"enable"in c||(c.enable=!0);if(c.enable&&!f.utils.isValidatable(b)){var d=f.configuration.validate||{},e={throttleEvaluation:c.throttle||d.throttle};b.error=a.observable(null);b.rules=a.observableArray();b.isValidating=a.observable(!1);b.__valid__=a.observable(!0);b.isModified=a.observable(!1);b.isValid=a.computed(b.__valid__);b.setError=function(a){var c=b.error.peek(),d=b.__valid__.peek();b.error(a);b.__valid__(!1);c===a||d||b.isValid.notifySubscribers()};b.clearError=function(){b.error(null);b.__valid__(!0);return b};var g=b.subscribe(function(){b.isModified(!0)}),h=a.computed(j({read:function(){b(),b.rules();f.validateObservable(b);return!0}},e));j(h,e);b._disposeValidation=function(){b.isValid.dispose();b.rules.removeAll();g.dispose();h.dispose();delete b.rules;delete b.error;delete b.isValid;delete b.isValidating;delete b.__valid__;delete b.isModified;delete b.setError;delete b.clearError;delete b._disposeValidation}}else c.enable===!1&&b._disposeValidation&&b._disposeValidation();return b};f.validateObservable=function(a){for(var b,c,g=0,h=a.rules(),i=h.length;i>g;g++){c=h[g];if(!c.condition||c.condition()){b=c.rule?f.rules[c.rule]:c;if(b.async||c.async)e(a,b,c);else if(!d(a,b,c))return!1}}a.clearError();return!0};var n,o={};f.defineLocale=function(a,b){if(a&&b){o[a.toLowerCase()]=b;return b}return null};f.locale=function(a){if(a){a=a.toLowerCase();if(!o.hasOwnProperty(a))throw new Error("Localization "+a+" has not been loaded.");f.localize(o[a]);n=a}return n};f.localize=function(a){var b=f.rules;for(var c in a)b.hasOwnProperty(c)&&(b[c].message=a[c])};!function(){var a={},b=f.rules;for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c].message);f.defineLocale("en-us",a)}();n="en-us";a.applyBindingsWithValidation=function(b,c,d){var e,g=document.body;if(c&&c.nodeType){g=c;e=d}else e=c;f.init();if(e){e=j(j({},f.configuration),e);f.utils.setDomData(g,e)}a.applyBindings(b,g)};var p=a.applyBindings;a.applyBindings=function(a,b){f.init();p(a,b)};a.validatedObservable=function(b,c){if(!c&&!f.utils.isObject(b))return a.observable(b).extend({validatable:!0});var d=a.observable(b);d.errors=f.group(f.utils.isObject(b)?b:{},c);d.isValid=a.observable(0===d.errors().length);a.isObservable(d.errors)?d.errors.subscribe(function(a){d.isValid(0===a.length)}):a.computed(d.errors).subscribe(function(a){d.isValid(0===a.length)});d.subscribe(function(a){f.utils.isObject(a)||(a={});d.errors._updateState(a);d.isValid(0===d.errors().length)});return d}});define("viewmodels/modalConstants",[],function(){return new ModalConstants});var ModalConstants=function(){function a(){this.cancelHeading="Login declined";this.cancelBody="<p>Your login request was declined. Try again.</p>";this.timeoutHeading="Login timeout";this.timeoutBody="<p>Your login request has timed out. Try again.</p>";this.redirectToMyGovHeading="myGovID is different to myGov"}return a}();define("viewmodels/login",["knockout","jquery","bootstrap","knockout-validation","common/utils","common/logger","common/routes","model/persistedState","model/sessionState","model/staticConfig","viewmodels/modalConstants","services/sessionServices"],function(){return Login});var Login=function(){function a(){var a=this;this.ko=require("knockout");this.logger=require("common/logger");this.state=require("model/persistedState");this.session=require("model/sessionState");this.services=require("services/sessionServices");this.routes=require("common/routes");this.staticConfig=require("model/staticConfig");this.errorCodes=require("model/errorCodes");this.consts=require("viewmodels/modalConstants");this.helpUrl=this.staticConfig.helpUrl;this.windowsUrl=this.staticConfig.windowsUrl;this.canActivate=function(b){a.reset();a.logger.log("Activating login page","login.canActivate",null,!1);a.name(a.state.lastUsername);a.rememberMe(Utils.observableHasValue(a.name));Utils.enableValidation(a.name);return!0};this.compositionComplete=function(){Utils.resizeLogo();if(a.session.errorMessage)switch(a.session.errorMessage.code){case a.errorCodes.accountNotFound.code:a.serviceError(a.session.errorMessage);a.session.errorMessage=null}Utils.loadTooltips()};this.submit=function(){if(a.submitEnabled()){a.serviceError(null);a.session.username=a.name().trim();a.session.rememberMe=a.rememberMe();a.routes.loginRequest.navigate()}};this.cancelAuth=function(){Utils.setError(ErrorMessage.fromCode(a.errorCodes.userCancel,ErrorType.authentication_cancelled));return a.routes.complete.navigate()};this.displayRedirectionModal=function(){return a.showMyGovRedirection(!0)};this.cancelMyGovRedirection=function(){return a.showMyGovRedirection(!1)};this.nameChanged=function(){a.ariaInvalid(a.name.isValid()?"false":"true");a.errList([]);a.errList.push(1)};this.reset=function(){a.name("");a.rememberMe(!1)};var b=this.ko;b.validation.rules.msEmailRule={validator:function(a,c){return b.validation.rules.pattern.validator($.trim(a.toLowerCase()),c)}};b.validation.registerExtenders();this.submitEnabled=b.pureComputed(function(){return a.name.isValid()});this.submitText=b.observable("Login");this.rememberMe=b.observable();this.showMyGovRedirection=b.observable();this.name=b.observable().extend({required:!0,deferValidation:!1,maxLength:255,msEmailRule:{message:"Email appears incorrect or may contain an invalid character, review your details or enter a new email",params:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/}});this.name.subscribe(this.nameChanged);this.myGovUrl=b.observable(this.staticConfig.myGovUrl);this.appStoreUrl=b.observable(this.staticConfig.appStoreUrl);this.googlePlayUrl=b.observable(this.staticConfig.googlePlayUrl);this.showAppStoreUrl=b.computed(function(){return a.appStoreUrl()&&""!==a.appStoreUrl()});this.showGooglePlayUrl=b.computed(function(){return a.googlePlayUrl()&&""!==a.googlePlayUrl()});this.serviceError=b.observable();this.showServiceError=b.pureComputed(function(){return Utils.observableHasValue(a.serviceError)});this.ariaInvalid=this.ko.observable();this.errList=this.ko.observableArray([1])}return a}();define("viewmodels/loginRequest",["signalRCore","knockout","common/utils","common/logger","common/routes","model/persistedState","model/sessionState","model/authRequestPayload","model/errorType","model/errorMessage","model/errorCodes","model/staticConfig","viewmodels/modalConstants","services/sessionServices"],function(){return LoginRequest});var LoginRequest=function(){function a(){var a=this;this.ko=require("knockout");this.logger=require("common/logger");this.state=require("model/persistedState");this.session=require("model/sessionState");this.services=require("services/sessionServices");this.routes=require("common/routes");this.staticConfig=require("model/staticConfig");this.errorCodes=require("model/errorCodes");this.consts=require("viewmodels/modalConstants");this.canActivate=function(){a.state.lastUsername&&a.previousUser(!0);return!0};this.compositionComplete=function(){Utils.resizeLogo();if(a.session.rememberMe){a.state.lastUsername=a.session.username;a.state.save()}else a.session.isTempUser||a.state.resetRememberMe();a.login()};this.cancelErrorDialog=function(){a.routes.login.navigate()};this.cancel=function(){a.currentCancelationToken(!0);a.services.updateAuthRequest("cancel");a.routes.login.navigate()};this.login=function(){var b=(require("signalRCore"),Utils.randomFourDigit()),c=a.ko.observable(!1);a.currentCancelationToken=c;a.services.createAuthNotifier(c).then(function(d){return a.services.createAuthRequest(a.session.username.trim(),a.session.rememberMe,b,c).then(function(){a.refCode(b);return a.services.getAuthRespose(a.session.rememberMe,b,c,d).then(function(b){switch(b.result){case ResultType.Success:return a.routes.complete.navigate();case ResultType.Cancel:return a.showCancelDialog(!0);case ResultType.Timeout:return a.showTimeoutDialog(!0);case ResultType.TechnicalError:return Utils.navigateToErrorPage(ErrorMessage.fromCode(a.errorCodes.technicalError,ErrorType.server_error));default:return Utils.navigateToErrorPage(ErrorMessage.fromCode(a.errorCodes.unknownResponse,ErrorType.server_error))}})})})["catch"](function(b){var d=require("model/sessionState"),e=d.hubConnection;e&&e.stop();c()||a.handleErrorMessage(b)}).done()};this.handleErrorMessage=function(b){var c;switch(b.code){case a.errorCodes.responseNotFound.code:a.services.updateAuthRequest("timeout");return a.showTimeoutDialog(!0);case a.errorCodes.sessionTimeout.code:return a.session.showSessionExpiredDialog(!0);case a.errorCodes.accountNotFound.code:Utils.setError(b);return a.routes.login.navigate();case a.errorCodes.accountUnavailable.code:case a.errorCodes.loginHintNotFound.code:case a.errorCodes.accountMismatch.code:case a.errorCodes.activeRequestExists.code:c=ErrorType.access_denied;break;default:c=ErrorType.server_error}b.errorType=c;return Utils.navigateToErrorPage(b)};var b=this.ko;this.refCode=b.observable();this.firstTimeUser=b.pureComputed(function(){return!a.previousUser()});this.previousUser=b.observable();this.showCancelDialog=b.observable();this.showTimeoutDialog=b.observable()}return a}();define("viewmodels/sendCode",["common/routes","common/routes","model/sessionState"],function(){return SendCode});var SendCode=function(){function a(){var a=this;this.ko=require("knockout");this.session=require("model/sessionState");this.routes=require("common/routes");this.cancel=function(){a.routes.changeUser.navigate()};this.submit=function(){a.routes.loginRequest.navigate()};this.canActivate=function(){return!0};this.compositionComplete=function(){Utils.resizeLogo()};this.username=this.ko.observable(this.session.username)}return a}();define("viewmodels/shell",["knockout","common/modal","plugins/router","common/logger","knockout","common/routes","signalRCore","model/sessionState","model/errorCodes","services/sessionServices","common/utils"],function(){return Shell});var Shell=function(){function a(){var a=this;this.logger=require("common/logger");this.routes=require("common/routes");this.errorCodes=require("model/errorCodes");this.session=require("model/sessionState");this.router=require("plugins/router");this.sessionExpiredCancel=function(){Utils.setError(ErrorMessage.fromCode(a.errorCodes.sessionTimeout,ErrorType.access_denied));a.routes.complete.navigate()};this.theme=this.session.theme;this.showSessionExpiredDialog=this.session.showSessionExpiredDialog}a.prototype.activate=function(){var a=require("knockout");this.logger.log("SPA activated","shell.activate",null,!1);a.bindingHandlers.modal=require("common/modal");this.routes.mapAll();return this.router.activate()};a.prototype.attached=function(){};return a}();define("text",["module"],function(a){"use strict";var b,c,d,e,f,g=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],h=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,i=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,j="undefined"!=typeof location&&location.href,k=j&&location.protocol&&location.protocol.replace(/\:/,""),l=j&&location.hostname,m=j&&(location.port||void 0),n={},o=a.config&&a.config()||{};b={version:"2.0.12",strip:function(a){if(a){a=a.replace(h,"");var b=a.match(i);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:o.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=g[b];try{a=new ActiveXObject(c)}catch(d){}if(a){g=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");if(-1!==f&&(!g||f>1)){b=a.substring(0,f);c=a.substring(f+1,a.length)}else b=a;d=c||b;f=d.indexOf("!");if(-1!==f){e="strip"===d.substring(f+1);d=d.substring(0,f);c?c=d:b=d}return{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h,i=b.xdRegExp.exec(a);if(!i)return!0;f=i[2];g=i[3];g=g.split(":");h=g[1];g=g[0];return!(f&&f!==c||g&&g.toLowerCase()!==d.toLowerCase()||(h||g)&&h!==e)},finishLoad:function(a,c,d,e){d=c?b.strip(d):d;o.isBuild&&(n[a]=d);e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)d();else{o.isBuild=e&&e.isBuild;var f=b.parseName(a),g=f.moduleName+(f.ext?"."+f.ext:""),h=c.toUrl(g),i=o.useXhr||b.useXhr;0!==h.indexOf("empty:")?!j||i(h,k,l,m)?b.get(h,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([g],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)}):d()}},write:function(a,c,d,e){if(n.hasOwnProperty(c)){var f=b.jsEscape(n[c]);d.asModule(a+"!"+c,"define(function () { return '"+f+"';});\n")}},writeFile:function(a,c,d,e,f){var g=b.parseName(c),h=g.ext?"."+g.ext:"",i=g.moduleName+h,j=d.toUrl(g.moduleName+h)+".js";b.load(i,d,function(c){var d=function(a){return e(j,a)};d.asModule=function(a,b){return e.asModule(a,j,b)};b.write(a,i,d,f)},f)}};if("node"===o.env||!o.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]){c=require.nodeRequire("fs");b.get=function(a,b,d){try{var e=c.readFileSync(a,"utf8");0===e.indexOf("\ufeff")&&(e=e.substring(1));b(e)}catch(f){d&&d(f)}}}else if("xhr"===o.env||!o.env&&b.createXhr())b.get=function(a,c,d,e){var f,g=b.createXhr();g.open("GET",a,!0);if(e)for(f in e)e.hasOwnProperty(f)&&g.setRequestHeader(f.toLowerCase(),e[f]);o.onXhr&&o.onXhr(g,a);g.onreadystatechange=function(b){var e,f;if(4===g.readyState){e=g.status||0;if(e>399&&600>e){f=new Error(a+" HTTP status: "+e);f.xhr=g;d&&d(f)}else c(g.responseText);o.onXhrComplete&&o.onXhrComplete(g,a)}};g.send(null)};else if("rhino"===o.env||!o.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)b.get=function(a,b){var c,d,e="utf-8",f=new java.io.File(a),g=java.lang.System.getProperty("line.separator"),h=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(f),e)),i="";try{c=new java.lang.StringBuffer;d=h.readLine();d&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1));null!==d&&c.append(d);for(;null!==(d=h.readLine());){c.append(g);c.append(d)}i=String(c.toString())}finally{h.close()}b(i)};else if("xpconnect"===o.env||!o.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces){
d=Components.classes;e=Components.interfaces;Components.utils["import"]("resource://gre/modules/FileUtils.jsm");f="@mozilla.org/windows-registry-key;1"in d;b.get=function(a,b){var c,g,h,i={};f&&(a=a.replace(/\//g,"\\"));h=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(e.nsIFileInputStream);c.init(h,1,0,!1);g=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(e.nsIConverterInputStream);g.init(c,"utf-8",c.available(),e.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER);g.readString(c.available(),i);g.close();c.close();b(i.value)}catch(j){throw new Error((h&&h.path||"")+": "+j)}}}return b});define("text!views/changeUser.html",[],function(){return'<section id="content" class="main">\r\n    <form role="form">\r\n        <div class="feature-box-stripe mygovid-lighter-div">\r\n            <section class="feature-box layout-content-box">\r\n                <div class="container-fluid">\r\n                    <fieldset>\r\n                        <div class="row mygovid-row">\r\n                            <div class="mygovid-panel">\r\n                                <div class="page-header" aria-labelledby="page-header">\r\n                                    <h1 id="page-header"><span class="mygovid-highlight-word">Change</span> user</h1>\r\n                                </div>\r\n\r\n                                <p class="under-header">Are you sure you want to change user?</p>\r\n                                <p class="light under-header">This will remove your saved email address and pre-fill details when you login next time.</p>\r\n                             \r\n                                <div class="form-actions">\r\n                                    <button type="button" class="btn btn-link mygovid-btn-link" data-bind="click: no" title="Cancel">Cancel</button>\r\n                                    <button type="submit" class="btn mygovid-btn-primary pull-right" data-bind="click: yes" title="Continue">Continue</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </form>\r\n</section>\r\n'});define("text!views/error.html",[],function(){return'<div data-bind="widget: {kind:\'errors\', serviceError: serviceError}"> </div>\r\n\r\n<button type="submit" class="btn btn-primary" title="Continue" data-bind="visible: showContinue, click: submit">\r\n    Continue\r\n</button>\r\n'});define("text!views/landing.html",[],function(){return""});define("text!views/login.html",[],function(){return'<section id="content" class="main">\r\n    <form role="form" data-bind="submit: submit">\r\n        <div class="feature-box-stripe mygovid-lighter-div">\r\n            <section class="feature-box layout-content-box">\r\n                <div class="container-fluid">\r\n                    <fieldset>\r\n                        <div class="row mygovid-row">\r\n                            <div class="mygovid-panel">\r\n                                <div class="page-sub-header" aria-labelledby="page-header">\r\n                                    <h2 id="page-sub-header"><span class="mygovid-highlight-word">Get the</span> <span class="mygovid-white-word">myGovID app</span></h2>\r\n                                </div>\r\n                                <p>\r\n                                    Prove who you are and get a code to login with the myGovID app.\r\n                                    <br/>\r\n                                    Download the app now to get started.\r\n                                    <div class="instructions downloadlink-img" style="padding-top: 8px;" data-bind="visible: showAppStoreUrl() || showGooglePlayUrl()"><a href="/" target="_blank" data-bind="attr:{href:appStoreUrl},visible:showAppStoreUrl()"><img class="downloadlink-img" src="images/app_store.png" alt="Download myGovID app" /></a><a href="/" target="_blank" data-bind="attr:{href:googlePlayUrl},visible:showGooglePlayUrl()"><img class="downloadlink-img downloadlink-img-right" src="images/google_play.png" alt="Download myGovID app" /></a></div>\r\n                                </p>\r\n                                <div class="flex-container">\r\n                                    <div class="iphone-img"><img class="iphone-img" src="images/mygovid-thumbprint.png" alt="myGovId app">\r\n                                    </div>\r\n                                    <ol class="instructions">\r\n                                        <li class="instructions title">What\'s next?</li>\r\n                                        <li class="instructions firstItem item">Download the app</li>\r\n                                        <li class="instructions">Prove who you are</li>\r\n                                        <li class="instructions">Come back and login</li>\r\n                                    </ol>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n            </section>\r\n        </div>\r\n        <div class="feature-box-stripe">\r\n            <section class="feature-box layout-content-box">\r\n                <div class="container-fluid">\r\n                    <fieldset>\r\n                        <div class="row mygovid-row">\r\n                            <div class="mygovid-login-panel">\r\n                                <div class="page-sub-header" aria-labelledby="page-header">\r\n                                    <h2 id="page-sub-header"><span class="mygovid-highlight-word">Already have the</span> <span class="mygovid-white-word">myGovID app?</span></h2>\r\n                                </div>\r\n                                <p>\r\n                                    Login with your myGovID email to continue.\r\n                                </p>\r\n                                <br/>\r\n                                <div data-bind="widget: {kind:\'errors\', serviceError: serviceError, dataIcon: \'x\'}, visible: showServiceError"> </div>\r\n                                <div>\r\n                                    <div class="view-desktop input-group">\r\n                                        <input required id="usernameInput" type="text" autocorrect="off" spellcheck="false" class="form-control" placeholder="myGovID email"\r\n                                               aria-labelledby="usernameInputLabel"\r\n                                               data-bind="validationOptions: {insertMessages: false}, textInput: name, attr:{\'aria-invalid\': ariaInvalid}, enterkey: submit"\r\n                                               aria-live="assertive" aria-atomic="true"/>\r\n\r\n                                        <span class="span-desktop input-group-btn">\r\n                                            <button type="submit" class="btn pull-right mygovid-btn-primary" data-bind="text:submitText, enable:submitEnabled" title="Submit"></button>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="div-mobile">\r\n                                    <button type="submit" class="btn mygovid-btn-primary-mobile" data-bind="text:submitText, enable:submitEnabled" title="Submit"></button>\r\n                                </div>\r\n\r\n                                <div id="usernameInputError" data-bind=" foreach: errList">\r\n                                    <label aria-live="polite" aria-atomic="true"><span class="icon icon-error error" data-bind="validationMessage: $parent.name"></span></label>\r\n                                </div>\r\n                                <div class="form-group checkbox declaration">\r\n                                    <input id="rememberMeInput" class="form-control" type="checkbox" data-bind="checked: rememberMe"/>\r\n                                    <label id="rememberMeLabel" for="rememberMeInput" class="icon icon-tick">Remember me</label>\r\n                                    <button id="cancelAuth" type="button" class="btn btn-link mygovid-btn-link pull-right" data-bind="click: cancelAuth" title="Cancel">Cancel</button>\r\n                                </div>\r\n                                <div tabindex="0" class="myGovButton" data-bind="click: displayRedirectionModal">\r\n                                    <div>myGovID is different to </div>\r\n                                    <img class="" src="images/mygovlogo.png" alt="myGov" style="width: 84px;">\r\n                                    <span class="icon icon-arrow-right" style="float: right;"></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </form>\r\n</section>\r\n<div data-bind="widget: {kind: \'myGovModal\', heading: consts.redirectToMyGovHeading, cancelClick: cancelMyGovRedirection, cancelTitle: \'Dismiss\', showModal: showMyGovRedirection, myGovUrl: myGovUrl()}"></div>\r\n'});define("text!views/loginRequest.html",[],function(){return'<section id="content" class="main">\r\n    <form role="form">\r\n        <div class="feature-box-stripe mygovid-lighter-div">\r\n            <section class="feature-box layout-content-box">\r\n                <div class="container-fluid">\r\n                    <fieldset>\r\n                        <div class="row mygovid-row">\r\n                            <div class="mygovid-panel">\r\n                                <div class="flex-container">\r\n                                    <div><img class="accept-code" src="images/mygovid_sentcode.png" alt="Accept code with myGovID app"></div>\r\n                                    <ol>\r\n                                        <li>Open myGovID on your phone</li>\r\n                                        <li>Accept or enter the code</li>                                                                             \r\n                                        <li class="ref-code"><span class="sentcode" data-bind="text:refCode"></span><span class="loading"></span><span class="wait">Waiting...</span></li>\r\n                                        <li>Come back</li>\r\n                                    </ol>\r\n                                </div>                               \r\n                                <button id="cancelRequest" type="button" class="btn btn-link mygovid-btn-link" title="Cancel" data-bind="click: cancel">Cancel</button>                            \r\n                            </div>                                                       \r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </form>\r\n</section>\r\n\r\n<div data-bind="widget: {kind: \'twoOptionModal\', heading: consts.cancelHeading, okClick: login, okTitle: \'Try again\', cancelClick: cancelErrorDialog, cancelTitle: \'Cancel\', showModal: showCancelDialog, body: consts.cancelBody}"></div>\r\n<div data-bind="widget: {kind: \'twoOptionModal\', heading: consts.timeoutHeading, okClick: login, okTitle: \'Try again\', cancelClick: cancelErrorDialog, cancelTitle: \'Cancel\', showModal: showTimeoutDialog, body: consts.timeoutBody}"></div>\r\n'});define("text!views/sendCode.html",[],function(){return'<section id="content" class="main">\r\n    <form role="form">\r\n        <div class="feature-box-stripe mygovid-lighter-div">\r\n            <section class="feature-box layout-content-box">\r\n                <div class="container-fluid">\r\n                    <fieldset>\r\n                        <div class="row mygovid-row">\r\n                            <div class="mygovid-panel">\r\n                                <div class="page-header" aria-labelledby="page-header">\r\n                                    <h1 id="page-header"><span class="mygovid-highlight-word">Welcome</span> back</h1>\r\n                                </div>\r\n                              \r\n                                <p class="light under-header">You are being logged in as <b><span id="username" data-bind="text:username"></span></b></p>\r\n                                <p class="under-header changeUser">Not you? <a id="changeUserLink" href="#changeUser">Change user</a></p>                              \r\n                                <div class="form-actions">\r\n                                    <button id="cancelSendCode" type="button" class="btn btn-link mygovid-btn-link" aria-label="Cancel" title="Cancel" data-bind="click: cancel">Cancel</button>\r\n                                    <button type="submit" class="btn mygovid-btn-primary pull-right" aria-label="Continue" title="Continue" data-bind="click: submit">Continue</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </form>\r\n</section>\r\n'});define("text!views/shell.html",[],function(){return'<nav class="navbar navbar navbar-default mygovid-header">\r\n    <div class="container-fluid">\r\n        <div style="display: flex;justify-content: center;">\r\n            <div id="mygovid-header-logo" class="navbar-brand" title="Australian Government" aria-label="Australian Government" style="width: 15em;">\r\n                <div class="sr-only">Australian Government</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</nav>\r\n\r\n<script id="errorMessageTemplate" type="text/html">\r\n    <span data-bind="if: field.isModified() && !field.isValid() ">\r\n        <span class="icon icon-error error" data-bind="text: field.error"></span>\r\n    </span>\r\n</script>\r\n\r\n<section id="content" class="main" role="main">\r\n    <div class="page-host" data-bind="router: { }">\r\n        <div id="ATOProgressBar" style="position:fixed;left:0px;top:0px;width:100%;height:100%;z-index:999;">\r\n            <table width="100%" height="100%">\r\n                <tr>\r\n                    <td valign="center">\r\n                        <div class="splash centerprogressbar" style="padding-left:30px;padding-right:30px;opacity:1.2;">\r\n                            <div class="progress progress-striped active">\r\n                                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="100" aria-valuemax="100" style="width:100%; min-height:2rem;">\r\n                                    <span>Loading</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<footer id="Footer" class="footer mygovidfooter" role="contentinfo">\r\n    <div class="container">\r\n        <div class="row">\r\n            <div class="col-xs-12 col-sm-12 col-md-12">\r\n                <p>myGovID is a new way to prove your identity and login online.</p>\r\n                <p><a href="https://www.mygovid.gov.au" target="_blank">Visit myGovID</a> to find out more.</p>\r\n            </div>            \r\n        </div>\r\n    </div>\r\n</footer>\r\n\r\n<div class="modal fade" tabindex="-1" role="dialog" aria-labelledby="modal_header" aria-describedby="modal_desc" aria-modal="true" data-bind="modal:showSessionExpiredDialog" data-backdrop="static" data-keyboard="false">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bind="click: sessionExpiredCancel"><span title="Cancel" aria-hidden="true">×</span></button>\r\n                <h3 id="modal_header">Session expired</h3>\r\n            </div>\r\n            <div class="modal-body" id="modal_desc">\r\n                <div>\r\n                    <p>For security reasons and to protect your personal data, your session expired after 60 minutes of inactivity.</p>\r\n                    <p>You will need to start again, select continue to proceed.</p>\r\n                </div>\r\n            </div>\r\n            <div class="modal-footer text-center">\r\n                <button type="submit" class="btn btn-primary" data-dismiss="modal" aria-label="Continue" title="Continue" data-bind="click: sessionExpiredCancel">Continue</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n'});define("text!widgets/Alerts/view.html",[],function(){return'<!-- ko if: data -->\r\n<div data-bind="attr: getAttributes()">\r\n    <!-- ko if: Title -->\r\n        <h4 data-bind="attr: { id: \'title\' }, html: Title" ></h4>\r\n    <!-- /ko -->\r\n    <!-- ko if: Description -->\r\n        <p data-bind="attr: { id: \'description\' }, html: Description" />\r\n    <!-- /ko -->\r\n\r\n</div>\r\n<!-- /ko -->'});define("common/Logger",["require","durandal/system"],function(a){"use strict";function b(a,b,c,d){var e=0;a&&(e|=l.logLevels.ERROR);b&&(e|=l.logLevels.WARNING);c&&(e|=l.logLevels.INFO);d&&(e|=l.logLevels.DEBUG);k.level=e}function c(a){return 0!==(k.level^a)}function d(a,b){e(a);i(a,b,null,l.logLevels.ERROR)}function e(a){}function f(a,b,d){if(!a)throw new Error("logger.logWarning: called with empty message");if(!b)throw new Error("logger.logWarning: called with empty source");c(l.logLevels.WARNING)&&i(a,b,d,l.logLevels.WARNING)}function g(a,b,d){if(!a)throw new Error("logger.logInfo: called with empty message");if(!b)throw new Error("logger.logInfo: called with empty source");c(l.logLevels.INFO)&&i(a,b,d,l.logLevels.INFO)}function h(a,b,d){if(!a)throw new Error("logger.logDebug: called with empty message");if(!b)throw new Error("logger.logDebug: called with empty source");c(l.logLevels.DEBUG)&&i(a,b,JSON.stringify(d),l.logLevels.DEBUG)}function i(a,b,c,d){b=b?"["+b+"] ":"";c?j.log(b,a,c):j.log(b,a)}var j=a("durandal/system"),k={level:0},l={logLevels:{ERROR:1,WARNING:2,INFO:4,DEBUG:8},setLogLevel:b,logError:d,logWarning:f,logInfo:g,logDebug:h,log:i,traceAlert:e,"-private":k};return l});define("widgets/Alerts/viewmodel",["jquery","knockout","common/Logger"],function(a,b,c){"use strict";var d=function(){};d.prototype.activate=function(c){var d=this;this.data=c.data;this["class"]=c["class"];this.Title="";this.Description="";this.Level="";if(c.data){this.Title=c.data.Title;this.Description=c.data.Description;this.Level=c.data.Level}this.getAttributes=e;this.wasVisible=!1;this.isVisible=b.computed(function(){return null!=d.result},this);this.isVisible.subscribe(function(b){!d.wasVisible&&b&&window.setTimeout(function(){var b=a("#"+d.id),c=b.find("a:first");c.length>0?c.focus():b.focus()},400);d.wasVisible=b})};var e=function(){var a=null;switch(this.Level){case"Danger":a={"class":"alert alert-block alert-danger","data-icon":"d",role:"alert","aria-live":"assertive"};break;case"Error":a={"class":"alert alert-block alert-danger","data-icon":"W",role:"alert","aria-live":"assertive"};break;case"Success":a={"class":"alert alert-block alert-success","data-icon":"t",role:"alert","aria-live":"assertive"};break;case"Warning":a={"class":"alert alert-block alert-warning","data-icon":"w",role:"alert","aria-live":"polite"};break;case"Information":a={"class":"alert alert-block alert-info","data-icon":"i",role:"alert","aria-live":"polite"}}a&&this["class"]&&(a["class"]+=" "+this["class"]);return a};return d});define("text!widgets/errors/view.html",[],function(){return'<div>\r\n    <div id="serviceErrors">\r\n        <div class="alert alert-block alert-danger" data-bind="attr:{\'data-icon\': dataIcon}" role="alert" aria-labelledby="serviceErrorTitle" aria-describedby="serviceErrorDescription">\r\n            <h4 id="serviceErrorTitle" data-bind="html: serviceErrorTitle"></h4>\r\n            <div id="serviceErrorDescription" data-bind="html: serviceErrorDescription">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'});define("widgets/errors/viewmodel",["knockout","model/sessionState"],function(){return ErrorWidgetViewModel});var ErrorWidgetViewModel=function(){function a(){var a=this;this.activate=function(b){require("knockout");if(b.serviceError){b.serviceError.subscribe(function(b){a.serviceErrorTitleText(b?b.title:null);a.serviceErrorDescription(b?b.description:null)});a.dataIcon(b.dataIcon||"d");if(b.serviceError()){a.serviceErrorTitleText(b.serviceError().title);a.serviceErrorDescription(b.serviceError().description)}}};var b=require("knockout");this.serviceErrorTitleText=b.observable();this.serviceErrorTitle=b.computed(function(){return'<span class="sr-only">Error</span>'+a.serviceErrorTitleText()});this.serviceErrorDescription=b.observable();this.dataIcon=b.observable()}return a}();define("text!widgets/myGovModal/view.html",[],function(){return'<div>\r\n    <div class="modal fade" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-modal="true"\r\n         data-bind="modal:showModal, attr:{\'aria-labelledby\':dialogId() + \'_label\', \'aria-describedby\': dialogId() + \'_desc\'}">\r\n        <div class="modal-dialog">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bind="click: cancel, visible:showCancel"><span data-bind="attr:{\'title\': cancelTitle}" aria-hidden="true">×</span></button>\r\n                    <h2 data-bind="text:heading, attr:{id: dialogId() + \'_label\'}"></h2>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <div data-bind="attr:{id: dialogId() + \'_desc\'}">\r\n                        <div class="row">\r\n                            <div class="col-xs-12 col-md-6 col-lg-6">\r\n                                <div><img src="images/mygovid_app_logo.png" alt="myGovID icon" style="height: 71px; width: 143px;"></div>\r\n                                <h3>myGovID</h3>\r\n                                <p>Your myGovID lets you prove who you are when using government online services.</p>\r\n                            </div>\r\n                            <div class="col-xs-12 col-md-6 col-lg-6">\r\n                                <div><img src="images/mygov_app_logo.png" alt="myGov icon" style="height: 71px; width: 71px;"></div>\r\n                                <h3>myGov</h3>\r\n                                <p>Your myGov account lets you select and link to government online services from the one place.</p>\r\n                                <p><a href="#" data-bind="click: goToMyGov,visible: showMyGovUrl()" rel="external">Visit myGov <span class="icon icon-external-link"><span class="sr-only">Link opens in new window</span></span></a></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="submit" class="btn btn-primary" data-dismiss="modal" data-bind="attr:{title: cancelTitle, \'aria-label\': cancelTitle}, text: cancelTitle, click: cancel, visible:showCancel"></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'});define("widgets/myGovModal/viewmodel",["knockout","common/utils"],function(){return MyGovModalViewModel});var MyGovModalViewModel=function(){function a(){var a=this;this.cancel=function(){if(a.settings){a.settings.showModal(!1);a.settings.cancelClick&&a.settings.cancelClick()}};this.ok=function(){a.settings&&a.settings.showModal(!1)};this.goToMyGov=function(){a.settings.showModal(!1);window.open(a.settings.myGovUrl,"myGov")};this.activate=function(b){if(b.showModal&&b.cancelTitle){b.showModal.subscribe(a.showModal);a.settings=b;a.cancelTitle(b.cancelTitle);a.myGovUrl(b.myGovUrl);a.heading(b.heading);a.showMyGovUrl(a.myGovUrl()&&""!==a.myGovUrl())}};var b=require("knockout");this.cancelTitle=b.observable();this.myGovUrl=b.observable();this.heading=b.observable();this.showModal=b.observable();this.showMyGovUrl=b.observable();this.dialogId=b.pureComputed(function(){return Utils.random(1,1e5).toString()});this.showCancel=b.pureComputed(function(){return Utils.observableHasValue(a.cancelTitle)})}return a}();define("text!widgets/progressbar/view.html",[],function(){return'<div>\r\n    <div id="ATOProgressBar">\r\n        <div class="splash centerprogressbar" style="padding-left:0px;padding-right:0px;opacity:1.2;">\r\n            <div class="progress progress-striped active">\r\n                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="100" aria-valuemax="100" style="width:100%; min-height:2rem;">\r\n                    <span data-bind="text: title"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'});define("widgets/progressbar/viewmodel",["knockout"],function(){return ProgressBar});var ProgressBar=function(){function a(){var a=this;this.activate=function(b){a.title(b.title)};var b=require("knockout");this.title=b.observable()}return a}();define("text!widgets/twoOptionModal/view.html",[],function(){return'<div>\r\n    <div class="modal fade" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" aria-modal="true"\r\n         data-bind="modal:showModal, attr:{\'aria-labelledby\':dialogId() + \'_label\', \'aria-describedby\': dialogId() + \'_desc\'}">\r\n        <div class="modal-dialog">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close" data-bind="click: cancel, visible:showCancel"><span data-bind="attr:{\'title\': cancelTitle}" aria-hidden="true">×</span></button>\r\n                    <h3 data-bind="text:heading, attr:{id: dialogId() + \'_label\'}"></h3>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <div data-bind="html:body, attr:{id: dialogId() + \'_desc\'}"></div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-default" data-dismiss="modal" data-bind="attr:{title: cancelTitle, \'aria-label\': cancelTitle}, text: cancelTitle, click: cancel, visible:showCancel"></button>\r\n                    <button type="submit" class="btn btn-primary" data-bind="attr:{title: okTitle, \'arial-label\': okTitle}, text: okTitle, click: ok, visible: showOk"></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'});define("widgets/twoOptionModal/viewmodel",["knockout","common/utils"],function(){return TwoOptionModalViewModel});var TwoOptionModalViewModel=function(){function a(){var a=this;this.cancel=function(){if(a.settings){a.settings.showModal(!1);a.settings.cancelClick&&a.settings.cancelClick()}};this.ok=function(){if(a.settings){a.settings.showModal(!1);a.settings.okClick&&a.settings.okClick()}};this.activate=function(b){if(b.showModal&&(b.okTitle||b.cancelTitle)){b.showModal.subscribe(a.showModal);a.settings=b;a.okTitle(b.okTitle);a.cancelTitle(b.cancelTitle);a.heading(b.heading);a.body(b.body)}};var b=require("knockout");this.okTitle=b.observable();this.cancelTitle=b.observable();this.heading=b.observable();this.showModal=b.observable();this.body=b.observable();this.dialogId=b.pureComputed(function(){return Utils.random(1,1e5).toString()});this.showOk=b.pureComputed(function(){return Utils.observableHasValue(a.okTitle)});this.showCancel=b.pureComputed(function(){return Utils.observableHasValue(a.cancelTitle)})}return a}();define("plugins/dialog",["durandal/system","durandal/app","durandal/composition","durandal/activator","durandal/viewEngine","jquery","knockout"],function(a,b,c,d,e,f,g){function h(b){return a.defer(function(c){a.isString(b)?a.acquire(b).then(function(b){c.resolve(a.resolveObject(b))}).fail(function(c){a.error("Failed to load dialog module ("+b+"). Details: "+c.message)}):c.resolve(b)}).promise()}var i,j={},k=g.observable(0),l=function(a,b,c,d,e){this.message=a;this.title=b||l.defaultTitle;this.options=c||l.defaultOptions;this.autoclose=d||!1;this.settings=f.extend({},l.defaultSettings,e)};l.prototype.selectOption=function(a){i.close(this,a)};l.prototype.getView=function(){return e.processMarkup(l.defaultViewMarkup)};l.setViewUrl=function(a){delete l.prototype.getView;l.prototype.viewUrl=a};l.defaultTitle=b.title||"Application";l.defaultOptions=["Ok"];l.defaultSettings={buttonClass:"btn btn-default",primaryButtonClass:"btn-primary autofocus",secondaryButtonClass:"","class":"modal-content messageBox",style:null};l.setDefaults=function(a){f.extend(l.defaultSettings,a)};l.prototype.getButtonClass=function(a){var b="";if(this.settings){this.settings.buttonClass&&(b=this.settings.buttonClass);if(0===a()&&this.settings.primaryButtonClass){b.length>0&&(b+=" ");b+=this.settings.primaryButtonClass}if(a()>0&&this.settings.secondaryButtonClass){b.length>0&&(b+=" ");b+=this.settings.secondaryButtonClass}}return b};l.prototype.getClass=function(){return this.settings?this.settings["class"]:"messageBox"};l.prototype.getStyle=function(){return this.settings?this.settings.style:null};l.prototype.getButtonText=function(b){var c=f.type(b);if("string"===c)return b;if("object"===c){if("string"===f.type(b.text))return b.text;a.error("The object for a MessageBox button does not have a text property that is a string.");return null}a.error("Object for a MessageBox button is not a string or object but "+c+".");return null};l.prototype.getButtonValue=function(b){var c=f.type(b);if("string"===c)return b;if("object"===c){if("undefined"===f.type(b.text)){a.error("The object for a MessageBox button does not have a value property defined.");return null}return b.value}a.error("Object for a MessageBox button is not a string or object but "+c+".");return null};l.defaultViewMarkup=['<div data-view="plugins/messageBox" data-bind="css: getClass(), style: getStyle()">','<div class="modal-header">','<h3 data-bind="html: title"></h3>',"</div>",'<div class="modal-body">','<p class="message" data-bind="html: message"></p>',"</div>",'<div class="modal-footer">',"<!-- ko foreach: options -->",'<button data-bind="click: function () { $parent.selectOption($parent.getButtonValue($data)); }, text: $parent.getButtonText($data), css: $parent.getButtonClass($index)"></button>',"<!-- /ko -->",'<div style="clear:both;"></div>',"</div>","</div>"].join("\n");i={MessageBox:l,currentZIndex:1050,getNextZIndex:function(){return++this.currentZIndex},isOpen:g.computed(function(){return k()>0}),getContext:function(a){return j[a||"default"]},addContext:function(a,b){b.name=a;j[a]=b;var c="show"+a.substr(0,1).toUpperCase()+a.substr(1);this[c]=function(b,c){return this.show(b,c,a)}},createCompositionSettings:function(a,b){var c={model:a,activate:!1,transition:!1};b.binding&&(c.binding=b.binding);b.attached&&(c.attached=b.attached);b.compositionComplete&&(c.compositionComplete=b.compositionComplete);return c},getDialog:function(a){return a?a.__dialog__:void 0},close:function(a){var b=this.getDialog(a);if(b){var c=Array.prototype.slice.call(arguments,1);b.close.apply(b,c)}},show:function(b,e,f){var g=this,i=j[f||"default"];return a.defer(function(a){h(b).then(function(b){var f=d.create();f.activateItem(b,e).then(function(d){if(d){var e=b.__dialog__={owner:b,context:i,activator:f,close:function(){var c=arguments;f.deactivateItem(b,!0).then(function(d){if(d){k(k()-1);i.removeHost(e);delete b.__dialog__;0===c.length?a.resolve():1===c.length?a.resolve(c[0]):a.resolve.apply(a,c);
}})}};e.settings=g.createCompositionSettings(b,i);i.addHost(e);k(k()+1);c.compose(e.host,e.settings)}else a.resolve(!1)})})}).promise()},showMessage:function(b,c,d,e,f){return a.isString(this.MessageBox)?i.show(this.MessageBox,[b,c||l.defaultTitle,d||l.defaultOptions,e||!1,f||{}]):i.show(new this.MessageBox(b,c,d,e,f))},install:function(a){b.showDialog=function(a,b,c){return i.show(a,b,c)};b.closeDialog=function(){return i.close.apply(i,arguments)};b.showMessage=function(a,b,c,d,e){return i.showMessage(a,b,c,d,e)};a.messageBox&&(i.MessageBox=a.messageBox);a.messageBoxView&&(i.MessageBox.prototype.getView=function(){return e.processMarkup(a.messageBoxView)});a.messageBoxViewUrl&&i.MessageBox.setViewUrl(a.messageBoxViewUrl)}};i.addContext("default",{blockoutOpacity:.2,removeDelay:200,addHost:function(a){var b=f("body"),c=f('<div class="modalBlockout"></div>').css({"z-index":i.getNextZIndex(),opacity:this.blockoutOpacity}).appendTo(b),d=f('<div class="modalHost"></div>').css({"z-index":i.getNextZIndex()}).appendTo(b);a.host=d.get(0);a.blockout=c.get(0);if(!i.isOpen()){a.oldBodyMarginRight=b.css("margin-right");a.oldInlineMarginRight=b.get(0).style.marginRight;var e=f("html"),g=b.outerWidth(!0),h=e.scrollTop();f("html").css("overflow-y","hidden");var j=f("body").outerWidth(!0);b.css("margin-right",j-g+parseInt(a.oldBodyMarginRight,10)+"px");e.scrollTop(h)}},removeHost:function(a){f(a.host).css("opacity",0);f(a.blockout).css("opacity",0);setTimeout(function(){g.removeNode(a.host);g.removeNode(a.blockout)},this.removeDelay);if(!i.isOpen()){var b=f("html"),c=b.scrollTop();b.css("overflow-y","").scrollTop(c);a.oldInlineMarginRight?f("body").css("margin-right",a.oldBodyMarginRight):f("body").css("margin-right","")}},attached:function(a){f(a).css("visibility","hidden")},compositionComplete:function(a,b,c){var d=i.getDialog(c.model),e=f(a),g=e.find("img").filter(function(){var a=f(this);return!(this.style.width&&this.style.height||a.attr("width")&&a.attr("height"))});e.data("predefinedWidth",e.get(0).style.width);var h=function(a,b){setTimeout(function(){var c=f(a);b.context.reposition(a);f(b.host).css("opacity",1);c.css("visibility","visible");c.find(".autofocus").first().focus()},1)};h(a,d);g.load(function(){h(a,d)});(e.hasClass("autoclose")||c.model.autoclose)&&f(d.blockout).click(function(){d.close()})},reposition:function(a){var b=f(a),c=f(window);b.data("predefinedWidth")||b.css({width:""});var d=b.outerWidth(!1),e=b.outerHeight(!1),g=c.height()-10,h=c.width()-10,i=Math.min(e,g),j=Math.min(d,h);b.css({"margin-top":(-i/2).toString()+"px","margin-left":(-j/2).toString()+"px"});e>g?b.css("overflow-y","auto").outerHeight(g):b.css({"overflow-y":"",height:""});if(d>h)b.css("overflow-x","auto").outerWidth(h);else{b.css("overflow-x","");b.data("predefinedWidth")?b.css("width",b.data("predefinedWidth")):b.outerWidth(j)}}});return i});define("plugins/http",["jquery","knockout"],function(a,b){return{callbackParam:"callback",toJSON:function(a){return b.toJSON(a)},get:function(c,d,e){return a.ajax(c,{data:d,headers:b.toJS(e)})},jsonp:function(c,d,e,f){if(-1==c.indexOf("=?")){e=e||this.callbackParam;c+=-1==c.indexOf("?")?"?":"&";c+=e+"=?"}return a.ajax({url:c,dataType:"jsonp",data:d,headers:b.toJS(f)})},put:function(c,d,e){return a.ajax({url:c,data:this.toJSON(d),type:"PUT",contentType:"application/json",dataType:"json",headers:b.toJS(e)})},post:function(c,d,e){return a.ajax({url:c,data:this.toJSON(d),type:"POST",contentType:"application/json",dataType:"json",headers:b.toJS(e)})},remove:function(c,d,e){return a.ajax({url:c,data:d,type:"DELETE",headers:b.toJS(e)})}}});define("plugins/observable",["durandal/system","durandal/binder","knockout"],function(a,b,c){function d(a){var b=a[0];return"_"===b||"$"===b||x&&a===x}function e(b){return!(!b||void 0===b.nodeType||!a.isNumber(b.nodeType))}function f(a){if(!a||e(a)||a.ko===c||a.jquery)return!1;var b=o.call(a);return-1==p.indexOf(b)&&!(a===!0||a===!1)}function g(a){var b={};Object.defineProperty(a,"__observable__",{enumerable:!1,configurable:!1,writable:!1,value:b});return b}function h(a,b,c){var d=a.__observable__,e=!0;if(!d||!d.__full__){d=d||g(a);d.__full__=!0;t.forEach(function(c){b[c]=function(){return u[c].apply(a,arguments)}});q.forEach(function(c){a[c]=function(){e=!1;var a=v[c].apply(b,arguments);e=!0;return a}});r.forEach(function(c){a[c]=function(){e&&b.valueWillMutate();var d=u[c].apply(a,arguments);e&&b.valueHasMutated();return d}});s.forEach(function(d){a[d]=function(){for(var f=0,g=arguments.length;g>f;f++)i(arguments[f],c);e&&b.valueWillMutate();var h=u[d].apply(a,arguments);e&&b.valueHasMutated();return h}});a.splice=function(){for(var d=2,f=arguments.length;f>d;d++)i(arguments[d],c);e&&b.valueWillMutate();var g=u.splice.apply(a,arguments);e&&b.valueHasMutated();return g};for(var f=0,h=a.length;h>f;f++)i(a[f],c)}}function i(b,d){var e,i;if(x&&b&&b[x]){d=d?d.slice(0):[];d.push(b[x])}if(f(b)){e=b.__observable__;if(!e||!e.__full__){e=e||g(b);e.__full__=!0;if(a.isArray(b)){var j=c.observableArray(b);h(b,j,d)}else for(var m in b)if(!n(m)&&!e[m]){var o=Object.getPropertyDescriptor(b,m);if(o&&(o.get||o.set))l(b,m,{get:o.get,set:o.set});else{i=b[m];a.isFunction(i)||k(b,m,i,d)}}w&&a.log("Converted",b)}}}function j(a,b,c){if(c)if(b)b.destroyAll||h(b,a);else{b=[];h(b,a)}else i(b);a(b)}function k(b,d,e,f){var k,l,m=b.__observable__||g(b);void 0===e&&(e=b[d]);if(a.isArray(e)){k=c.observableArray(e);h(e,k,f);l=!0}else if("function"==typeof e){if(!c.isObservable(e))return null;k=e}else if(!y&&a.isPromise(e)){k=c.observable();e.then(function(b){if(a.isArray(b)){var d=c.observableArray(b);h(b,d,f);b=d}k(b)})}else{k=c.observable(e);i(e,f)}f&&f.length>0&&f.forEach(function(c){a.isArray(e)?k.subscribe(function(a){c(b,d,null,a)},null,"arrayChange"):k.subscribe(function(a){c(b,d,a,null)})});Object.defineProperty(b,d,{configurable:!0,enumerable:!0,get:k,set:c.isWriteableObservable(k)?function(b){b&&a.isPromise(b)&&!y?b.then(function(b){j(k,b,a.isArray(b))}):j(k,b,l)}:void 0});m[d]=k;return k}function l(b,d,e){var f,g={owner:b,deferEvaluation:!0};if("function"==typeof e)g.read=e;else{"value"in e&&a.error('For defineProperty, you must not specify a "value" for the property. You must provide a "get" function.');"function"!=typeof e.get&&"function"!=typeof e.read&&a.error('For defineProperty, the third parameter must be either an evaluator function, or an options object containing a function called "get".');g.read=e.get||e.read;g.write=e.set||e.write}f=c.computed(g);b[d]=f;return k(b,d,f)}var m,n,o=Object.prototype.toString,p=["[object Function]","[object String]","[object Boolean]","[object Number]","[object Date]","[object RegExp]"],q=["remove","removeAll","destroy","destroyAll","replace"],r=["pop","reverse","sort","shift","slice"],s=["push","unshift"],t=["filter","map","reduce","reduceRight","forEach","every","some"],u=Array.prototype,v=c.observableArray.fn,w=!1,x=void 0,y=!1;if(!("getPropertyDescriptor"in Object)){var z=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf;Object.getPropertyDescriptor=function(a,b){for(var c,d=a;d&&!(c=z(d,b));)d=A(d);return c}}m=function(a,b){var d,e,f;if(!a)return null;d=a.__observable__;if(d){e=d[b];if(e)return e}f=a[b];return c.isObservable(f)?f:k(a,b,f)};m.defineProperty=l;m.convertProperty=k;m.convertObject=i;m.install=function(a){var c=b.binding;b.binding=function(a,b,d){d.applyBindings&&!d.skipConversion&&i(a);c(a,b)};w=a.logConversion;a.changeDetection&&(x=a.changeDetection);y=a.skipPromises;n=a.shouldIgnorePropertyName||d};return m});define("plugins/serializer",["durandal/system"],function(a){return{typeAttribute:"type",space:void 0,replacer:function(a,b){if(a){var c=a[0];if("_"===c||"$"===c)return void 0}return b},serialize:function(b,c){c=void 0===c?{}:c;(a.isString(c)||a.isNumber(c))&&(c={space:c});return JSON.stringify(b,c.replacer||this.replacer,c.space||this.space)},getTypeId:function(a){return a?a[this.typeAttribute]:void 0},typeMap:{},registerType:function(){var b=arguments[0];if(1==arguments.length){var c=b[this.typeAttribute]||a.getModuleId(b);this.typeMap[c]=b}else this.typeMap[b]=arguments[1]},reviver:function(a,b,c,d){var e=c(b);if(e){var f=d(e);if(f)return f.fromJSON?f.fromJSON(b):new f(b)}return b},deserialize:function(a,b){var c=this;b=b||{};var d=b.getTypeId||function(a){return c.getTypeId(a)},e=b.getConstructor||function(a){return c.typeMap[a]},f=b.reviver||function(a,b){return c.reviver(a,b,d,e)};return JSON.parse(a,f)},clone:function(a,b){return this.deserialize(this.serialize(a,b),b)}}});define("plugins/widget",["durandal/system","durandal/composition","jquery","knockout"],function(a,b,c,d){function e(a,c){var e=d.utils.domData.get(a,i);if(!e){e={parts:b.cloneNodes(d.virtualElements.childNodes(a))};d.virtualElements.emptyNode(a);d.utils.domData.set(a,i,e)}c.parts=e.parts}var f={},g={},h=["model","view","kind"],i="durandal-widget-data",j={getSettings:function(b){var c=d.utils.unwrapObservable(b())||{};if(a.isString(c))return{kind:c};for(var e in c)-1!=d.utils.arrayIndexOf(h,e)?c[e]=d.utils.unwrapObservable(c[e]):c[e]=c[e];return c},registerKind:function(a){d.bindingHandlers[a]={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c,d,f,g){var h=j.getSettings(c);h.kind=a;e(b,h);j.create(b,h,g,!0)}};d.virtualElements.allowedBindings[a]=!0;b.composeBindings.push(a+":")},mapKind:function(a,b,c){b&&(g[a]=b);c&&(f[a]=c)},mapKindToModuleId:function(a){return f[a]||j.convertKindToModulePath(a)},convertKindToModulePath:function(a){return"widgets/"+a+"/viewmodel"},mapKindToViewId:function(a){return g[a]||j.convertKindToViewPath(a)},convertKindToViewPath:function(a){return"widgets/"+a+"/view"},createCompositionSettings:function(a,b){b.model||(b.model=this.mapKindToModuleId(b.kind));b.view||(b.view=this.mapKindToViewId(b.kind));b.preserveContext=!0;b.activate=!0;b.activationData=b;b.mode="templated";return b},create:function(a,c,d,e){e||(c=j.getSettings(function(){return c},a));var f=j.createCompositionSettings(a,c);b.compose(a,f,d)},install:function(a){a.bindingName=a.bindingName||"widget";if(a.kinds)for(var c=a.kinds,f=0;f<c.length;f++)j.registerKind(c[f]);d.bindingHandlers[a.bindingName]={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b,c,d,f){var g=j.getSettings(b);e(a,g);j.create(a,g,f,!0)}};b.composeBindings.push(a.bindingName+":");d.virtualElements.allowedBindings[a.bindingName]=!0}};return j});define("transitions/entrance",["durandal/system","durandal/composition","jquery"],function(a,b,c){function d(a,b){a.classList.remove(b?"entrance-in-fade":"entrance-in");a.classList.remove("entrance-out")}var e=100,f={left:"0px",opacity:1},g={left:"",top:"",right:"",bottom:"",position:"",opacity:""},h=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/),i=!1,j="Webkit Moz O ms Khtml".split(" "),k=document.createElement("div");void 0!==k.style.animationName&&(i=!0);if(!i)for(var l=0;l<j.length;l++)if(void 0!==k.style[j[l]+"AnimationName"]){i=!0;break}i?h?a.log("Using CSS3/jQuery mixed animations."):a.log("Using CSS3 animations."):a.log("Using jQuery animations.");var m=function(b){return a.defer(function(a){function j(){a.resolve()}function k(){b.keepScrollPosition||c(document).scrollTop(0)}function l(){k();b.triggerAttach();if(i){d(b.child,o);b.child.classList.add(o?"entrance-in-fade":"entrance-in");setTimeout(function(){d(b.child,o);b.activeView&&d(b.activeView,o);n.css(g);j()},m)}else n.animate(f,{duration:m,easing:"swing",always:function(){n.css(g);j()}})}if(b.child){var m=b.duration||500,n=c(b.child),o=!!b.fadeOnly,p={display:"block",opacity:0,position:"absolute",left:o||i?"0px":"20px",right:0,top:0,bottom:0};n.css(p);if(b.activeView)if(i&&!h){d(b.activeView,o);b.activeView.classList.add("entrance-out");setTimeout(l,e)}else c(b.activeView).fadeOut({duration:e,always:l});else l()}else c(b.activeView).fadeOut(e,j)}).promise()};return m});require(["main"])}();